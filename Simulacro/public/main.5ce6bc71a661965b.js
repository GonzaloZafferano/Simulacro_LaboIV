"use strict";(self.webpackChunkSimulacro=self.webpackChunkSimulacro||[]).push([[179],{3692:(fn,ct,q)=>{q.d(ct,{Ot:()=>Ce,ZF:()=>en,hX:()=>Dt,z6:()=>J});var p=q(259),W=q(8256),K=q(3530);class Ce{constructor(ve){return ve}}class J{constructor(){return(0,p.C6)()}}const It=new W.OlP("angularfire2._apps"),st={provide:Ce,useFactory:function Je(Be){return Be&&1===Be.length?Be[0]:new Ce((0,p.Mq)())},deps:[[new W.FiY,It]]},le={provide:J,deps:[[new W.FiY,It]]};function pe(Be){return(ve,Ke)=>{const mt=ve.runOutsideAngular(()=>Be(Ke));return new Ce(mt)}}let Ae=(()=>{class Be{constructor(Ke){(0,p.KN)("angularfire",K.q4.full,"core"),(0,p.KN)("angularfire",K.q4.full,"app"),(0,p.KN)("angular",W.q4F.full,Ke.toString())}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(W.LFG(W.Lbi))},Be.\u0275mod=W.oAB({type:Be}),Be.\u0275inj=W.cJS({providers:[st,le]}),Be})();function Dt(Be,...ve){return{ngModule:Ae,providers:[{provide:It,useFactory:pe(Be),multi:!0,deps:[W.R0b,W.zs3,K.HU,...ve]}]}}const en=(0,K.u3)(p.ZF,!0)},7187:(fn,ct,q)=>{q.d(ct,{gg:()=>b0,hJ:()=>LA,BS:()=>FA,oe:()=>VA,JU:()=>UA,PL:()=>BA,ad:()=>$A,Cm:()=>kA,pl:()=>jA,r7:()=>HA});var p=q(3530),W=q(8256),K=q(3692),Ce=q(259),J=q(5861),ke=q(2090),Je=q(6881),It=q(655),st=q(1877),le=q(4859);const xn=function en(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new ke.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new st.Yd("@firebase/auth");function mt(n,...e){ve.logLevel<=st.in.ERROR&&ve.error(`Auth (${Je.Jn}): ${n}`,...e)}function je(n,...e){throw Kt(n,...e)}function _t(n,...e){return Kt(n,...e)}function Kt(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return At.create(n,...e)}function Qe(n,e,...t){if(!n)throw Kt(e,...t)}function bt(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mt(e),new Error(e)}function xe(n,e){n||bt(e)}function at(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Pt{constructor(e,t){this.shortDelay=e,this.longDelay=t,xe(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ke.uI)()||(0,ke.b$)()}get(){return function Tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function He(){return"http:"===at()||"https:"===at()}()||(0,ke.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class pt{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new Pt(3e4,6e4);function ht(n,e,t,r){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,J.Z)(function*(n,e,t,r,a={}){return Dn(n,a,(0,J.Z)(function*(){let l={},d={};r&&("GET"===e?d=r:l={body:JSON.stringify(r)});const m=(0,ke.xO)(Object.assign({key:n.config.apiKey},d)).slice(1),b=yield n._getAdditionalHeaders();return b["Content-Type"]="application/json",n.languageCode&&(b["X-Firebase-Locale"]=n.languageCode),pt.fetch()(ni(n,n.config.apiHost,t,m),Object.assign({method:e,headers:b,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function Dn(n,e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,J.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},he),e);try{const a=new er(n),l=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=yield l.json();if("needConfirmation"in d)throw Nr(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const m=l.ok?d.errorMessage:d.error.message,[b,O]=m.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===b)throw Nr(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===b)throw Nr(n,"email-already-in-use",d);if("USER_DISABLED"===b)throw Nr(n,"user-disabled",d);const U=r[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(O)throw function nt(n,e,t){const r=Object.assign(Object.assign({},xn()),{[e]:t});return new ke.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,U,O);je(n,U)}}catch(a){if(a instanceof ke.ZR)throw a;je(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function ni(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?function Ge(n,e){xe(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class er{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_t(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=_t(n,e,r);return a.customData._tokenResponse=t,a}function Vt(){return(Vt=(0,J.Z)(function*(n,e){return ht(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hr(){return(hr=(0,J.Z)(function*(n,e){return ht(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pr(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cn(){return(Cn=(0,J.Z)(function*(n,e=!1){const t=(0,ke.m9)(n),r=yield t.getIdToken(e),a=St(r);Qe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l="object"==typeof a.firebase?a.firebase:void 0,d=l?.sign_in_provider;return{claims:a,token:r,authTime:Pr(ot(a.auth_time)),issuedAtTime:Pr(ot(a.iat)),expirationTime:Pr(ot(a.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(n){return 1e3*Number(n)}function St(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,ke.tV)(t);return a?JSON.parse(a):(mt("Failed to decode base64 JWT payload"),null)}catch(a){return mt("Caught error parsing JWT payload as JSON",a?.toString()),null}}function pn(n,e){return fr.apply(this,arguments)}function fr(){return(fr=(0,J.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ke.ZR&&function Ii({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class bn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,J.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,J.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class ai{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(n){return as.apply(this,arguments)}function as(){return as=(0,J.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),a=yield pn(n,function _r(n,e){return hr.apply(this,arguments)}(t,{idToken:r}));Qe(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const d=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?function Ri(n){return n.map(e=>{var{providerId:t}=e,r=(0,It._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(l.providerUserInfo):[],m=function Hr(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}(n.providerData,d),U=!!n.isAnonymous&&!(n.email&&l.passwordHash||m?.length),ee={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ai(l.createdAt,l.lastLoginAt),isAnonymous:U};Object.assign(n,ee)}),as.apply(this,arguments)}function Zr(){return(Zr=(0,J.Z)(function*(n){const e=(0,ke.m9)(n);yield Zn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function De(){return(De=(0,J.Z)(function*(n,e){const t=yield Dn(n,{},(0,J.Z)(function*(){const r=(0,ke.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,d=ni(n,a,"/v1/token",`key=${l}`),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",pt.fetch()(d,{method:"POST",headers:m,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hn(n){const e=St(n);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,J.Z)(function*(){return Qe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,J.Z)(function*(){const{accessToken:a,refreshToken:l,expiresIn:d}=yield function Er(n,e){return De.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(a,l,Number(d))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,d=new se;return r&&(Qe("string"==typeof r,"internal-error",{appName:e}),d.refreshToken=r),a&&(Qe("string"==typeof a,"internal-error",{appName:e}),d.accessToken=a),l&&(Qe("number"==typeof l,"internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return bt("not implemented")}}function ge(n,e){Qe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ye{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=(0,It._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ai(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,J.Z)(function*(){const r=yield pn(t,t.stsTokenManager.getToken(t.auth,e));return Qe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Kr(n){return Cn.apply(this,arguments)}(this,e)}reload(){return function Vn(n){return Zr.apply(this,arguments)}(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ye(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,J.Z)(function*(){let a=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield Zn(r)),yield r.auth._persistUserIfCurrent(r),a&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,J.Z)(function*(){const t=yield e.getIdToken();return yield pn(e,function Br(n,e){return Vt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,d,m,b,O,U;const ee=null!==(r=t.displayName)&&void 0!==r?r:void 0,Ie=null!==(a=t.email)&&void 0!==a?a:void 0,ze=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,wt=null!==(d=t.photoURL)&&void 0!==d?d:void 0,Ft=null!==(m=t.tenantId)&&void 0!==m?m:void 0,an=null!==(b=t._redirectEventId)&&void 0!==b?b:void 0,$n=null!==(O=t.createdAt)&&void 0!==O?O:void 0,Dr=null!==(U=t.lastLoginAt)&&void 0!==U?U:void 0,{uid:jn,emailVerified:Po,isAnonymous:Bi,providerData:oi,stsTokenManager:Ko}=t;Qe(jn&&Ko,e,"internal-error");const El=se.fromJSON(this.name,Ko);Qe("string"==typeof jn,e,"internal-error"),ge(ee,e.name),ge(Ie,e.name),Qe("boolean"==typeof Po,e,"internal-error"),Qe("boolean"==typeof Bi,e,"internal-error"),ge(ze,e.name),ge(wt,e.name),ge(Ft,e.name),ge(an,e.name),ge($n,e.name),ge(Dr,e.name);const GD=new Ye({uid:jn,auth:e,email:Ie,emailVerified:Po,displayName:ee,isAnonymous:Bi,photoURL:wt,phoneNumber:ze,tenantId:Ft,stsTokenManager:El,createdAt:$n,lastLoginAt:Dr});return oi&&Array.isArray(oi)&&(GD.providerData=oi.map(GA=>Object.assign({},GA))),an&&(GD._redirectEventId=an),GD}static _fromIdTokenResponse(e,t,r=!1){return(0,J.Z)(function*(){const a=new se;a.updateFromServerResponse(t);const l=new Ye({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return yield Zn(l),l})()}}const et=new Map;function X(n){xe(n instanceof Function,"Expected a class definition");let e=et.get(n);return e?(xe(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,et.set(n,e),e)}const oe=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.Z)(function*(){return!0})()}_set(t,r){var a=this;return(0,J.Z)(function*(){a.storage[t]=r})()}_get(t){var r=this;return(0,J.Z)(function*(){const a=r.storage[t];return void 0===a?null:a})()}_remove(t){var r=this;return(0,J.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function be(n,e,t){return`firebase:${n}:${e}:${t}`}class ye{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=be(this.userKey,a.apiKey,l),this.fullPersistenceKey=be("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,J.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ye._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,J.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,J.Z)(function*(){if(!t.length)return new ye(X(oe),e,r);const a=(yield Promise.all(t.map(function(){var O=(0,J.Z)(function*(U){if(yield U._isAvailable())return U});return function(U){return O.apply(this,arguments)}}()))).filter(O=>O);let l=a[0]||X(oe);const d=be(r,e.config.apiKey,e.name);let m=null;for(const O of t)try{const U=yield O._get(d);if(U){const ee=Ye._fromJSON(e,U);O!==l&&(m=ee),l=O;break}}catch{}const b=a.filter(O=>O._shouldAllowMigration);return l._shouldAllowMigration&&b.length?(l=b[0],m&&(yield l._set(d,m.toJSON())),yield Promise.all(t.map(function(){var O=(0,J.Z)(function*(U){if(U!==l)try{yield U._remove(d)}catch{}});return function(U){return O.apply(this,arguments)}}())),new ye(l,e,r)):new ye(l,e,r)})()}}function Mt(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ue(n=(0,ke.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ce(n=(0,ke.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function ut(n=(0,ke.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Rt(n=(0,ke.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function ie(n=(0,ke.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Q(n=(0,ke.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Pe(n=(0,ke.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Wt(n,e=[]){let t;switch(n){case"Browser":t=Mt((0,ke.z$)());break;case"Worker":t=`${Mt((0,ke.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Je.Jn}/${r}`}function On(n,e){return Or.apply(this,arguments)}function Or(){return(Or=(0,J.Z)(function*(n,e){return ht(n,"GET","/v2/recaptchaConfig",function Ze(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function ui(n){return void 0!==n&&void 0!==n.enterprise}class Gr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const kr="NO_RECAPTCHA";class Ds{constructor(e){this.type="recaptcha-enterprise",this.auth=rr(e)}verify(e="verify",t=!1){var r=this;return(0,J.Z)(function*(){function l(){return l=(0,J.Z)(function*(m){if(!t){if(null==m.tenantId&&null!=m._agentRecaptchaConfig)return m._agentRecaptchaConfig.siteKey;if(null!=m.tenantId&&void 0!==m._tenantRecaptchaConfigs[m.tenantId])return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(function(){var b=(0,J.Z)(function*(O,U){On(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ee=>{if(void 0!==ee.recaptchaKey){const Ie=new Gr(ee);return null==m.tenantId?m._agentRecaptchaConfig=Ie:m._tenantRecaptchaConfigs[m.tenantId]=Ie,O(Ie.siteKey)}U(new Error("recaptcha Enterprise site key undefined"))}).catch(ee=>{U(ee)})});return function(O,U){return b.apply(this,arguments)}}())}),l.apply(this,arguments)}function d(m,b,O){const U=window.grecaptcha;ui(U)?U.enterprise.ready(()=>{U.enterprise.execute(m,{action:e}).then(ee=>{b(ee)}).catch(()=>{b(kr)})}):O(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((m,b)=>{(function a(m){return l.apply(this,arguments)})(r.auth).then(O=>{if(!t&&ui(window.grecaptcha))d(O,m,b);else{if(typeof window>"u")return void b(new Error("RecaptchaVerifier is only supported in browser"));(function Is(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=_t("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",function eo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+O).then(()=>{d(O,m,b)}).catch(U=>{b(U)})}}).catch(O=>{b(O)})})})()}}class us{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,m)=>{try{d(e(l))}catch(b){m(b)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,J.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const a of t.queue)yield a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class po{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.beforeStateQueue=new us(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=X(t)),this._initializationPromise=this.queue((0,J.Z)(function*(){var a,l;if(!r._deleted&&(r.persistenceManager=yield ye.create(r,e),!r._deleted)){if(null!==(a=r._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(l=r.currentUser)||void 0===l?void 0:l.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,J.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,J.Z)(function*(){var r;const a=yield t.assertedPersistence.getCurrentUser();let l=a,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const m=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,b=l?._redirectEventId,O=yield t.tryRedirectSignIn(e);(!m||m===b)&&O?.user&&(l=O.user,d=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(l)}catch(m){l=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(m))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return Qe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,J.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,J.Z)(function*(){try{yield Zn(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,J.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,J.Z)(function*(){const r=e?(0,ke.m9)(e):null;return r&&Qe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,J.Z)(function*(){if(!r._deleted)return e&&Qe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,J.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,J.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,J.Z)(function*(){yield t.assertedPersistence.setPersistence(X(e))}))}initializeRecaptchaConfig(){var e=this;return(0,J.Z)(function*(){const t=yield On(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Gr(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Ds(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ke.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,J.Z)(function*(){const a=yield r.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,J.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&X(e)||t._popupRedirectResolver;Qe(r,t,"argument-error"),t.redirectPersistenceManager=yield ye.create(t,[X(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,J.Z)(function*(){var r,a;return t._isInitialized&&(yield t.queue((0,J.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,J.Z)(function*(){if(e===t.currentUser)return t.queue((0,J.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t),d=this._isInitialized?Promise.resolve():this._initializationPromise;return Qe(d,this,"internal-error"),d.then(()=>l(this.currentUser)),"function"==typeof t?e.addObserver(t,r,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,J.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,J.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(r["X-Firebase-Client"]=a);const l=yield e._getAppCheckToken();return l&&(r["X-Firebase-AppCheck"]=l),r})()}_getAppCheckToken(){var e=this;return(0,J.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Ke(n,...e){ve.logLevel<=st.in.WARN&&ve.warn(`Auth (${Je.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function rr(n){return(0,ke.m9)(n)}class Ut{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ke.ne)(t=>this.observer=t)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ts(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Pt(3e4,6e4),new Pt(2e3,1e4),new Pt(3e4,6e4),new Pt(5e3,15e3),encodeURIComponent("fac");var gc="@firebase/auth";class A0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,J.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ke.Pz)("authIdTokenMaxAge"),function tm(n){(0,Je.Xd)(new le.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Qe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name}),Qe(!m?.includes(":"),"argument-error",{appName:r.name});const b={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(n)},O=new po(r,a,l,b);return function sr(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(X);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(O,t),O},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Je.Xd)(new le.wA("auth-internal",e=>{const t=rr(e.getProvider("auth").getImmediate());return new A0(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Je.KN)(gc,"0.23.1",function em(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Je.KN)(gc,"0.23.1","esm2017")}("Browser");class ov{constructor(){return(0,p.vb)("auth")}}const lm=new Map,yv={activated:!1,tokenObservers:[]},K0={initialized:!1,enabled:!1};function Li(n){return lm.get(n)||Object.assign({},yv)}function Vd(){return K0}const cm="https://content-firebaseappcheck.googleapis.com/v1",X0="exchangeDebugToken",Ud={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Bd{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,J.Z)(function*(){t.stop();try{t.pending=new ke.BH,yield function _v(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ke.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fs=new ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ec(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,J.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const ee=yield a.getHeartbeatsHeader();ee&&(r["X-Firebase-Client"]=ee)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(ee){throw Fs.create("fetch-network-error",{originalErrorMessage:ee?.message})}if(200!==d.status)throw Fs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(ee){throw Fs.create("fetch-parse-error",{originalErrorMessage:ee?.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const O=1e3*Number(b[1]),U=Date.now();return{token:m.token,expireTimeMillis:U+O,issuedAtTimeMillis:U}})).apply(this,arguments)}const J0="firebase-app-check-database",eI=1,$d="firebase-app-check-store";let Ml=null;function bv(n,e){return jd.apply(this,arguments)}function jd(){return(jd=(0,J.Z)(function*(n,e){const r=(yield function fm(){return Ml||(Ml=new Promise((n,e)=>{try{const t=indexedDB.open(J0,eI);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Fs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($d,{keyPath:"compositeKey"})}}catch(t){e(Fs.create("storage-open",{originalErrorMessage:t?.message}))}}),Ml)}()).transaction($d,"readwrite"),l=r.objectStore($d).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=b=>{d()},r.onerror=b=>{var O;m(Fs.create("storage-set",{originalErrorMessage:null===(O=b.target.error)||void 0===O?void 0:O.message}))}})})).apply(this,arguments)}const Hd=new st.Yd("@firebase/app-check");function Av(n,e){return(0,ke.hl)()?function tI(n,e){return bv(function Sv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rp(){return ip.apply(this,arguments)}function ip(){return(ip=(0,J.Z)(function*(){const n=Vd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rI={error:"UNKNOWN_ERROR"};function iI(n){return ke.US.encodeString(JSON.stringify(n),!1)}function zd(n){return sp.apply(this,arguments)}function sp(){return(sp=(0,J.Z)(function*(n,e=!1){const t=n.app;!function Ev(n){if(!Li(n).activated)throw Fs.create("use-before-activation",{appName:n.name})}(t);const r=Li(t);let l,a=r.token;if(a&&!_a(a)&&(r.token=void 0,a=void 0),!a){const b=yield r.cachedTokenPromise;b&&(_a(b)?a=b:yield Av(t,void 0))}if(!e&&a&&_a(a))return{token:a.token};let m,d=!1;if(function Gd(){return Vd().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ec(function Dv(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${cm}/projects/${t}/apps/${r}:${X0}?key=${a}`,body:{debug_token:e}}}(t,yield rp()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const b=yield r.exchangeTokenPromise;return yield Av(t,b),r.token=b,{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),a=yield Li(t).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Hd.warn(b.message):Hd.error(b),l=b}return a?l?m=_a(a)?{token:a.token,internalError:l}:Nv(l):(m={token:a.token},r.token=a,yield Av(t,a)):m=Nv(l),d&&function vm(n,e){const t=Li(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function _m(n,e){const t=Li(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function op(n){const{app:e}=n,t=Li(e);let r=t.tokenRefresher;r||(r=function Rv(n){const{app:e}=n;return new Bd((0,J.Z)(function*(){let r;if(r=Li(e).token?yield zd(n,!0):yield zd(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Li(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ud.RETRIAL_MIN_WAIT,Ud.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _a(n){return n.expireTimeMillis-Date.now()>0}function Nv(n){return{token:iI(rI),error:n}}class Em{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Li(this.app);for(const t of e)_m(this.app,t.next);return Promise.resolve()}}const Fv="app-check-internal";!function hI(){(0,Je.Xd)(new le.wA("app-check",n=>function ap(n,e){return new Em(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Fv).initialize()})),(0,Je.Xd)(new le.wA(Fv,n=>function sI(n){return{getToken:e=>zd(n,e),addTokenListener:e=>function Wd(n,e,t,r){const{app:a}=n,l=Li(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&_a(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),op(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>op(n))}(n,"INTERNAL",e),removeTokenListener:e=>_m(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Je.KN)("@firebase/app-check","0.7.0")}();class dp{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window;var Zt,IC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xa={},Uv=Uv||{},kn=IC||self;function Zd(){}function hp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var xm="closure_uid_"+(1e9*Math.random()>>>0),xa=0;function yI(n,e,t){return n.call.apply(n.bind,arguments)}function Bv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function co(n,e,t){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yI:Bv).apply(null,arguments)}function fp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ls(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,a,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[a].apply(r,d)}}function Wu(){this.s=this.s,this.o=this.o}Wu.prototype.s=!1,Wu.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function mI(n){Object.prototype.hasOwnProperty.call(n,xm)&&n[xm]||(n[xm]=++xa)}(this)},Wu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Rm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(hp(r)){const a=n.length||0,l=r.length||0;n.length=a+l;for(let d=0;d<l;d++)n[a+d]=r[d]}else n.push(r)}}function mn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var Gv=function(){if(!kn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kn.addEventListener("test",Zd,e),kn.removeEventListener("test",Zd,e)}catch{}return n}();function Xd(n){return/^[\s\xa0]*$/.test(n)}var Nm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pm(n,e){return n<e?-1:n>e?1:0}function pp(){var n=kn.navigator;return n&&(n=n.userAgent)?n:""}function Ra(n){return-1!=pp().indexOf(n)}function Om(n){return Om[" "](n),n}function km(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Om[" "]=Zd;var Tc,n,_I=Ra("Opera"),Ic=Ra("Trident")||Ra("MSIE"),vI=Ra("Edge"),gp=vI||Ic,Fm=Ra("Gecko")&&!(-1!=pp().toLowerCase().indexOf("webkit")&&!Ra("Edge"))&&!(Ra("Trident")||Ra("MSIE"))&&!Ra("Edge"),Ol=-1!=pp().toLowerCase().indexOf("webkit")&&!Ra("Edge");function zv(){var n=kn.document;return n?n.documentMode:void 0}e:{var Jd="",Lm=(n=pp(),Fm?/rv:([^\);]+)(\)|;)/.exec(n):vI?/Edge\/([\d\.]+)/.exec(n):Ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ol?/WebKit\/(\S+)/.exec(n):_I?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lm&&(Jd=Lm?Lm[1]:""),Ic){var Wv=zv();if(null!=Wv&&Wv>parseFloat(Jd)){Tc=String(Wv);break e}}Tc=Jd}var TC={},CC=kn.document&&Ic&&(zv()||parseInt(Tc,10))||void 0;function eh(n,e){if(mn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fm){e:{try{Om(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Dc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eh.$.h.call(this)}}Ls(eh,mn);var Dc={2:"touch",3:"pen",4:"mouse"};eh.prototype.h=function(){eh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var th="closure_listenable_"+(1e6*Math.random()|0),qv=0;function mp(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=a,this.key=++qv,this.fa=this.ia=!1}function yp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function _p(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Kv(n){const e={};for(const t in n)e[t]=n[t];return e}const Yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qv(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<Yv.length;l++)t=Yv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vp(n){this.src=n,this.g={},this.h=0}function Bm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=jv(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(yp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ep(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return a}return-1}vp.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Ep(n,e,r,a);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new mp(e,this.src,l,!!r,a)).ia=t,n.push(e)),e};var $m="closure_lm_"+(1e6*Math.random()|0),wp={};function jm(n,e,t,r,a){if(r&&r.once)return Tp(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)jm(n,e[l],t,r,a);return null}return t=Gm(t),n&&n[th]?n.O(e,t,wc(r)?!!r.capture:!!r,a):Ip(n,e,t,!1,r,a)}function Ip(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var d=wc(a)?!!a.capture:!!a,m=Hm(n);if(m||(n[$m]=m=new vp(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function bC(){const e=Jv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gv||(a=d),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(kl(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Tp(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Tp(n,e[l],t,r,a);return null}return t=Gm(t),n&&n[th]?n.P(e,t,wc(r)?!!r.capture:!!r,a):Ip(n,e,t,!0,r,a)}function Zv(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Zv(n,e[l],t,r,a);else r=wc(r)?!!r.capture:!!r,t=Gm(t),n&&n[th]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ep(l=n.g[e],t,r,a))&&(yp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Hm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ep(e,t,r,a)),(t=-1<n?e[n]:null)&&Xv(t))}function Xv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[th])Bm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kl(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Hm(e))?(Bm(t,n),0==t.h&&(t.src=null,e[$m]=null)):yp(n)}}}function kl(n){return n in wp?wp[n]:wp[n]="on"+n}function Jv(n,e){if(n.fa)n=!0;else{e=new eh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Xv(n),n=t.call(r,e)}return n}function Hm(n){return(n=n[$m])instanceof vp?n:null}var Dp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gm(n){return"function"==typeof n?n:(n[Dp]||(n[Dp]=function(e){return n.handleEvent(e)}),n[Dp])}function Vs(){Wu.call(this),this.i=new vp(this),this.S=this,this.J=null}function rs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new mn(e,n);else if(e instanceof mn)e.target=e.target||n;else{var a=e;Qv(e=new mn(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];a=Du(d,r,!0,e)&&a}if(a=Du(d=e.g=n,r,!0,e)&&a,a=Du(d,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Du(d=e.g=t[l],r,!1,e)&&a}function Du(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.fa&&d.capture==t){var m=d.listener,b=d.la||d.src;d.ia&&Bm(n.i,d),a=!1!==m.call(b,r)&&a}}return a&&!r.defaultPrevented}Ls(Vs,Wu),Vs.prototype[th]=!0,Vs.prototype.removeEventListener=function(n,e,t,r){Zv(this,n,e,t,r)},Vs.prototype.N=function(){if(Vs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yp(t[r]);delete n.g[e],n.h--}}this.J=null},Vs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vs.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nh=kn.JSON.stringify;function rh(){var n=nE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sh,ih=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eE,n=>n.reset());class eE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wm(n){kn.setTimeout(()=>{throw n},0)}function Cp(n,e){sh||function tE(){var n=kn.Promise.resolve(void 0);sh=function(){n.then(EI)}}(),oh||(sh(),oh=!0),nE.add(n,e)}var oh=!1,nE=new class zm{constructor(){this.h=this.g=null}add(e,t){const r=ih.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function EI(){for(var n;n=rh();){try{n.h.call(n.g)}catch(t){Wm(t)}var e=ih;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oh=!1}function ah(n,e){Vs.call(this),this.h=n||1,this.g=e||kn,this.j=co(this.qb,this),this.l=Date.now()}function qm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bp(n,e,t){if("function"==typeof n)t&&(n=co(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=co(n.handleEvent,n)}return 2147483647<Number(e)?-1:kn.setTimeout(n,e||0)}function Km(n){n.g=bp(()=>{n.g=null,n.i&&(n.i=!1,Km(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ls(ah,Vs),(Zt=ah.prototype).ga=!1,Zt.T=null,Zt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rs(this,"tick"),this.ga&&(qm(this),this.start()))}},Zt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zt.N=function(){ah.$.N.call(this),qm(this),delete this.g};class wI extends Wu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Km(this)}N(){super.N(),this.g&&(kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uh(n){Wu.call(this),this.h=n,this.g={}}Ls(uh,Wu);var Go=[];function rE(n,e,t,r){Array.isArray(t)||(t&&(Go[0]=t.toString()),t=Go);for(var a=0;a<t.length;a++){var l=jm(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function iE(n){_p(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xv(e)},n),n.g={}}function Ym(){this.g=!0}function Cc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function TI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<a.length;d++)a[d]=""}}}return nh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}uh.prototype.N=function(){uh.$.N.call(this),iE(this)},uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ym.prototype.Ea=function(){this.g=!1},Ym.prototype.info=function(){};var qu={},oE=null;function Sp(){return oE=oE||new Vs}function Ap(n){mn.call(this,qu.Ta,n)}function lh(n){const e=Sp();rs(e,new Ap(e))}function aE(n,e){mn.call(this,qu.STAT_EVENT,n),this.stat=e}function Ao(n){const e=Sp();rs(e,new aE(e,n))}function uE(n,e){mn.call(this,qu.Ua,n),this.size=e}function ch(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kn.setTimeout(function(){n()},e)}qu.Ta="serverreachability",Ls(Ap,mn),qu.STAT_EVENT="statevent",Ls(aE,mn),qu.Ua="timingevent",Ls(uE,mn);var ra={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zm(){}function Xm(){}Zm.prototype.h=null;var hh,dh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jm(){mn.call(this,"d")}function ey(){mn.call(this,"c")}function xp(){}function fh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new uh(this),this.P=Rp,this.V=new ah(n=gp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}Ls(Jm,mn),Ls(ey,mn),Ls(xp,Zm),xp.prototype.g=function(){return new XMLHttpRequest},xp.prototype.i=function(){return{}},hh=new xp;var Rp=45e3,bc={},ty={};function gh(n,e,t){n.L=1,n.v=Op(Cu(e)),n.s=t,n.S=!0,DI(n,null)}function DI(n,e){n.G=Date.now(),Sc(n),n.A=Cu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mE(t.i,"t",r),n.C=0,t=n.l.I,n.h=new ph,n.g=Ty(n.l,t?e:null,!n.s),0<n.O&&(n.M=new wI(co(n.Pa,n,n.g),n.O)),rE(n.U,n.g,"readystatechange",n.nb),e=n.I?Kv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),lh(),function Qm(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),b=0;b<m.length;b++){var O=m[b].split("=");if(1<O.length){var U=O[0];O=O[1];var ee=U.split("_");d=2<=ee.length&&"type"==ee[1]?d+(U+"=")+O+"&":d+(U+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ny(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ry(n,e,t){let a,r=!0;for(;!n.J&&n.C<t.length;){if(a=cE(n,t),a==ty){4==e&&(n.o=4,Ao(14),r=!1),Cc(n.j,n.m,null,"[Incomplete Response]");break}if(a==bc){n.o=4,Ao(15),Cc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Cc(n.j,n.m,a,null),Fl(n,a)}ny(n)&&a!=ty&&a!=bc&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ao(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),kc(e),e.L=!0,Ao(11))):(Cc(n.j,n.m,t,"[Invalid Chunked Response]"),Ja(n),Ku(n))}function cE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ty:(t=Number(e.substring(t,r)),isNaN(t)?bc:(r+=1)+t>e.length?ty:(e=e.substr(r,t),n.C=r+t,e))}function Sc(n){n.Y=Date.now()+n.P,Np(n,n.P)}function Np(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ch(co(n.lb,n),e)}function va(n){n.B&&(kn.clearTimeout(n.B),n.B=null)}function Ku(n){0==n.l.H||n.J||wy(n.l,n)}function Ja(n){va(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,qm(n.V),iE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Fl(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Mc(t.h,n)))if(!n.K&&Mc(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ch(t),Vp(t)}Ey(t),Ao(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=ch(co(t.ib,t),6e3));if(1>=xI(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Xu(t,11)}else if((n.K||t.g==n)&&Ch(t),!Xd(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let O=a[e];if(t.V=O[0],O=O[1],2==t.H)if("c"==O[0]){t.J=O[1],t.oa=O[2];const U=O[3];null!=U&&(t.qa=U,t.j.info("VER="+t.qa));const ee=O[4];null!=ee&&(t.Ga=ee,t.j.info("SVER="+t.Ga));const Ie=O[5];null!=Ie&&"number"==typeof Ie&&0<Ie&&(t.K=r=1.5*Ie,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ze=n.g;if(ze){const wt=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var l=r.h;l.g||-1==wt.indexOf("spdy")&&-1==wt.indexOf("quic")&&-1==wt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(cy(l,l.h),l.h=null))}if(r.F){const Ft=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ft&&(r.Da=Ft,Ei(r.G,r.F,Ft))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=$p(r,r.I?r.oa:null,r.Y),d.K){EE(r.h,d);var m=d,b=r.K;b&&m.setTimeout(b),m.B&&(va(m),Sc(m)),r.g=d}else Up(r);0<t.i.length&&Oc(t)}else"stop"!=O[0]&&"close"!=O[0]||Xu(t,7);else 3==t.H&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?Xu(t,7):Lp(t):"noop"!=O[0]&&t.l&&t.l.Aa(O),t.A=0)}lh()}catch{}}function iy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dE(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function CI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}(Zt=fh.prototype).setTimeout=function(n){this.P=n},Zt.nb=function(n){n=n.target;const e=this.M;e&&3==iu(n)?e.l():this.Pa(n)},Zt.Pa=function(n){try{if(n==this.g)e:{const U=iu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>U)&&(3!=U||gp||this.g&&(this.h.h||this.g.ja()||my(this.g)))){this.J||4!=U||7==e||lh(),va(this);var t=this.g.da();this.aa=t;t:if(ny(this)){var r=my(this.g);n="";var a=r.length,l=4==iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ja(this),Ku(this);var d="";break t}this.h.i=new kn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function sE(n,e,t,r,a,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.W,U,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xd(m)){var O=m;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,Ao(12),Ja(this),Ku(this);break e}Cc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fl(this,t)}this.S?(ry(this,U,d),gp&&this.i&&3==U&&(rE(this.U,this.V,"tick",this.mb),this.V.start())):(Cc(this.j,this.m,d,null),Fl(this,d)),4==U&&Ja(this),this.i&&!this.J&&(4==U?wy(this.l,this):(this.i=!1,Sc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),Ja(this),Ku(this)}}}catch{}},Zt.mb=function(){if(this.g){var n=iu(this.g),e=this.g.ja();this.C<e.length&&(va(this),ry(this,n,e),this.i&&4!=n&&Sc(this))}},Zt.cancel=function(){this.J=!0,Ja(this)},Zt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function II(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lh(),Ao(17)),Ja(this),this.o=2,Ku(this)):Np(this,this.Y-n)};var hE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Na){this.h=void 0!==e?e:n.h,sy(this,n.j),this.s=n.s,this.g=n.g,Pp(this,n.m),this.l=n.l,e=n.i;var t=new _h;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fE(this,t),this.o=n.o}else n&&(t=String(n).match(hE))?(this.h=!!e,sy(this,t[1]||"",!0),this.s=mh(t[2]||""),this.g=mh(t[3]||"",!0),Pp(this,t[4]),this.l=mh(t[5]||"",!0),fE(this,t[6]||"",!0),this.o=mh(t[7]||"")):(this.h=!!e,this.i=new _h(null,this.h))}function Cu(n){return new Na(n)}function sy(n,e,t){n.j=t?mh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fE(n,e,t){e instanceof _h?(n.i=e,function yE(n,e){e&&!n.j&&(Yu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(pE(this,r),mE(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yh(e,uy)),n.i=new _h(e,n.h))}function Ei(n,e,t){n.i.set(e,t)}function Op(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Na.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yh(e,oy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yh(e,oy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yh(t,"/"==t.charAt(0)?AI:ay,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yh(t,MI)),n.join("")};var oy=/[#\/\?@]/g,ay=/[#\?:]/g,AI=/[#\?]/g,uy=/[#\?@]/g,MI=/#/g;function _h(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yu(n){n.g||(n.g=new Map,n.h=0,n.i&&function bI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pE(n,e){Yu(n),e=Ac(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function gE(n,e){return Yu(n),e=Ac(n,e),n.g.has(e)}function mE(n,e,t){pE(n,e),0<t.length&&(n.i=null,n.g.set(Ac(n,e),Rm(t)),n.h+=t.length)}function Ac(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vE(n){this.l=n||SC,n=kn.PerformanceNavigationTiming?0<(n=kn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kn.g&&kn.g.Ka&&kn.g.Ka()&&kn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Zt=_h.prototype).add=function(n,e){Yu(this),this.i=null,n=Ac(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Zt.forEach=function(n,e){Yu(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},Zt.sa=function(){Yu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let l=0;l<a.length;l++)t.push(e[r])}return t},Zt.Z=function(n){Yu(this);let e=[];if("string"==typeof n)gE(this,n)&&(e=e.concat(this.g.get(Ac(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Zt.set=function(n,e){return Yu(this),this.i=null,gE(this,n=Ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Zt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var a=l;""!==d[r]&&(a+="="+encodeURIComponent(String(d[r]))),n.push(a)}}return this.i=n.join("&")};var SC=10;function ly(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xI(n){return n.h?1:n.g?n.g.size:0}function Mc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cy(n,e){n.g?n.g.add(e):n.h=e}function EE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kp(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Rm(n.i)}function dy(){}function eu(){this.g=new dy}function vh(n,e,t){const r=t||"";try{iy(n,function(a,l){let d=a;wc(a)&&(d=nh(a)),e.push(r+l+"="+encodeURIComponent(d))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function tu(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function Qu(n){this.l=n.fc||null,this.j=n.ob||!1}function Mo(n,e){Vs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Eh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vE.prototype.cancel=function(){if(this.i=kp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dy.prototype.stringify=function(n){return kn.JSON.stringify(n,void 0)},dy.prototype.parse=function(n){return kn.JSON.parse(n,void 0)},Ls(Qu,Zm),Qu.prototype.g=function(){return new Mo(this.l,this.j)},Qu.prototype.i=function(n){return function(){return n}}({}),Ls(Mo,Vs);var Eh=0;function Ll(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function nu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ru(n)}function ru(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Zt=Mo.prototype).open=function(n,e){if(this.readyState!=Eh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ru(this)},Zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||kn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nu(this)),this.readyState=Eh},Zt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof kn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ll(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Zt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nu(this):ru(this),3==this.readyState&&Ll(this)}},Zt.Za=function(n){this.g&&(this.response=this.responseText=n,nu(this))},Zt.Ya=function(n){this.g&&(this.response=n,nu(this))},Zt.ka=function(){this.g&&nu(this)},Zt.setRequestHeader=function(n,e){this.v.append(n,e)},Zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xc=kn.JSON.parse;function ei(n){Vs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vl,this.L=this.M=!1}Ls(ei,Vs);var Vl="",Rc=/^https?$/i,Nc=["POST","PUT"];function hy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fy(n),wh(n)}function fy(n){n.F||(n.F=!0,rs(n,"complete"),rs(n,"error"))}function py(n){if(n.h&&typeof Uv<"u"&&(!n.C[1]||4!=iu(n)||2!=n.da()))if(n.v&&4==iu(n))bp(n.La,0,n);else if(rs(n,"readystatechange"),4==iu(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var a=String(n.I).match(hE)[1]||null;if(!a&&kn.self&&kn.self.location){var l=kn.self.location.protocol;a=l.substr(0,l.length-1)}r=!Rc.test(a?a.toLowerCase():"")}t=r}if(t)rs(n,"complete"),rs(n,"success");else{n.m=6;try{var d=2<iu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",fy(n)}}finally{wh(n)}}}function wh(n,e){if(n.g){gy(n);const t=n.g,r=n.C[0]?Zd:null;n.g=null,n.C=null,e||rs(n,"ready");try{t.onreadystatechange=r}catch{}}}function gy(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(kn.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function my(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Vl:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yy(n){let e="";return _p(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Fp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ei(n,e,t))}function Ih(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wE(n){this.Ga=0,this.i=[],this.j=new Ym,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ih("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ih("baseRetryDelayMs",5e3,n),this.hb=Ih("retryDelaySeedMs",1e4,n),this.eb=Ih("forwardChannelMaxRetries",2,n),this.xa=Ih("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new vE(n&&n.concurrentRequestLimit),this.Ja=new eu,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Lp(n){if(_y(n),3==n.H){var e=n.W++,t=Cu(n.G);Ei(t,"SID",n.J),Ei(t,"RID",e),Ei(t,"TYPE","terminate"),Zu(n,t),(e=new fh(n,n.j,e,void 0)).L=2,e.v=Op(Cu(t)),t=!1,kn.navigator&&kn.navigator.sendBeacon&&(t=kn.navigator.sendBeacon(e.v.toString(),"")),!t&&kn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ty(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sc(e)}Iy(n)}function Vp(n){n.g&&(kc(n),n.g.cancel(),n.g=null)}function _y(n){Vp(n),n.u&&(kn.clearTimeout(n.u),n.u=null),Ch(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kn.clearTimeout(n.m),n.m=null)}function Oc(n){ly(n.h)||n.m||(n.m=!0,Cp(n.Na,n),n.C=0)}function IE(n,e){var t;t=e?e.m:n.W++;const r=Cu(n.G);Ei(r,"SID",n.J),Ei(r,"RID",t),Ei(r,"AID",n.V),Zu(n,r),n.o&&n.s&&Fp(r,n.o,n.s),t=new fh(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=Th(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cy(n.h,t),gh(t,r,e)}function Zu(n,e){n.ma&&_p(n.ma,function(t,r){Ei(e,r,t)}),n.l&&iy({},function(t,r){Ei(e,r,t)})}function Th(n,e,t){t=Math.min(n.i.length,t);var r=n.l?co(n.l.Va,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=a[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let O=a[b].h;const U=a[b].g;if(O-=l,0>O)l=Math.max(0,a[b].h-100),m=!1;else try{vh(U,d,"req"+O+"_")}catch{r&&r(U)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function Up(n){n.g||n.u||(n.ba=1,Cp(n.Ma,n),n.A=0)}function Ey(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ch(co(n.Ma,n),Bp(n,n.A)),n.A++,0))}function kc(n){null!=n.B&&(kn.clearTimeout(n.B),n.B=null)}function Dh(n){n.g=new fh(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Cu(n.wa);Ei(e,"RID","rpc"),Ei(e,"SID",n.J),Ei(e,"CI",n.M?"0":"1"),Ei(e,"AID",n.V),Ei(e,"TYPE","xmlhttp"),Zu(n,e),n.o&&n.s&&Fp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Op(Cu(e)),t.s=null,t.S=!0,DI(t,n)}function Ch(n){null!=n.v&&(kn.clearTimeout(n.v),n.v=null)}function wy(n,e){var t=null;if(n.g==e){Ch(n),kc(n),n.g=null;var r=2}else{if(!Mc(n.h,e))return;t=e.F,EE(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;rs(r=Sp(),new uE(r,t)),Oc(n)}else Up(n);else if(3==(a=e.o)||0==a&&0<n.ta||!(1==r&&function vy(n,e){return!(xI(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ch(co(n.Na,n,e),Bp(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ey(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Xu(n,5);break;case 4:Xu(n,10);break;case 3:Xu(n,6);break;default:Xu(n,2)}}function Bp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Xu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=co(n.pb,n);t||(t=new Na("//www.google.com/images/cleardot.gif"),kn.location&&"http"==kn.location.protocol||sy(t,"https"),Op(t)),function ho(n,e){const t=new Ym;if(kn.Image){const r=new Image;r.onload=fp(tu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fp(tu,t,r,"TestLoadImage: error",!1,e),r.onabort=fp(tu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fp(tu,t,r,"TestLoadImage: timeout",!1,e),kn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ao(2);n.H=0,n.l&&n.l.za(e),Iy(n),_y(n)}function Iy(n){if(n.H=0,n.pa=[],n.l){const e=kp(n.h);(0!=e.length||0!=n.i.length)&&(Hv(n.pa,e),Hv(n.pa,n.i),n.h.i.length=0,Rm(n.i),n.i.length=0),n.l.ya()}}function $p(n,e,t){var r=t instanceof Na?Cu(t):new Na(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Pp(r,r.m);else{var a=kn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Na(null,void 0);r&&sy(l,r),e&&(l.g=e),a&&Pp(l,a),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&Ei(r,t,e),Ei(r,"VER",n.qa),Zu(n,r),r}function Ty(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ei(t&&n.Ha&&!n.va?new Qu({ob:!0}):n.va)).Oa(n.I),e}function TE(){}function bh(){if(Ic&&!(10<=Number(CC)))throw Error("Environmental error: no available transport.")}function zo(n,e){Vs.call(this),this.g=new wE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fc(this)}function Dy(n){Jm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cy(){ey.call(this),this.status=1}function Fc(n){this.g=n}function Pa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sh(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)r[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],d=(e=n.g[0])+(l^(t=n.g[1])&((a=n.g[2])^l))+r[0]+3614090360&4294967295;d=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(d<<7&4294967295|d>>>25))+((d=l+(a^e&(t^a))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(a^l))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=l+(a^e&(t^a))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(a^l))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=l+(a^e&(t^a))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(a^l))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=l+(a^e&(t^a))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^l&(t^a))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^a&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(a^l))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^l&(t^a))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^a&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(a^l))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^l&(t^a))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^a&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(a^l))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^l&(t^a))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^a&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(a^l))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^a^l)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^a)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=a+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^l)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^a)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=a+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^l)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^a)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=a+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^l^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^l)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^a)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=a+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(a^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((l=(e=t+((d=e+(a^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((a=l+((d=a+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+l&4294967295}function Vr(n,e){this.h=e;for(var t=[],r=!0,a=n.length-1;0<=a;a--){var l=0|n[a];r&&l==e||(t[a]=l,r=!1)}this.g=t}(Zt=ei.prototype).Oa=function(n){this.M=n},Zt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hh.g(),this.C=function lE(n){return n.h||(n.h=n.i())}(this.u?this.u:hh),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void hy(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=kn.FormData&&n instanceof kn.FormData,!(0<=jv(Nc,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gy(this),0<this.B&&((this.L=function Pc(n){return Ic&&function DC(){return km(TC,9,function(){let n=0;const e=Nm(String(Tc)).split("."),t=Nm("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var a=e[d]||"",l=t[d]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Pm(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Pm(0==a[2].length,0==l[2].length)||Pm(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=bp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){hy(this,l)}},Zt.ua=function(){typeof Uv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},Zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rs(this,"complete"),rs(this,"abort"),wh(this))},Zt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),ei.$.N.call(this)},Zt.La=function(){this.s||(this.G||this.v||this.l?py(this):this.kb())},Zt.kb=function(){py(this)},Zt.da=function(){try{return 2<iu(this)?this.g.status:-1}catch{return-1}},Zt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Zt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xc(e)}},Zt.Ia=function(){return this.m},Zt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Zt=wE.prototype).qa=8,Zt.H=1,Zt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new fh(this,this.j,n,void 0);let l=this.s;if(this.U&&(l?(l=Kv(l),Qv(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Th(this,a,e),Ei(t=Cu(this.G),"RID",n),Ei(t,"CVER",22),this.F&&Ei(t,"X-HTTP-Session-Id",this.F),Zu(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(yy(l)))+"&"+e:this.o&&Fp(t,this.o,l)),cy(this.h,a),this.bb&&Ei(t,"TYPE","init"),this.P?(Ei(t,"$req",e),Ei(t,"SID","null"),a.ba=!0,gh(a,t,null)):gh(a,t,e),this.H=2}}else 3==this.H&&(n?IE(this,n):0==this.i.length||ly(this.h)||IE(this))},Zt.Ma=function(){if(this.u=null,Dh(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=ch(co(this.jb,this),n)}},Zt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ao(10),Vp(this),Dh(this))},Zt.ib=function(){null!=this.v&&(this.v=null,Vp(this),Ey(this),Ao(19))},Zt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ao(2)):(this.j.info("Failed to ping google.com"),Ao(1))},(Zt=TE.prototype).Ba=function(){},Zt.Aa=function(){},Zt.za=function(){},Zt.ya=function(){},Zt.Va=function(){},bh.prototype.g=function(n,e){return new zo(n,e)},Ls(zo,Vs),zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ao(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=$p(n,null,n.Y),Oc(n)},zo.prototype.close=function(){Lp(this.g)},zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nh(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Oc(e)},zo.prototype.N=function(){this.g.l=null,delete this.j,Lp(this.g),delete this.g,zo.$.N.call(this)},Ls(Dy,Jm),Ls(Cy,ey),Ls(Fc,TE),Fc.prototype.Ba=function(){rs(this.g,"a")},Fc.prototype.Aa=function(n){rs(this.g,new Dy(n))},Fc.prototype.za=function(n){rs(this.g,new Cy)},Fc.prototype.ya=function(){rs(this.g,"b")},Ls(Pa,function RI(){this.blockSize=-1}),Pa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)Sh(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[a++]=n.charCodeAt(l++),a==this.blockSize){Sh(this,r),a=0;break}}else for(;l<e;)if(r[a++]=n[l++],a==this.blockSize){Sh(this,r),a=0;break}}this.h=a,this.i+=e},Pa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var DE={};function jp(n){return-128<=n&&128>n?km(DE,n,function(e){return new Vr([0|e],0>e?-1:0)}):new Vr([0|n],0>n?-1:0)}function Oa(n){if(isNaN(n)||!isFinite(n))return Ul;if(0>n)return Ys(Oa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Hp;return new Vr(e,0)}var Hp=4294967296,Ul=jp(0),Gp=jp(1),Sy=jp(16777216);function Ea(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function _s(n){return-1==n.h}function Ys(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Vr(t,~n.h).add(Gp)}function zp(n,e){return n.add(Ys(e))}function Lc(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ka(n,e){this.g=n,this.h=e}function Vc(n,e){if(Ea(e))throw Error("division by zero");if(Ea(n))return new ka(Ul,Ul);if(_s(n))return e=Vc(Ys(n),e),new ka(Ys(e.g),Ys(e.h));if(_s(e))return e=Vc(n,Ys(e)),new ka(Ys(e.g),e.h);if(30<n.g.length){if(_s(n)||_s(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Gp,r=e;0>=r.X(n);)t=CE(t),r=CE(r);var a=Ju(t,1),l=Ju(r,1);for(r=Ju(r,2),t=Ju(t,2);!Ea(r);){var d=l.add(r);0>=d.X(n)&&(a=a.add(t),l=d),r=Ju(r,1),t=Ju(t,1)}return e=zp(n,a.R(e)),new ka(a,e)}for(a=Ul;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(l=Oa(t)).R(e);_s(d)||0<d.X(n);)d=(l=Oa(t-=r)).R(e);Ea(l)&&(l=Gp),a=a.add(l),n=zp(n,d)}return new ka(a,n)}function CE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Vr(t,n.h)}function Ju(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,a=[],l=0;l<r;l++)a[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new Vr(a,n.h)}(Zt=Vr.prototype).ea=function(){if(_s(this))return-Ys(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Hp+r)*e,e*=Hp}return n},Zt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ea(this))return"0";if(_s(this))return"-"+Ys(this).toString(n);for(var e=Oa(Math.pow(n,6)),t=this,r="";;){var a=Vc(t,e).g,l=((0<(t=zp(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ea(t=a))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},Zt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Zt.X=function(n){return _s(n=zp(this,n))?-1:Ea(n)?0:1},Zt.abs=function(){return _s(this)?Ys(this):this},Zt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,a=0;a<=e;a++){var l=r+(65535&this.D(a))+(65535&n.D(a)),d=(l>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);r=d>>>16,t[a]=(d&=65535)<<16|(l&=65535)}return new Vr(t,-2147483648&t[t.length-1]?-1:0)},Zt.R=function(n){if(Ea(this)||Ea(n))return Ul;if(_s(this))return _s(n)?Ys(this).R(Ys(n)):Ys(Ys(this).R(n));if(_s(n))return Ys(this.R(Ys(n)));if(0>this.X(Sy)&&0>n.X(Sy))return Oa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<n.g.length;a++){var l=this.D(r)>>>16,d=65535&this.D(r),m=n.D(a)>>>16,b=65535&n.D(a);t[2*r+2*a]+=d*b,Lc(t,2*r+2*a),t[2*r+2*a+1]+=l*b,Lc(t,2*r+2*a+1),t[2*r+2*a+1]+=d*m,Lc(t,2*r+2*a+1),t[2*r+2*a+2]+=l*m,Lc(t,2*r+2*a+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Vr(t,0)},Zt.gb=function(n){return Vc(this,n).h},Zt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Vr(t,this.h&n.h)},Zt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Vr(t,this.h|n.h)},Zt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Vr(t,this.h^n.h)},bh.prototype.createWebChannel=bh.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Mp.COMPLETE="complete",Xm.EventType=dh,dh.OPEN="a",dh.CLOSE="b",dh.ERROR="c",dh.MESSAGE="d",Vs.prototype.listen=Vs.prototype.O,ei.prototype.listenOnce=ei.prototype.P,ei.prototype.getLastError=ei.prototype.Sa,ei.prototype.getLastErrorCode=ei.prototype.Ia,ei.prototype.getStatus=ei.prototype.da,ei.prototype.getResponseJson=ei.prototype.Wa,ei.prototype.getResponseText=ei.prototype.ja,ei.prototype.send=ei.prototype.ha,ei.prototype.setWithCredentials=ei.prototype.Oa,Pa.prototype.digest=Pa.prototype.l,Pa.prototype.reset=Pa.prototype.reset,Pa.prototype.update=Pa.prototype.j,Vr.prototype.add=Vr.prototype.add,Vr.prototype.multiply=Vr.prototype.R,Vr.prototype.modulo=Vr.prototype.gb,Vr.prototype.compare=Vr.prototype.X,Vr.prototype.toNumber=Vr.prototype.ea,Vr.prototype.toString=Vr.prototype.toString,Vr.prototype.getBits=Vr.prototype.D,Vr.fromNumber=Oa,Vr.fromString=function by(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ys(by(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oa(Math.pow(e,8)),r=Ul,a=0;a<n.length;a+=8){var l=Math.min(8,n.length-a),d=parseInt(n.substring(a,a+l),e);8>l?(l=Oa(Math.pow(e,l)),r=r.R(l).add(Oa(d))):r=(r=r.R(t)).add(Oa(d))}return r};var AC=Xa.createWebChannelTransport=function(){return new bh},MC=Xa.getStatEventTarget=function(){return Sp()},Ay=Xa.ErrorCode=ra,NI=Xa.EventType=Mp,bE=Xa.Event=qu,SE=Xa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vs=Xa.FetchXmlHttpFactory=Qu,Ah=Xa.WebChannel=Xm,PI=Xa.XhrIo=ei,OI=Xa.Md5=Pa,Bl=Xa.Integer=Vr;const AE="@firebase/firestore";class Es{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Es.UNAUTHENTICATED=new Es(null),Es.GOOGLE_CREDENTIALS=new Es("google-credentials-uid"),Es.FIRST_PARTY=new Es("first-party-uid"),Es.MOCK_USER=new Es("mock-user");let $l="9.21.0";const ia=new st.Yd("@firebase/firestore");function My(){return ia.logLevel}function yt(n,...e){if(ia.logLevel<=st.in.DEBUG){const t=e.map(ME);ia.debug(`Firestore (${$l}): ${n}`,...t)}}function Ki(n,...e){if(ia.logLevel<=st.in.ERROR){const t=e.map(ME);ia.error(`Firestore (${$l}): ${n}`,...t)}}function wa(n,...e){if(ia.logLevel<=st.in.WARN){const t=e.map(ME);ia.warn(`Firestore (${$l}): ${n}`,...t)}}function ME(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nn(n="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function cn(n,e){n||nn()}function Yt(n,e){return n}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ia{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Es.UNAUTHENTICATED))}shutdown(){}}class RE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kI{constructor(e){this.t=e,this.currentUser=Es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=O=>this.i!==a?(a=this.i,t(O)):Promise.resolve();let d=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Wr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const O=d;e.enqueueRetryable((0,J.Z)(function*(){yield O.promise,yield l(r.currentUser)}))},b=O=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(O=>b(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?b(O):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Wr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn("string"==typeof r.accessToken),new Ia(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new Es(e)}}class FI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Es.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class LI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new FI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xy{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.T;return this.T=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn("string"==typeof t.token),this.T=t.token,new NE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ry{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=VI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function Fn(n,e){return n<e?-1:n>e?1:0}function Uc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}class wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ft($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ft($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ft($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new wi(0,0))}static max(){return new dn(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mh{constructor(e,t,r){void 0===t?t=0:t>e.length&&nn(),void 0===r?r=e.length-t:r>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Mh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),d=t.get(a);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dr extends Mh{construct(e,t,r){return new dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new dr(t)}static emptyPath(){return new dr([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends Mh{construct(e,t,r){return new Si(e,t,r)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new ft($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;a<e.length;){const m=e[a];if("\\"===m){if(a+1===e.length)throw new ft($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ft($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,a+=2}else"`"===m?(d=!d,a++):"."!==m||d?(r+=m,a++):(l(),a++)}if(l(),d)throw new ft($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(t)}static emptyPath(){return new Si([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(dr.fromString(e))}static fromName(e){return new Gt(dr.fromString(e).popFirst(5))}static empty(){return new Gt(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new dr(e.slice()))}}function FE(n){return new sa(n.readTime,n.key,-1)}class sa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new sa(dn.min(),Gt.empty(),-1)}static max(){return new sa(dn.max(),Gt.empty(),-1)}}function Oy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Gt.comparator(n.documentKey,e.documentKey),0!==t?t:Fn(n.largestBatchId,e.largestBatchId))}const LE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tl(n){return ky.apply(this,arguments)}function ky(){return ky=(0,J.Z)(function*(n){if(n.code!==$e.FAILED_PRECONDITION||n.message!==LE)throw n;yt("LocalStore","Unexpectedly lost primary lease")}),ky.apply(this,arguments)}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,r)=>{t(e)})}static reject(e){return new Ne((t,r)=>{r(e)})}static waitFor(e){return new Ne((t,r)=>{let a=0,l=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++l,d&&l===a&&t()},b=>r(b))}),d=!0,l===a&&t()})}static or(e){let t=Ne.resolve(!1);for(const r of e)t=t.next(a=>a?Ne.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new Ne((r,a)=>{const l=e.length,d=new Array(l);let m=0;for(let b=0;b<l;b++){const O=b;t(e[O]).next(U=>{d[O]=U,++m,m===l&&r(d)},U=>a(U))}})}static doWhile(e,t){return new Ne((r,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):r()};l()})}}function nl(n){return"IndexedDbTransactionError"===n.name}let Wo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jc(n){return null==n}function Hc(n){return 0===n&&1/n==-1/0}function $y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ti{constructor(e,t){this.comparator=e,this.root=t||Zs.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zs.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zp(this.root,e,this.comparator,!0)}}class Zp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zs{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Zs.RED,this.left=a??Zs.EMPTY,this.right=l??Zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Zs(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Zs.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Zs.EMPTY=null,Zs.RED=!0,Zs.BLACK=!1,Zs.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Zs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qc(this.data.getIterator())}getIteratorFrom(e){return new qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gi(this.comparator);return t.data=e,t}}class qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qo{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new qo([])}unionWith(e){let t=new gi(Si.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GE("Invalid base64 string: "+a):a}}(e);return new is(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const zE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Su(n){if(cn(!!n),"string"==typeof n){let e=0;const t=zE.exec(n);if(cn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vi(n.seconds),nanos:Vi(n.nanos)}}function Vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oa(n){return"string"==typeof n?is.fromBase64String(n):is.fromUint8Array(n)}function il(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xp(n){const e=n.mapValue.fields.__previous_value__;return il(e)?Xp(e):e}function Ph(n){const e=Su(n.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}class QI{constructor(e,t,r,a,l,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?il(n)?4:KE(n)?9007199254740991:10:nn()}function Va(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ph(n).isEqual(Ph(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Su(r.timestampValue),d=Su(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,oa(n.bytesValue).isEqual(oa(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Vi(r.geoPointValue.latitude)===Vi(a.geoPointValue.latitude)&&Vi(r.geoPointValue.longitude)===Vi(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Vi(r.integerValue)===Vi(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Vi(r.doubleValue),d=Vi(a.doubleValue);return l===d?Hc(l)===Hc(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Uc(n.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:return function(r,a){const l=r.mapValue.fields||{},d=a.mapValue.fields||{};if($y(l)!==$y(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!Va(l[m],d[m])))return!1;return!0}(n,e);default:return nn()}var a}function kh(n,e){return void 0!==(n.values||[]).find(t=>Va(t,e))}function al(n,e){if(n===e)return 0;const t=ol(n),r=ol(e);if(t!==r)return Fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const d=Vi(a.integerValue||a.doubleValue),m=Vi(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return ZI(n.timestampValue,e.timestampValue);case 4:return ZI(Ph(n),Ph(e));case 5:return Fn(n.stringValue,e.stringValue);case 6:return function(a,l){const d=oa(a),m=oa(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),m=l.split("/");for(let b=0;b<d.length&&b<m.length;b++){const O=Fn(d[b],m[b]);if(0!==O)return O}return Fn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const d=Fn(Vi(a.latitude),Vi(l.latitude));return 0!==d?d:Fn(Vi(a.longitude),Vi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const d=a.values||[],m=l.values||[];for(let b=0;b<d.length&&b<m.length;++b){const O=al(d[b],m[b]);if(O)return O}return Fn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Au.mapValue&&l===Au.mapValue)return 0;if(a===Au.mapValue)return 1;if(l===Au.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),b=l.fields||{},O=Object.keys(b);m.sort(),O.sort();for(let U=0;U<m.length&&U<O.length;++U){const ee=Fn(m[U],O[U]);if(0!==ee)return ee;const Ie=al(d[m[U]],b[O[U]]);if(0!==Ie)return Ie}return Fn(m.length,O.length)}(n.mapValue,e.mapValue);default:throw nn()}}function ZI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Fn(n,e);const t=Su(n),r=Su(e),a=Fn(t.seconds,r.seconds);return 0!==a?a:Fn(t.nanos,r.nanos)}function Fh(n){return WE(n)}function WE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Su(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oa(n.bytesValue).toBase64():"referenceValue"in n?Gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const d of r.values||[])l?l=!1:a+=",",a+=WE(d);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of a)d?d=!1:l+=",",l+=`${m}:${WE(r.fields[m])}`;return l+"}"}(n.mapValue):nn();var e}function Yc(n){return!!n&&"integerValue"in n}function Lh(n){return!!n&&"arrayValue"in n}function qE(n){return!!n&&"nullValue"in n}function zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ll(n){return!!n&&"mapValue"in n}function Vh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bs{constructor(e){this.value=e}static empty(){return new Bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(t)}setAll(e){let t=Si.emptyPath(),r={},a=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,a),r={},a=[],t=m.popLast()}d?r[m.lastSegment()]=Vh(d):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){bu(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Bs(Vh(this.value))}}function QE(n){const e=[];return bu(n.fields,(t,r)=>{const a=new Si([t]);if(ll(r)){const l=QE(r.mapValue).fields;if(0===l.length)e.push(a);else for(const d of l)e.push(a.child(d))}else e.push(a)}),new qo(e)}class mi{constructor(e,t,r,a,l,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new mi(e,0,dn.min(),dn.min(),dn.min(),Bs.empty(),0)}static newFoundDocument(e,t,r,a){return new mi(e,1,t,dn.min(),r,a,0)}static newNoDocument(e,t){return new mi(e,2,t,dn.min(),dn.min(),Bs.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,dn.min(),dn.min(),Bs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,t){this.position=e,this.inclusive=t}}function ZE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],d=n.position[a];if(r=l.field.isKeyField()?Gt.comparator(Gt.fromName(d.referenceValue),t.key):al(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Wy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Va(n.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function XE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JE{}class ir extends JE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new tT(e,t,r):"array-contains"===t?new rT(e,r):"in"===t?new iw(e,r):"not-in"===t?new iT(e,r):"array-contains-any"===t?new sT(e,r):new ir(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new nw(e,r):new nT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(al(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qr extends JE{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new qr(e,t)}matches(e){return cl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function cl(n){return"and"===n.op}function Jp(n){return function Ky(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}(n)&&cl(n)}function Yy(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+Fh(n.value);if(Jp(n))return n.filters.map(e=>Yy(e)).join(",");{const e=n.filters.map(t=>Yy(t)).join(",");return`${n.op}(${e})`}}function ew(n,e){return n instanceof ir?(t=n,(r=e)instanceof ir&&t.op===r.op&&t.field.isEqual(r.field)&&Va(t.value,r.value)):n instanceof qr?function(t,r){return r instanceof qr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,l,d)=>a&&ew(l,r.filters[d]),!0)}(n,e):void nn();var t,r}function eg(n){return n instanceof ir?`${(e=n).field.canonicalString()} ${e.op} ${Fh(e.value)}`:n instanceof qr?function(e){return e.op.toString()+" {"+e.getFilters().map(eg).join(" ,")+"}"}(n):"Filter";var e}class tT extends ir{constructor(e,t,r){super(e,t,r),this.key=Gt.fromName(r.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class nw extends ir{constructor(e,t){super(e,"in",t),this.keys=rw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nT extends ir{constructor(e,t){super(e,"not-in",t),this.keys=rw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Gt.fromName(r.referenceValue))}class rT extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lh(t)&&kh(t.arrayValue,this.value)}}class iw extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kh(this.value.arrayValue,t)}}class iT extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kh(this.value.arrayValue,t)}}class sT extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}class oT{constructor(e,t=null,r=[],a=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=d,this.endAt=m,this.ft=null}}function Qy(n,e=null,t=[],r=[],a=null,l=null,d=null){return new oT(n,e,t,r,a,l,d)}function dl(n){const e=Yt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Yy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fh(r)).join(",")),e.ft=t}return e.ft}function Zc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XE(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ew(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wy(n.startAt,e.startAt)&&Wy(n.endAt,e.endAt)}function tg(n){return Gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Mu{constructor(e,t=null,r=[],a=[],l=null,d="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=b,this.dt=null,this._t=null}}function hl(n){return new Mu(n)}function rg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hl(n){const e=Yt(n);if(null===e.dt){e.dt=[];const t=function Xc(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function ig(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Qc(t)),e.dt.push(new Qc(Si.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Qc(Si.keyField(),l))}}}return e.dt}function Xs(n){const e=Yt(n);if(!e._t)if("F"===e.limitType)e._t=Qy(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Hl(e))t.push(new Qc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ta(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ta(e.startAt.position,e.startAt.inclusive):null;e._t=Qy(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e._t}function Uh(n,e,t){return new Mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ou(n,e){return Zc(Xs(n),Xs(e))&&n.limitType===e.limitType}function e_(n){return`${dl(Xs(n))}|lt:${n.limitType}`}function t_(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>eg(r)).join(", ")}]`),jc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fh(r)).join(",")),`Target(${t})`}(Xs(n))}; limitType=${n.limitType})`}function sg(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Gt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of Hl(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,l,d){const m=ZE(a,l,d);return a.inclusive?m<=0:m<0}(t.startAt,Hl(t),r)||t.endAt&&!function(a,l,d){const m=ZE(a,l,d);return a.inclusive?m>=0:m>0}(t.endAt,Hl(t),r)));var t,r}function og(n){return(e,t)=>{let r=!1;for(const a of Hl(n)){const l=aT(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function aT(n,e,t){const r=n.field.isKeyField()?Gt.comparator(e.key,t.key):function(a,l,d){const m=l.data.field(a),b=d.data.field(a);return null!==m&&null!==b?al(m,b):nn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nn()}}class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return jy(this.inner)}size(){return this.innerSize}}const uT=new ti(Gt.comparator);function xo(){return uT}const ag=new ti(Gt.comparator);function Jc(...n){let e=ag;for(const t of n)e=e.insert(t.key,t);return e}function r_(n){let e=ag;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ba(){return Bh()}function i_(){return Bh()}function Bh(){return new Ua(n=>n.toString(),(n,e)=>n.isEqual(e))}const lT=new ti(Gt.comparator),cT=new gi(Gt.comparator);function Wn(...n){let e=cT;for(const t of n)e=e.add(t);return e}const aw=new gi(Fn);function s_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function lw(n){return{integerValue:""+n}}function cw(n,e){return function Ly(n){return"number"==typeof n&&Number.isInteger(n)&&!Hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?lw(e):s_(n,e)}class o_{constructor(){this._=void 0}}function dT(n,e,t){return n instanceof ed?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&il(a)&&(a=Xp(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Gl?hw(n,e):n instanceof zl?fw(n,e):function(r,a){const l=dw(r,a),d=pw(l)+pw(r.wt);return Yc(l)&&Yc(r.wt)?lw(d):s_(r.serializer,d)}(n,e)}function hT(n,e,t){return n instanceof Gl?hw(n,e):n instanceof zl?fw(n,e):t}function dw(n,e){return n instanceof td?Yc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ed extends o_{}class Gl extends o_{constructor(e){super(),this.elements=e}}function hw(n,e){const t=gw(e);for(const r of n.elements)t.some(a=>Va(a,r))||t.push(r);return{arrayValue:{values:t}}}class zl extends o_{constructor(e){super(),this.elements=e}}function fw(n,e){let t=gw(e);for(const r of n.elements)t=t.filter(a=>!Va(a,r));return{arrayValue:{values:t}}}class td extends o_{constructor(e,t){super(),this.serializer=e,this.wt=t}}function pw(n){return Vi(n.integerValue||n.doubleValue)}function gw(n){return Lh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mw{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gh{}function a_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new id(n.key,yi.none()):new nd(n.key,n.data,yi.none());{const t=n.data,r=Bs.empty();let a=new gi(Si.comparator);for(let l of e.fields)if(!a.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),a=a.add(l)}return new xu(n.key,r,new qo(a.toArray()),yi.none())}}function fT(n,e,t){n instanceof nd?function(r,a,l){const d=r.value.clone(),m=vw(r.fieldTransforms,a,l.transformResults);d.setAll(m),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xu?function(r,a,l){if(!Hh(r.precondition,a))return void a.convertToUnknownDocument(l.version);const d=vw(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(_w(r)),m.setAll(d),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zh(n,e,t,r){return n instanceof nd?function(a,l,d,m){if(!Hh(a.precondition,l))return d;const b=a.value.clone(),O=rd(a.fieldTransforms,m,l);return b.setAll(O),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null}(n,e,t,r):n instanceof xu?function(a,l,d,m){if(!Hh(a.precondition,l))return d;const b=rd(a.fieldTransforms,m,l),O=l.data;return O.setAll(_w(a)),O.setAll(b),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null===d?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(U=>U.field))}(n,e,t,r):(d=t,Hh(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function OC(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=dw(r.transform,a||null);null!=l&&(null===t&&(t=Bs.empty()),t.set(r.field,l))}return t||null}function yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Uc(t,r,(a,l)=>function jh(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Gl&&r instanceof Gl||t instanceof zl&&r instanceof zl?Uc(t.elements,r.elements,Va):t instanceof td&&r instanceof td?Va(t.wt,r.wt):t instanceof ed&&r instanceof ed);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class nd extends Gh{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xu extends Gh{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vw(n,e,t){const r=new Map;cn(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],d=l.transform,m=e.data.field(l.field);r.set(l.field,hT(d,m,t[a]))}return r}function rd(n,e,t){const r=new Map;for(const a of n){const l=a.transform,d=t.data.field(a.field);r.set(a.field,dT(l,d,e))}return r}class id extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wh extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Da{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fT(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=i_();return this.mutations.forEach(a=>{const l=e.get(a.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(a.key)?null:m;const b=a_(d,m);null!==b&&r.set(a.key,b),d.isValidDocument()||d.convertToNoDocument(dn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wn())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(t,r)=>yw(t,r))&&Uc(this.baseMutations,e.baseMutations,(t,r)=>yw(t,r))}}class u_{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){cn(e.mutations.length===r.length);let a=lT;const l=e.mutations;for(let d=0;d<l.length;d++)a=a.insert(l[d].key,r[d].version);return new u_(e,t,r,a)}}class qh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pT{constructor(e,t){this.count=e,this.unchangedNames=t}}var ss,yr;function Qh(n){if(void 0===n)return Ki("GRPC error has no .code"),$e.UNKNOWN;switch(n){case ss.OK:return $e.OK;case ss.CANCELLED:return $e.CANCELLED;case ss.UNKNOWN:return $e.UNKNOWN;case ss.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case ss.INTERNAL:return $e.INTERNAL;case ss.UNAVAILABLE:return $e.UNAVAILABLE;case ss.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case ss.NOT_FOUND:return $e.NOT_FOUND;case ss.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case ss.ABORTED:return $e.ABORTED;case ss.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case ss.DATA_LOSS:return $e.DATA_LOSS;default:return nn()}}(yr=ss||(ss={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";class l_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ug}static getOrCreateInstance(){return null===ug&&(ug=new l_),ug}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ug=null;const Ew=new Bl([4294967295,4294967295],0);function lg(n){const e=function c_(){return new TextEncoder}().encode(n),t=new OI;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bl([t,r],0),new Bl([a,l],0)]}class Zh{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Bl.fromNumber(this.yt)}Tt(e,t,r){let a=e.add(t.multiply(Bl.fromNumber(r)));return 1===a.compare(Ew)&&(a=new Bl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=lg(e),[r,a]=d_(t);for(let l=0;l<this.hashCount;l++){const d=this.Tt(r,a,l);if(!this.Et(d))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Zh(l,a,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.yt)return;const t=lg(e),[r,a]=d_(t);for(let l=0;l<this.hashCount;l++){const d=this.Tt(r,a,l);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sd(dn.min(),a,new ti(Fn),xo(),Wn())}}class ql{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ql(r,t,Wn(),Wn(),Wn())}}class od{constructor(e,t,r,a){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=a}}class ww{constructor(e,t){this.targetId=e,this.bt=t}}class Iw{constructor(e,t,r=is.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Tw{constructor(){this.Vt=0,this.St=cg(),this.Dt=is.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Wn(),t=Wn(),r=Wn();return this.St.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:nn()}}),new ql(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=cg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class gT{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=xo(),this.jt=h_(),this.zt=new ti(Fn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const r=e.targetId,a=e.bt.count,l=this.ne(r);if(l){const d=l.target;if(tg(d))if(0===a){const m=new Gt(d.path);this.Jt(r,m,mi.newNoDocument(m,dn.min()))}else cn(1===a);else{const m=this.se(r);if(m!==a){const b=this.ie(e,m);0!==b&&(this.te(r),this.zt=this.zt.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=l_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(O,U,ee){var Ie,ze,wt,Ft,an,$n;const Dr={localCacheCount:U,existenceFilterCount:ee.count},jn=ee.unchangedNames;return jn&&(Dr.bloomFilter={applied:0===O,hashCount:null!==(Ie=jn?.hashCount)&&void 0!==Ie?Ie:0,bitmapLength:null!==(Ft=null===(wt=null===(ze=jn?.bits)||void 0===ze?void 0:ze.bitmap)||void 0===wt?void 0:wt.length)&&void 0!==Ft?Ft:0,padding:null!==($n=null===(an=jn?.bits)||void 0===an?void 0:an.padding)&&void 0!==$n?$n:0}),Dr}(b,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:a}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:d=0},hashCount:m=0}=r;let b,O;try{b=oa(l).toUint8Array()}catch(U){if(U instanceof GE)return wa("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw U}try{O=new Zh(b,d,m)}catch(U){return wa(U instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",U),1}return 0===O.yt?1:a!==t-this.re(e.targetId,O)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;t.At(m)||(this.Jt(e,l,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((l,d)=>{const m=this.ne(d);if(m){if(l.current&&tg(m.target)){const b=new Gt(m.target.path);null!==this.Qt.get(b)||this.ce(d,b)||this.Jt(d,b,mi.newNoDocument(b,e))}l.kt&&(t.set(d,l.Ot()),l.$t())}});let r=Wn();this.jt.forEach((l,d)=>{let m=!0;d.forEachWhile(b=>{const O=this.ne(b);return!O||"TargetPurposeLimboResolution"===O.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.Qt.forEach((l,d)=>d.setReadTime(e));const a=new sd(e,t,this.zt,this.Qt,r);return this.Qt=xo(),this.jt=h_(),this.zt=new ti(Fn),a}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Tw,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new gi(Fn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||yt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Tw),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function h_(){return new ti(Gt.comparator)}function cg(){return new ti(Gt.comparator)}const Dw={asc:"ASCENDING",desc:"DESCENDING"},mT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class bw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function f_(n,e){return n.useProto3Json||jc(e)?e:{value:e}}function Kl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yT(n,e){return Kl(n,e.toTimestamp())}function Ui(n){return cn(!!n),dn.fromTimestamp(function(e){const t=Su(e);return new wi(t.seconds,t.nanos)}(n))}function dg(n,e){return(t=n,new dr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fo(n){const e=dr.fromString(n);return cn(Mw(e)),e}function au(n,e){return dg(n.databaseId,e.path)}function uu(n,e){const t=fo(e);if(t.get(1)!==n.databaseId.projectId)throw new ft($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ft($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Gt(m_(t))}function g_(n,e){return dg(n.databaseId,e)}function hg(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m_(n){return cn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fg(n,e,t){return{name:au(n,e),fields:t.value.mapValue.fields}}function Sw(n,e){return{documents:[g_(n,e.path)]}}function __(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=g_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(b){if(0!==b.length)return w_(qr.create(b,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(b){if(0!==b.length)return b.map(O=>{return{field:Ru((U=O).field),direction:mg(U.dir)};var U})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=f_(n,e.limit);var m,b;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function gg(n){let e=function _T(n){const e=fo(n);return 4===e.length?dr.emptyPath():m_(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){cn(1===r);const U=t.from[0];U.allDescendants?a=U.collectionId:e=e.child(U.collectionId)}let l=[];t.where&&(l=function(U){const ee=v_(U);return ee instanceof qr&&Jp(ee)?ee.getFilters():[ee]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(U=>{return new Qc(ud((ee=U).field),function(Ie){switch(Ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction));var ee}));let m=null;t.limit&&(m=function(U){let ee;return ee="object"==typeof U?U.value:U,jc(ee)?null:ee}(t.limit));let b=null;var U;t.startAt&&(b=new Ta((U=t.startAt).values||[],!!U.before));let O=null;return t.endAt&&(O=function(U){return new Ta(U.values||[],!U.before)}(t.endAt)),function ow(n,e,t,r,a,l,d,m){return new Mu(n,e,t,r,a,l,d,m)}(e,a,d,l,m,"F",b,O)}function v_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ud(e.unaryFilter.field);return ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ud(e.unaryFilter.field);return ir.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ud(e.unaryFilter.field);return ir.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ud(e.unaryFilter.field);return ir.create(l,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(n):void 0!==n.fieldFilter?ir.create(ud((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qr.create(e.compositeFilter.filters.map(t=>v_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(n):nn();var e}function mg(n){return Dw[n]}function E_(n){return mT[n]}function kC(n){return Cw[n]}function Ru(n){return{fieldPath:n.canonicalString()}}function ud(n){return Si.fromServerFormat(n.fieldPath)}function w_(n){return n instanceof ir?function(e){if("=="===e.op){if(zy(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NAN"}};if(qE(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zy(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NOT_NAN"}};if(qE(e.value))return{unaryFilter:{field:Ru(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(e.field),op:E_(e.op),value:e.value}}}(n):n instanceof qr?function(e){const t=e.getFilters().map(r=>w_(r));return 1===t.length?t[0]:{compositeFilter:{op:kC(e.op),filters:t}}}(n):nn()}function ld(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class lu{constructor(e,t,r,a,l=dn.min(),d=dn.min(),m=is.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=b}withSequenceNumber(e){return new lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yg{constructor(e){this.le=e}}function D_(n){const e=gg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Uh(e,e.limit,"L"):e}class fl{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Vi(e.integerValue));else if("doubleValue"in e){const r=Vi(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Hc(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(oa(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?KE(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):nn()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const a of Object.keys(r))this.Ie(a,t),this.we(r[a],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const a of r)this.we(a,t)}Ae(e,t){this.ge(t,37),Gt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}fl.be=new fl;class BC{constructor(){this.sn=new tf}addToCollectionParentIndex(e,t){return this.sn.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getIndexType(e,t){return Ne.resolve(0)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,t){return Ne.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,t){return Ne.resolve(sa.min())}updateCollectionGroup(e,t,r){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class tf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new gi(dr.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new gi(dr.comparator)).toArray()}}new Uint8Array(0);class Ro{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class gl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new gl(0)}static kn(){return new gl(-1)}}class RT{constructor(){this.changes=new Ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cg{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&zh(r.mutation,a,qo.empty(),wi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Wn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Wn()){const a=Ba();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let d=Jc();return l.forEach((m,b)=>{d=d.insert(m,b.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ba();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Wn()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,a){let l=xo();const d=Bh(),m=Bh();return t.forEach((b,O)=>{const U=r.get(O.key);a.has(O.key)&&(void 0===U||U.mutation instanceof xu)?l=l.insert(O.key,O):void 0!==U?(d.set(O.key,U.mutation.getFieldMask()),zh(U.mutation,O,U.mutation.getFieldMask(),wi.now())):d.set(O.key,qo.empty())}),this.recalculateAndSaveOverlays(e,l).next(b=>(b.forEach((O,U)=>d.set(O,U)),t.forEach((O,U)=>{var ee;return m.set(O,new NT(U,null!==(ee=d.get(O))&&void 0!==ee?ee:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Bh();let a=new ti((d,m)=>d-m),l=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(b=>{const O=t.get(b);if(null===O)return;let U=r.get(b)||qo.empty();U=m.applyToLocalView(O,U),r.set(b,U);const ee=(a.get(m.batchId)||Wn()).add(b);a=a.insert(m.batchId,ee)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const b=m.getNext(),O=b.key,U=b.value,ee=i_();U.forEach(Ie=>{if(!l.has(Ie)){const ze=a_(t.get(Ie),r.get(Ie));null!==ze&&ee.set(Ie,ze),l=l.add(Ie)}}),d.push(this.documentOverlayCache.saveOverlays(e,O,ee))}return Ne.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Gt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Xy(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const d=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):Ne.resolve(Ba());let m=-1,b=l;return d.next(O=>Ne.forEach(O,(U,ee)=>(m<ee.largestBatchId&&(m=ee.largestBatchId),l.get(U)?Ne.resolve():this.remoteDocumentCache.getEntry(e,U).next(Ie=>{b=b.insert(U,Ie)}))).next(()=>this.populateOverlays(e,O,l)).next(()=>this.computeViews(e,b,O,Wn())).next(U=>({batchId:m,changes:r_(U)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next(r=>{let a=Jc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let l=Jc();return this.indexManager.getCollectionParents(e,a).next(d=>Ne.forEach(d,m=>{const b=(O=t,U=m.child(a),new Mu(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,U;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(O=>{O.forEach((U,ee)=>{l=l.insert(U,ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(l=>{a.forEach((m,b)=>{const O=b.getKey();null===l.get(O)&&(l=l.insert(O,mi.newInvalidDocument(O)))});let d=Jc();return l.forEach((m,b)=>{const O=a.get(m);void 0!==O&&zh(O.mutation,b,qo.empty(),wi.now()),sg(t,b)&&(d=d.insert(m,b))}),d})}}class Nu{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ne.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Ui(r.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:D_(r.bundledQuery),readTime:Ui(r.readTime)}),Ne.resolve();var r}}class _l{constructor(){this.overlays=new ti(Gt.comparator),this.hs=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ba();return Ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.de(e,t,l)}),Ne.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.hs.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.hs.delete(r)),Ne.resolve()}getOverlaysForCollection(e,t,r){const a=Ba(),l=t.length+1,d=new Gt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const b=m.getNext().value,O=b.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===l&&b.largestBatchId>r&&a.set(b.getKey(),b)}return Ne.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ti((O,U)=>O-U);const d=this.overlays.getIterator();for(;d.hasNext();){const O=d.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>r){let U=l.get(O.largestBatchId);null===U&&(U=Ba(),l=l.insert(O.largestBatchId,U)),U.set(O.getKey(),O)}}const m=Ba(),b=l.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((O,U)=>m.set(O,U)),!(m.size()>=a)););return Ne.resolve(m)}de(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const d=this.hs.get(a.largestBatchId).delete(r.key);this.hs.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qh(t,r));let l=this.hs.get(t);void 0===l&&(l=Wn(),this.hs.set(t,l)),this.hs.set(t,l.add(r.key))}}class bg{constructor(){this.ls=new gi(os.fs),this.ds=new gi(os._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new os(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new os(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new Gt(new dr([])),r=new os(t,e),a=new os(t,e+1),l=[];return this.ds.forEachInRange([r,a],d=>{this.gs(d),l.push(d.key)}),l}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Gt(new dr([])),r=new os(t,e),a=new os(t,e+1);let l=Wn();return this.ds.forEachInRange([r,a],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new os(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class os{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Gt.comparator(e.key,t.key)||Fn(e.Es,t.Es)}static _s(e,t){return Fn(e.Es,t.Es)||Gt.comparator(e.key,t.key)}}class zw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new gi(os.fs)}checkEmpty(e){return Ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const l=this.As;this.As++;const d=new Da(l,t,r,a);this.mutationQueue.push(d);for(const m of a)this.Rs=this.Rs.add(new os(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ne.resolve(d)}lookupMutationBatch(e,t){return Ne.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),l=a<0?0:a;return Ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new os(t,0),a=new os(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,a],d=>{const m=this.vs(d.Es);l.push(m)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gi(Fn);return t.forEach(a=>{const l=new os(a,0),d=new os(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,d],m=>{r=r.add(m.Es)})}),Ne.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Gt.isDocumentKey(l)||(l=l.child(""));const d=new os(new Gt(l),0);let m=new gi(Fn);return this.Rs.forEachWhile(b=>{const O=b.key.path;return!!r.isPrefixOf(O)&&(O.length===a&&(m=m.add(b.Es)),!0)},d),Ne.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const a=this.vs(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){cn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ne.forEach(t.mutations,a=>{const l=new os(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new os(t,0),a=this.Rs.firstAfterOrEqual(r);return Ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ne.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PT{constructor(e){this.Ss=e,this.docs=new ti(Gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,d=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ne.resolve(r?r.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let r=xo();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():mi.newInvalidDocument(a))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=xo();const d=t.path,m=new Gt(d.child("")),b=this.docs.getIteratorFrom(m);for(;b.hasNext();){const{key:O,value:{document:U}}=b.getNext();if(!d.isPrefixOf(O.path))break;O.path.length>d.length+1||Oy(FE(U),r)<=0||(a.has(U.key)||sg(t,U))&&(l=l.insert(U.key,U.mutableCopy()))}return Ne.resolve(l)}getAllFromCollectionGroup(e,t,r,a){nn()}Ds(e,t){return Ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $C(this)}getSize(e){return Ne.resolve(this.size)}}class $C extends RT{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(r)}),Ne.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class OT{constructor(e){this.persistence=e,this.Cs=new Ua(t=>dl(t),Zc),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new bg,this.targetCount=0,this.ks=gl.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,a)=>t(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),Ne.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.$n(t),Ne.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return Ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),Ne.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(d=>{l.push(a.markPotentiallyOrphaned(e,d))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return Ne.resolve(r)}containsKey(e,t){return Ne.resolve(this.Ns.containsKey(t))}}class P_{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Wo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new OT(this),this.indexManager=new BC,this.remoteDocumentCache=new PT(r=>this.referenceDelegate.Bs(r)),this.serializer=new yg(t),this.Ls=new Nu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _l,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new zw(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){yt("MemoryPersistence","Starting transaction:",e);const a=new kT(this.Os.next());return this.referenceDelegate.qs(),r(a).next(l=>this.referenceDelegate.Us(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ks(e,t){return Ne.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class kT extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Gs=new bg,this.Qs=null}static js(e){return new Sg(e)}get zs(){if(this.Qs)return this.Qs;throw nn()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),Ne.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.zs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.zs,r=>{const a=Gt.fromPath(r);return this.Ws(e,a).next(l=>{l||t.removeEntry(a,dn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ne.or([()=>Ne.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Rg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=a}static Bi(e,t){let r=Wn(),a=Wn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rg(e,t.fromCache,r,a)}}class F_{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,a){return this.Ui(e,t).next(l=>l||this.Ki(e,t,a,r)).next(l=>l||this.Gi(e,t))}Ui(e,t){if(rg(t))return Ne.resolve(null);let r=Xs(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Uh(t,null,"F"),r=Xs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Wn(...l);return this.qi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(b=>{const O=this.Qi(t,m);return this.ji(t,O,d,b.readTime)?this.Ui(e,Uh(t,null,"F")):this.zi(e,O,t,b)}))})))}Ki(e,t,r,a){return rg(t)||a.isEqual(dn.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(l=>{const d=this.Qi(t,l);return this.ji(t,d,r,a)?this.Gi(e,t):(My()<=st.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),t_(t)),this.zi(e,d,t,function Py(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=dn.fromTimestamp(1e9===r?new wi(t+1,0):new wi(t,r));return new sa(a,Gt.empty(),e)}(a,-1)))})}Qi(e,t){let r=new gi(og(e));return t.forEach((a,l)=>{sg(e,l)&&(r=r.add(l))}),r}ji(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Gi(e,t){return My()<=st.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",t_(t)),this.qi.getDocumentsMatchingQuery(e,t,sa.min())}zi(e,t,r,a){return this.qi.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class Ww{constructor(e,t,r,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new ti(Fn),this.Ji=new Ua(l=>dl(l),Zc),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function df(n,e){return yd.apply(this,arguments)}function yd(){return yd=(0,J.Z)(function*(n,e){const t=Yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let b=Wn();for(const O of a){d.push(O.batchId);for(const U of O.mutations)b=b.add(U.key)}for(const O of l){m.push(O.batchId);for(const U of O.mutations)b=b.add(U.key)}return t.localDocuments.getDocuments(r,b).next(O=>({tr:O,removedBatchIds:d,addedBatchIds:m}))})})}),yd.apply(this,arguments)}function Kw(n){const e=Yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function GC(n,e){const t=Yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jl(n,e,t){return V_.apply(this,arguments)}function V_(){return V_=(0,J.Z)(function*(n,e,t){const r=Yt(n),a=r.Hi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!nl(d))throw d;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(a.target)}),V_.apply(this,arguments)}function Ng(n,e,t){const r=Yt(n);let a=dn.min(),l=Wn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,b,O){const U=Yt(m),ee=U.Ji.get(O);return void 0!==ee?Ne.resolve(U.Hi.get(ee)):U.Fs.getTargetData(b,O)}(r,d,Xs(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(d,m.targetId).next(b=>{l=b})}).next(()=>r.Wi.getDocumentsMatchingQuery(d,e,t?a:dn.min(),t?l:Wn())).next(m=>(function VT(n,e,t){let r=n.Yi.get(e)||dn.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Yi.set(e,r)}(r,function n_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,sr:l})))}class yf{constructor(){this.activeTargetIds=function uw(){return aw}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pg{constructor(){this.Wr=new yf,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new yf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class j_{Jr(e){}shutdown(){}}class _f{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let H_=null;function Xw(){return null===H_?H_=268435456+Math.round(2147483648*Math.random()):H_++,"0x"+H_.toString(16)}const qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KC{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Js="WebChannelConnection";class UT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,a,l){const d=Xw(),m=this.Io(e,t);yt("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const b={};return this.To(b,a,l),this.Eo(e,m,b,r).then(O=>(yt("RestConnection",`Received RPC '${e}' ${d}: `,O),O),O=>{throw wa("RestConnection",`RPC '${e}' ${d} failed with error: `,O,"url: ",m,"request:",r),O})}Ao(e,t,r,a,l,d){return this.po(e,t,r,a,l)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}Io(e,t){return`${this.wo}/v1/${t}:${qC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,a){const l=Xw();return new Promise((d,m)=>{const b=new PI;b.setWithCredentials(!0),b.listenOnce(NI.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Ay.NO_ERROR:const U=b.getResponseJson();yt(Js,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(U)),d(U);break;case Ay.TIMEOUT:yt(Js,`RPC '${e}' ${l} timed out`),m(new ft($e.DEADLINE_EXCEEDED,"Request time out"));break;case Ay.HTTP_ERROR:const ee=b.getStatus();if(yt(Js,`RPC '${e}' ${l} failed with status:`,ee,"response text:",b.getResponseText()),ee>0){let Ie=b.getResponseJson();Array.isArray(Ie)&&(Ie=Ie[0]);const ze=Ie?.error;if(ze&&ze.status&&ze.message){const wt=function(Ft){const an=Ft.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(an)>=0?an:$e.UNKNOWN}(ze.status);m(new ft(wt,ze.message))}else m(new ft($e.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new ft($e.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{yt(Js,`RPC '${e}' ${l} completed.`)}});const O=JSON.stringify(a);yt(Js,`RPC '${e}' ${l} sending request:`,a),b.send(t,"POST",O,r,15)})}Ro(e,t,r){const a=Xw(),l=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=AC(),m=MC(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new vs({})),this.To(b.initMessageHeaders,t,r),b.encodeInitMessageHeaders=!0;const O=l.join("");yt(Js,`Creating RPC '${e}' stream ${a}: ${O}`,b);const U=d.createWebChannel(O,b);let ee=!1,Ie=!1;const ze=new KC({io:Ft=>{Ie?yt(Js,`Not sending because RPC '${e}' stream ${a} is closed:`,Ft):(ee||(yt(Js,`Opening RPC '${e}' stream ${a} transport.`),U.open(),ee=!0),yt(Js,`RPC '${e}' stream ${a} sending:`,Ft),U.send(Ft))},ro:()=>U.close()}),wt=(Ft,an,$n)=>{Ft.listen(an,Dr=>{try{$n(Dr)}catch(jn){setTimeout(()=>{throw jn},0)}})};return wt(U,Ah.EventType.OPEN,()=>{Ie||yt(Js,`RPC '${e}' stream ${a} transport opened.`)}),wt(U,Ah.EventType.CLOSE,()=>{Ie||(Ie=!0,yt(Js,`RPC '${e}' stream ${a} transport closed`),ze.fo())}),wt(U,Ah.EventType.ERROR,Ft=>{Ie||(Ie=!0,wa(Js,`RPC '${e}' stream ${a} transport errored:`,Ft),ze.fo(new ft($e.UNAVAILABLE,"The operation could not be completed")))}),wt(U,Ah.EventType.MESSAGE,Ft=>{var an;if(!Ie){const $n=Ft.data[0];cn(!!$n);const jn=$n.error||(null===(an=$n[0])||void 0===an?void 0:an.error);if(jn){yt(Js,`RPC '${e}' stream ${a} received error:`,jn);const Po=jn.status;let Bi=function(Ko){const El=ss[Ko];if(void 0!==El)return Qh(El)}(Po),oi=jn.message;void 0===Bi&&(Bi=$e.INTERNAL,oi="Unknown error status: "+Po+" with message "+jn.message),Ie=!0,ze.fo(new ft(Bi,oi)),U.close()}else yt(Js,`RPC '${e}' stream ${a} received:`,$n),ze._o($n)}}),wt(m,bE.STAT_EVENT,Ft=>{Ft.stat===SE.PROXY?yt(Js,`RPC '${e}' stream ${a} detected buffering proxy`):Ft.stat===SE.NOPROXY&&yt(Js,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{ze.lo()},0),ze}}function Og(){return typeof document<"u"?document:null}function vf(n){return new bw(n,!0)}class kg{constructor(e,t,r=1e3,a=1.5,l=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=a,this.bo=l,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-r);a>0&&yt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class G_{constructor(e,t,r,a,l,d,m,b){this.si=e,this.Mo=r,this.Oo=a,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new kg(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,J.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,J.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,J.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===$e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.$o===t&&this.Xo(r,a)},r=>{e(()=>{const a=new ft($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(a)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{r(()=>this.Zo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,J.Z)(function*(){e.state=0,e.start()}))}Zo(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e0 extends G_{constructor(e,t,r,a,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,d),this.serializer=l}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function y_(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:nn(),a=e.targetChange.targetIds||[],l=function(b,O){return b.useProto3Json?(cn(void 0===O||"string"==typeof O),is.fromBase64String(O||"")):(cn(void 0===O||O instanceof Uint8Array),is.fromUint8Array(O||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(b){const O=void 0===b.code?$e.UNKNOWN:Qh(b.code);return new ft(O,b.message||"")}(d);t=new Iw(r,a,l,m||null)}else if("documentChange"in e){const r=e.documentChange,a=uu(n,r.document.name),l=Ui(r.document.updateTime),d=r.document.createTime?Ui(r.document.createTime):dn.min(),m=new Bs({mapValue:{fields:r.document.fields}}),b=mi.newFoundDocument(a,l,d,m);t=new od(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,a=uu(n,r.document),l=r.readTime?Ui(r.readTime):dn.min(),d=mi.newNoDocument(a,l);t=new od([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,a=uu(n,r.document);t=new od([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return nn();{const r=e.filter,{count:a=0,unchangedNames:l}=r,d=new pT(a,l);t=new ww(r.targetId,d)}}var b;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return dn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?dn.min():l.readTime?Ui(l.readTime):dn.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=hg(this.serializer),t.addTarget=function(a,l){let d;const m=l.target;if(d=tg(m)?{documents:Sw(a,m)}:{query:__(a,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=p_(a,l.resumeToken);const b=f_(a,l.expectedCount);null!==b&&(d.expectedCount=b)}else if(l.snapshotVersion.compareTo(dn.min())>0){d.readTime=Kl(a,l.snapshotVersion.toTimestamp());const b=f_(a,l.expectedCount);null!==b&&(d.expectedCount=b)}return d}(this.serializer,e);const r=function Aw(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=hg(this.serializer),t.removeTarget=e,this.zo(t)}}class BT extends G_{constructor(e,t,r,a,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,d),this.serializer=l,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function ET(n,e){return n&&n.length>0?(cn(void 0!==e),n.map(t=>function(r,a){let l=Ui(r.updateTime?r.updateTime:a);return l.isEqual(dn.min())&&(l=Ui(a)),new mw(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.uu(r,t)}return cn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=hg(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Xh(n,e){let t;if(e instanceof nd)t={update:fg(n,e.key,e.value)};else if(e instanceof id)t={delete:au(n,e.key)};else if(e instanceof xu)t={update:fg(n,e.key,e.data),updateMask:ld(e.fieldMask)};else{if(!(e instanceof Wh))return nn();t={verify:au(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof ed)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:l.field.canonicalString(),increment:d.wt};throw nn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yT(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nn()),t;var a}(this.serializer,r))};this.zo(t)}}class $T extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new ft($e.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.po(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ft($e.UNKNOWN,a.toString())})}Ao(e,t,r,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Ao(e,t,r,l,d,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft($e.UNKNOWN,l.toString())})}terminate(){this.hu=!0}}class YC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Ki(t),this.wu=!1):yt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class n0{constructor(e,t,r,a,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=l,this.vu.Jr(m=>{r.enqueueAndForget((0,J.Z)(function*(){var b;tc(d)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,J.Z)(function*(O){const U=Yt(O);U.Au.add(4),yield _d(U),U.Pu.set("Unknown"),U.Au.delete(4),yield ec(U)}),function(O){return b.apply(this,arguments)})(d))}))}),this.Pu=new YC(r,a)}}function ec(n){return z_.apply(this,arguments)}function z_(){return z_=(0,J.Z)(function*(n){if(tc(n))for(const e of n.Ru)yield e(!0)}),z_.apply(this,arguments)}function _d(n){return r0.apply(this,arguments)}function r0(){return r0=(0,J.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),r0.apply(this,arguments)}function W_(n,e){const t=Yt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),a0(t)?o0(t):Mn(t).Uo()&&q_(t,e))}function wf(n,e){const t=Yt(n),r=Mn(t);t.Eu.delete(e),r.Uo()&&s0(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():tc(t)&&t.Pu.set("Unknown"))}function q_(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mn(n).nu(e)}function s0(n,e){n.bu.Lt(e),Mn(n).su(e)}function o0(n){n.bu=new gT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Mn(n).start(),n.Pu.mu()}function a0(n){return tc(n)&&!Mn(n).qo()&&n.Eu.size>0}function tc(n){return 0===Yt(n).Au.size}function jT(n){n.bu=void 0}function HT(n){return u0.apply(this,arguments)}function u0(){return u0=(0,J.Z)(function*(n){n.Eu.forEach((e,t)=>{q_(n,e)})}),u0.apply(this,arguments)}function QC(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,J.Z)(function*(n,e){jT(n),a0(n)?(n.Pu.pu(e),o0(n)):n.Pu.set("Unknown")}),l0.apply(this,arguments)}function ZC(n,e,t){return c0.apply(this,arguments)}function c0(){return c0=(0,J.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof Iw&&2===e.state&&e.cause)try{yield(r=(0,J.Z)(function*(a,l){const d=l.cause;for(const m of l.targetIds)a.Eu.has(m)&&(yield a.remoteSyncer.rejectListen(m,d),a.Eu.delete(m),a.bu.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield K_(n,r)}else if(e instanceof od?n.bu.Wt(e):e instanceof ww?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(dn.min()))try{const r=yield Kw(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const d=a.bu.ue(l);return d.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const O=a.Eu.get(b);O&&a.Eu.set(b,O.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach((m,b)=>{const O=a.Eu.get(m);if(!O)return;a.Eu.set(m,O.withResumeToken(is.EMPTY_BYTE_STRING,O.snapshotVersion)),s0(a,m);const U=new lu(O.target,m,b,O.sequenceNumber);q_(a,U)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){yt("RemoteStore","Failed to raise snapshot:",r),yield K_(n,r)}var r}),c0.apply(this,arguments)}function K_(n,e,t){return i.apply(this,arguments)}function i(){return i=(0,J.Z)(function*(n,e,t){if(!nl(e))throw e;n.Au.add(1),yield _d(n),n.Pu.set("Offline"),t||(t=()=>Kw(n.localStore)),n.asyncQueue.enqueueRetryable((0,J.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield ec(n)}))}),i.apply(this,arguments)}function s(n,e){return e().catch(t=>K_(n,t,e))}function o(n){return u.apply(this,arguments)}function u(){return u=(0,J.Z)(function*(n){const e=Yt(n),t=Ur(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;c(e);)try{const a=yield GC(e.localStore,r);if(null===a){0===e.Tu.length&&t.Qo();break}r=a.batchId,h(e,a)}catch(a){yield K_(e,a)}g(e)&&I(e)}),u.apply(this,arguments)}function c(n){return tc(n)&&n.Tu.length<10}function h(n,e){n.Tu.push(e);const t=Ur(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function g(n){return tc(n)&&!Ur(n).qo()&&n.Tu.length>0}function I(n){Ur(n).start()}function S(n){return F.apply(this,arguments)}function F(){return F=(0,J.Z)(function*(n){Ur(n).au()}),F.apply(this,arguments)}function H(n){return te.apply(this,arguments)}function te(){return te=(0,J.Z)(function*(n){const e=Ur(n);for(const t of n.Tu)e.ou(t.mutations)}),te.apply(this,arguments)}function me(n,e,t){return Me.apply(this,arguments)}function Me(){return Me=(0,J.Z)(function*(n,e,t){const r=n.Tu.shift(),a=u_.from(r,e,t);yield s(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield o(n)}),Me.apply(this,arguments)}function it(n,e){return vt.apply(this,arguments)}function vt(){return vt=(0,J.Z)(function*(n,e){var t;e&&Ur(n).ru&&(yield(t=(0,J.Z)(function*(r,a){if(function Yh(n){switch(n){default:return nn();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}(l=a.code)&&l!==$e.ABORTED){const d=r.Tu.shift();Ur(r).Go(),yield s(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,a)),yield o(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),g(n)&&I(n)}),vt.apply(this,arguments)}function zt(n,e){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,J.Z)(function*(n,e){const t=Yt(n);t.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const r=tc(t);t.Au.add(3),yield _d(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield ec(t)}),Jt.apply(this,arguments)}function gt(){return gt=(0,J.Z)(function*(n,e){const t=Yt(n);e?(t.Au.delete(2),yield ec(t)):e||(t.Au.add(2),yield _d(t),t.Pu.set("Unknown"))}),gt.apply(this,arguments)}function Mn(n){return n.Vu||(n.Vu=function(e,t,r){const a=Yt(e);return a.lu(),new e0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{oo:HT.bind(null,n),co:QC.bind(null,n),eu:ZC.bind(null,n)}),n.Ru.push(function(){var e=(0,J.Z)(function*(t){t?(n.Vu.Go(),a0(n)?o0(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),jT(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Ur(n){return n.Su||(n.Su=function(e,t,r){const a=Yt(e);return a.lu(),new BT(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{oo:S.bind(null,n),co:it.bind(null,n),cu:H.bind(null,n),uu:me.bind(null,n)}),n.Ru.push(function(){var e=(0,J.Z)(function*(t){t?(n.Su.Go(),yield o(n)):(yield n.Su.stop(),n.Tu.length>0&&(yt("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class Mi{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,a,l){const d=Date.now()+r,m=new Mi(e,t,d,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ft($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function If(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),nl(n))return new ft($e.UNAVAILABLE,`${e}: ${n}`);throw n}class Fg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Gt.comparator(t.key,r.key):(t,r)=>Gt.comparator(t.key,r.key),this.keyedMap=Jc(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new Fg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XC{constructor(){this.Du=new ti(Gt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):nn():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lg{constructor(e,t,r,a,l,d,m,b,O){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=b,this.hasCachedResults=O}static fromInitialDocuments(e,t,r,a,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Lg(e,t,Fg.emptySet(t),d,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class Jb{constructor(){this.xu=void 0,this.listeners=[]}}class eS{constructor(){this.queries=new Ua(e=>e_(e),ou),this.onlineState="Unknown",this.Nu=new Set}}function GT(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,J.Z)(function*(n,e){const t=Yt(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new Jb),a)try{l.xu=yield t.onListen(r)}catch(d){const m=If(d,`Initialization of query '${t_(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ku(t.onlineState),l.xu&&e.Mu(l.xu)&&KT(t)}),zT.apply(this,arguments)}function WT(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,J.Z)(function*(n,e){const t=Yt(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),qT.apply(this,arguments)}function tS(n,e){const t=Yt(n);let r=!1;for(const a of e){const d=t.queries.get(a.query);if(d){for(const m of d.listeners)m.Mu(a)&&(r=!0);d.xu=a}}r&&KT(t)}function nS(n,e,t){const r=Yt(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function KT(n){n.Nu.forEach(e=>{e.next()})}class YT{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Lg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class rb{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Wn(),this.mutatedKeys=Wn(),this.Zu=og(e),this.tc=new Fg(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new XC,a=t?t.tc:this.tc;let l=t?t.mutatedKeys:this.mutatedKeys,d=a,m=!1;const b="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,O="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((U,ee)=>{const Ie=a.get(U),ze=sg(this.query,ee)?ee:null,wt=!!Ie&&this.mutatedKeys.has(Ie.key),Ft=!!ze&&(ze.hasLocalMutations||this.mutatedKeys.has(ze.key)&&ze.hasCommittedMutations);let an=!1;Ie&&ze?Ie.data.isEqual(ze.data)?wt!==Ft&&(r.track({type:3,doc:ze}),an=!0):this.ic(Ie,ze)||(r.track({type:2,doc:ze}),an=!0,(b&&this.Zu(ze,b)>0||O&&this.Zu(ze,O)<0)&&(m=!0)):!Ie&&ze?(r.track({type:0,doc:ze}),an=!0):Ie&&!ze&&(r.track({type:1,doc:Ie}),an=!0,(b||O)&&(m=!0)),an&&(ze?(d=d.add(ze),l=Ft?l.add(U):l.delete(U)):(d=d.delete(U),l=l.delete(U)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const U="F"===this.query.limitType?d.last():d.first();d=d.delete(U.key),l=l.delete(U.key),r.track({type:1,doc:U})}return{tc:d,sc:r,ji:m,mutatedKeys:l}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const l=e.sc.Cu();l.sort((O,U)=>function(ee,Ie){const ze=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return ze(ee)-ze(Ie)}(O.type,U.type)||this.Zu(O.doc,U.doc)),this.rc(r);const d=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,b=m!==this.Yu;return this.Yu=m,0!==l.length||b?{snapshot:new Lg(this.query,e.tc,a,l,e.mutatedKeys,0===m,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new XC,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Wn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new nb(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new tb(r))}),t}ac(e){this.Ju=e.sr,this.Xu=Wn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Lg.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class sS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oS{constructor(e){this.key=e,this.lc=!1}}class aS{constructor(e,t,r,a,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new Ua(m=>e_(m),ou),this._c=new Map,this.wc=new Set,this.mc=new ti(Gt.comparator),this.gc=new Map,this.yc=new bg,this.Ic={},this.Tc=new Map,this.Ec=gl.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function uS(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,J.Z)(function*(n,e){const t=function vD(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dS.bind(null,e),e.fc.eu=tS.bind(null,e.eventManager),e.fc.vc=nS.bind(null,e.eventManager),e}(n);let r,a;const l=t.dc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.hc();else{const d=yield function hf(n,e){const t=Yt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Fs.getTargetData(r,e).next(l=>l?(a=l,Ne.resolve(a)):t.Fs.allocateTargetId(r).next(d=>(a=new lu(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Hi.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}(t.localStore,Xs(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,a=yield function ZT(n,e,t,r,a){return XT.apply(this,arguments)}(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&W_(t.remoteStore,d)}return a}),QT.apply(this,arguments)}function XT(){return XT=(0,J.Z)(function*(n,e,t,r,a){n.Rc=(ee,Ie,ze)=>{return(wt=(0,J.Z)(function*(Ft,an,$n,Dr){let jn=an.view.nc($n);jn.ji&&(jn=yield Ng(Ft.localStore,an.query,!1).then(({documents:oi})=>an.view.nc(oi,jn)));const Po=Dr&&Dr.targetChanges.get(an.targetId),Bi=an.view.applyChanges(jn,Ft.isPrimaryClient,Po);return uD(Ft,an.targetId,Bi.uc),Bi.snapshot}),function(Ft,an,$n,Dr){return wt.apply(this,arguments)})(n,ee,Ie,ze);var wt};const l=yield Ng(n.localStore,e,!0),d=new rb(e,l.sr),m=d.nc(l.documents),b=ql.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),O=d.applyChanges(m,n.isPrimaryClient,b);uD(n,t,O.uc);const U=new sS(e,t,d);return n.dc.set(e,U),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),O.snapshot}),XT.apply(this,arguments)}function lS(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,J.Z)(function*(n,e){const t=Yt(n),r=t.dc.get(e),a=t._c.get(r.targetId);if(a.length>1)return t._c.set(r.targetId,a.filter(l=>!ou(l,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),wf(t.remoteStore,r.targetId),Vg(t,r.targetId)}).catch(tl))):(Vg(t,r.targetId),yield Jl(t.localStore,r.targetId,!0))}),JT.apply(this,arguments)}function eD(){return eD=(0,J.Z)(function*(n,e,t){const r=function ED(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,e),e}(n);try{const a=yield function(l,d){const m=Yt(l),b=wi.now(),O=d.reduce((Ie,ze)=>Ie.add(ze.key),Wn());let U,ee;return m.persistence.runTransaction("Locally write mutations","readwrite",Ie=>{let ze=xo(),wt=Wn();return m.Xi.getEntries(Ie,O).next(Ft=>{ze=Ft,ze.forEach((an,$n)=>{$n.isValidDocument()||(wt=wt.add(an))})}).next(()=>m.localDocuments.getOverlayedDocuments(Ie,ze)).next(Ft=>{U=Ft;const an=[];for(const $n of d){const Dr=OC($n,U.get($n.key).overlayedDocument);null!=Dr&&an.push(new xu($n.key,Dr,QE(Dr.value.mapValue),yi.exists(!0)))}return m.mutationQueue.addMutationBatch(Ie,b,an,d)}).next(Ft=>{ee=Ft;const an=Ft.applyToLocalDocumentSet(U,wt);return m.documentOverlayCache.saveOverlays(Ie,Ft.batchId,an)})}).then(()=>({batchId:ee.batchId,changes:r_(U)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,d,m){let b=l.Ic[l.currentUser.toKey()];b||(b=new ti(Fn)),b=b.insert(d,m),l.Ic[l.currentUser.toKey()]=b}(r,a.batchId,t),yield nc(r,a.changes),yield o(r.remoteStore)}catch(a){const l=If(a,"Failed to persist write");t.reject(l)}}),eD.apply(this,arguments)}function ib(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,J.Z)(function*(n,e){const t=Yt(n);try{const r=yield function HC(n,e){const t=Yt(n),r=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const m=[];e.targetChanges.forEach((U,ee)=>{const Ie=a.get(ee);if(!Ie)return;m.push(t.Fs.removeMatchingKeys(l,U.removedDocuments,ee).next(()=>t.Fs.addMatchingKeys(l,U.addedDocuments,ee)));let ze=Ie.withSequenceNumber(l.currentSequenceNumber);var wt,Ft,an;null!==e.targetMismatches.get(ee)?ze=ze.withResumeToken(is.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):U.resumeToken.approximateByteSize()>0&&(ze=ze.withResumeToken(U.resumeToken,r)),a=a.insert(ee,ze),Ft=ze,an=U,(0===(wt=Ie).resumeToken.approximateByteSize()||Ft.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(l,ze))});let b=xo(),O=Wn();if(e.documentUpdates.forEach(U=>{e.resolvedLimboDocuments.has(U)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,U))}),m.push(function FT(n,e,t){let r=Wn(),a=Wn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=xo();return t.forEach((m,b)=>{const O=l.get(m);b.isFoundDocument()!==O.isFoundDocument()&&(a=a.add(m)),b.isNoDocument()&&b.version.isEqual(dn.min())?(e.removeEntry(m,b.readTime),d=d.insert(m,b)):!O.isValidDocument()||b.version.compareTo(O.version)>0||0===b.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(b),d=d.insert(m,b)):yt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",O.version," Watch version:",b.version)}),{er:d,nr:a}})}(l,d,e.documentUpdates).next(U=>{b=U.er,O=U.nr})),!r.isEqual(dn.min())){const U=t.Fs.getLastRemoteSnapshotVersion(l).next(ee=>t.Fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(U)}return Ne.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,b,O)).next(()=>b)}).then(l=>(t.Hi=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const d=t.gc.get(l);d&&(cn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.lc=!0:a.modifiedDocuments.size>0?cn(d.lc):a.removedDocuments.size>0&&(cn(d.lc),d.lc=!1))}),yield nc(t,r,e)}catch(r){yield tl(r)}}),tD.apply(this,arguments)}function sb(n,e,t){const r=Yt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.dc.forEach((l,d)=>{const m=d.view.ku(e);m.snapshot&&a.push(m.snapshot)}),function(l,d){const m=Yt(l);m.onlineState=d;let b=!1;m.queries.forEach((O,U)=>{for(const ee of U.listeners)ee.ku(d)&&(b=!0)}),b&&KT(m)}(r.eventManager,e),a.length&&r.fc.eu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dS(n,e,t){return nD.apply(this,arguments)}function nD(){return nD=(0,J.Z)(function*(n,e,t){const r=Yt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.gc.get(e),l=a&&a.key;if(l){let d=new ti(Gt.comparator);d=d.insert(l,mi.newNoDocument(l,dn.min()));const m=Wn().add(l),b=new sd(dn.min(),new Map,new ti(Fn),d,m);yield ib(r,b),r.mc=r.mc.remove(l),r.gc.delete(e),lD(r)}else yield Jl(r.localStore,e,!1).then(()=>Vg(r,e,t)).catch(tl)}),nD.apply(this,arguments)}function hS(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,J.Z)(function*(n,e){const t=Yt(n),r=e.batch.batchId;try{const a=yield function qw(n,e){const t=Yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,b,O){const U=b.batch,ee=U.keys();let Ie=Ne.resolve();return ee.forEach(ze=>{Ie=Ie.next(()=>O.getEntry(m,ze)).next(wt=>{const Ft=b.docVersions.get(ze);cn(null!==Ft),wt.version.compareTo(Ft)<0&&(U.applyToRemoteDocument(wt,b),wt.isValidDocument()&&(wt.setReadTime(b.commitVersion),O.addEntry(wt)))})}),Ie.next(()=>d.mutationQueue.removeMutationBatch(m,U))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Wn();for(let b=0;b<d.mutationResults.length;++b)d.mutationResults[b].transformResults.length>0&&(m=m.add(d.batch.mutations[b].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}(t.localStore,e);aD(t,r,null),oD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nc(t,a)}catch(a){yield tl(a)}}),rD.apply(this,arguments)}function fS(n,e,t){return iD.apply(this,arguments)}function iD(){return iD=(0,J.Z)(function*(n,e,t){const r=Yt(n);try{const a=yield function(l,d){const m=Yt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let O;return m.mutationQueue.lookupMutationBatch(b,d).next(U=>(cn(null!==U),O=U.keys(),m.mutationQueue.removeMutationBatch(b,U))).next(()=>m.mutationQueue.performConsistencyCheck(b)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(b,O,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,O)).next(()=>m.localDocuments.getDocuments(b,O))})}(r.localStore,e);aD(r,e,t),oD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nc(r,a)}catch(a){yield tl(a)}}),iD.apply(this,arguments)}function oD(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function aD(n,e,t){const r=Yt(n);let a=r.Ic[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Ic[r.currentUser.toKey()]=a}}function Vg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||ob(n,r)})}function ob(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(wf(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),lD(n))}function uD(n,e,t){for(const r of t)r instanceof tb?(n.yc.addReference(r.key,e),gS(n,r)):r instanceof nb?(yt("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||ob(n,r.key)):nn()}function gS(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(yt("SyncEngine","New document in limbo: "+t),n.wc.add(r),lD(n))}function lD(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Gt(dr.fromString(e)),r=n.Ec.next();n.gc.set(r,new oS(t)),n.mc=n.mc.insert(t,r),W_(n.remoteStore,new lu(Xs(hl(t.path)),r,"TargetPurposeLimboResolution",Wo.ct))}}function nc(n,e,t){return cD.apply(this,arguments)}function cD(){return cD=(0,J.Z)(function*(n,e,t){const r=Yt(n),a=[],l=[],d=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,b)=>{d.push(r.Rc(b,e,t).then(O=>{if((O||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,O?.fromCache?"not-current":"current"),O){a.push(O);const U=Rg.Bi(b.targetId,O);l.push(U)}}))}),yield Promise.all(d),r.fc.eu(a),yield(m=(0,J.Z)(function*(b,O){const U=Yt(b);try{yield U.persistence.runTransaction("notifyLocalViewChanges","readwrite",ee=>Ne.forEach(O,Ie=>Ne.forEach(Ie.$i,ze=>U.persistence.referenceDelegate.addReference(ee,Ie.targetId,ze)).next(()=>Ne.forEach(Ie.Fi,ze=>U.persistence.referenceDelegate.removeReference(ee,Ie.targetId,ze)))))}catch(ee){if(!nl(ee))throw ee;yt("LocalStore","Failed to update sequence numbers: "+ee)}for(const ee of O){const Ie=ee.targetId;if(!ee.fromCache){const ze=U.Hi.get(Ie),Ft=ze.withLastLimboFreeSnapshotVersion(ze.snapshotVersion);U.Hi=U.Hi.insert(Ie,Ft)}}}),function(b,O){return m.apply(this,arguments)})(r.localStore,l))}),cD.apply(this,arguments)}function mS(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,J.Z)(function*(n,e){const t=Yt(n);if(!t.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const r=yield df(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(d=>{d.forEach(m=>{m.reject(new ft($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nc(t,r.tr)}var a}),dD.apply(this,arguments)}function yS(n,e){const t=Yt(n),r=t.gc.get(e);if(r&&r.lc)return Wn().add(r.key);{let a=Wn();const l=t._c.get(e);if(!l)return a;for(const d of l){const m=t.dc.get(d);a=a.unionWith(m.view.ec)}return a}}class d0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.serializer=vf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function L_(n,e,t,r){return new Ww(n,e,t,r)}(this.persistence,new F_,e.initialUser,this.serializer)}createPersistence(e){return new P_(Sg.js,this.serializer)}createSharedClientState(e){return new Pg}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ug{initialize(e,t){var r=this;return(0,J.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>sb(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=mS.bind(null,r.syncEngine),yield function _n(n,e){return gt.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eS}createDatastore(e){const t=vf(e.databaseInfo.databaseId),r=new UT(e.databaseInfo);return new $T(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=m=>sb(this.syncEngine,m,0),d=_f.D()?new _f:new j_,new n0(t,r,a,l,d);var t,r,a,l,d}createSyncEngine(e,t){return function(r,a,l,d,m,b,O){const U=new aS(r,a,l,d,m,b);return O&&(U.Ac=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(t){const r=Yt(t);yt("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield _d(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xS{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Es.UNAUTHENTICATED,this.clientId=Ry.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,J.Z)(function*(m){yt("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(yt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ft($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=If(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function f0(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,J.Z)(function*(l){r.isEqual(l)||(yield df(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wD.apply(this,arguments)}function ID(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function DD(n){return CD.apply(this,arguments)}(n);yt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>zt(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>zt(e.remoteStore,l)),n._onlineComponents=e}),TD.apply(this,arguments)}function CD(){return CD=(0,J.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function hb(n){return"FirebaseError"===n.name?n.code===$e.FAILED_PRECONDITION||n.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),yield f0(n,new d0)}}else yt("FirestoreClient","Using default OfflineComponentProvider"),yield f0(n,new d0);return n._offlineComponents}),CD.apply(this,arguments)}function p0(n){return bD.apply(this,arguments)}function bD(){return bD=(0,J.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ID(n,n._uninitializedComponentsProvider._online)):(yt("FirestoreClient","Using default OnlineComponentProvider"),yield ID(n,new Ug))),n._onlineComponents}),bD.apply(this,arguments)}function Bg(n){return AD.apply(this,arguments)}function AD(){return AD=(0,J.Z)(function*(n){const e=yield p0(n),t=e.eventManager;return t.onListen=uS.bind(null,e.syncEngine),t.onUnlisten=lS.bind(null,e.syncEngine),t}),AD.apply(this,arguments)}const _b=new Map;function MD(n,e,t){if(!t)throw new ft($e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vb(n){if(!Gt.isDocumentKey(n))throw new ft($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Eb(n){if(Gt.isDocumentKey(n))throw new ft($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nn()}function Tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ft($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=m0(n);throw new ft($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Ib{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ft($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ft($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function US(n,e,t,r){if(!0===e&&!0===r)throw new ft($e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y_{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ft($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ft($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xE;switch(t.type){case"firstParty":return new LI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ft($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_b.get(e);t&&(yt("ComponentProvider","Removing Datastore"),_b.delete(e),t.terminate())}(this),Promise.resolve()}}class ws{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class No{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class vl extends No{constructor(e,t,r){super(e,t,hl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new Gt(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function $S(n,e,...t){if(n=(0,ke.m9)(n),MD("collection","path",e),n instanceof Y_){const r=dr.fromString(e,...t);return Eb(r),new vl(n,null,r)}{if(!(n instanceof ws||n instanceof vl))throw new ft($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Eb(r),new vl(n.firestore,null,r)}}function Tb(n,e,...t){if(n=(0,ke.m9)(n),1===arguments.length&&(e=Ry.A()),MD("doc","path",e),n instanceof Y_){const r=dr.fromString(e,...t);return vb(r),new ws(n,null,new Gt(r))}{if(!(n instanceof ws||n instanceof vl))throw new ft($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return vb(r),new ws(n.firestore,n instanceof vl?n.converter:null,new Gt(r))}}class jS{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new kg(this,"async_queue_retry"),this.Yc=()=>{const t=Og();t&&yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Og();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Og();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Wr;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,J.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!nl(t))throw t;yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Ki("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=Mi.createAndSchedule(this,e,t,r,l=>this.ea(l));return this.jc.push(a),a}Xc(){this.zc&&nn()}verifyOperationInProgress(){}na(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function xD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class xi extends Y_{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new jS,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cb(this),this._firestoreClient.terminate()}}function GS(n,e){const t="object"==typeof n?n:(0,Je.Mq)(),r="string"==typeof n?n:e||"(default)",a=(0,Je.qX)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=(0,ke.P0)("firestore");l&&function BS(n,e,t,r={}){var a;const l=(n=Tr(n,Y_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&wa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Es.MOCK_USER;else{d=(0,ke.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ft($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Es(b)}n._authCredentials=new RE(new Ia(d,m))}}(a,...l)}return a}function $s(n){return n._firestoreClient||Cb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Cb(n){var e,t,r;const a=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QI(n._databaseId,m,n._persistenceKey,(O=a).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var m,O;n._firestoreClient=new xS(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Tf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tf(is.fromBase64String(e))}catch(t){throw new ft($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tf(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $g{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ft($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class RD{constructor(e){this._methodName=e}}class ND{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ft($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ft($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const WS=/^__.*__$/;class qS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xu(e,this.data,this.fieldMask,t,this.fieldTransforms):new nd(e,this.data,t,this.fieldTransforms)}}class Ab{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class y0{constructor(e,t,r,a,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===l&&this.oa(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:r,ha:!1});return a.la(e),a}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:r,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return v0(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Mb(this.ua)&&WS.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class KS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vf(e)}ga(e,t,r,a=!1){return new y0({ua:e,methodName:t,ma:r,path:Si.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=vf(n._databaseId);return new KS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PD(n,e,t,r,a,l={}){const d=n.ga(l.merge||l.mergeFields?2:0,e,t,a);kD("Data must be an object, but it was:",d,r);const m=Ob(r,d);let b,O;if(l.merge)b=new qo(d.fieldMask),O=d.fieldTransforms;else if(l.mergeFields){const U=[];for(const ee of l.mergeFields){const Ie=X_(e,ee,t);if(!d.contains(Ie))throw new ft($e.INVALID_ARGUMENT,`Field '${Ie}' is specified in your field mask but missing from your input data.`);Fb(U,Ie)||U.push(Ie)}b=new qo(U),O=d.fieldTransforms.filter(ee=>b.covers(ee.field))}else b=null,O=d.fieldTransforms;return new qS(new Bs(m),b,O)}class Z_ extends RD{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z_}}function Df(n,e){if(kb(n=(0,ke.m9)(n)))return kD("Unsupported field value:",e,n),Ob(n,e);if(n instanceof RD)return function(t,r){if(!Mb(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const d of t){let m=Df(d,r.da(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cw(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=wi.fromDate(t);return{timestampValue:Kl(r.serializer,a)}}if(t instanceof wi){const a=new wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kl(r.serializer,a)}}if(t instanceof ND)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tf)return{bytesValue:p_(r.serializer,t._byteString)};if(t instanceof ws){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${m0(t)}`)}(n,e)}function Ob(n,e){const t={};return jy(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(n,(r,a)=>{const l=Df(a,e.aa(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function kb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wi||n instanceof ND||n instanceof Tf||n instanceof ws||n instanceof RD)}function kD(n,e,t){if(!kb(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=m0(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function X_(n,e,t){if((e=(0,ke.m9)(e))instanceof $g)return e._internalPath;if("string"==typeof e)return _0(n,e);throw v0("Field path arguments must be of type string or ",n,!1,void 0,t)}const XS=new RegExp("[~\\*/\\[\\]]");function _0(n,e,t){if(e.search(XS)>=0)throw v0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $g(...e.split("."))._internalPath}catch{throw v0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function v0(n,e,t,r,a){const l=r&&!r.isEmpty(),d=void 0!==a;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||d)&&(b+=" (found",l&&(b+=` in field ${r}`),d&&(b+=` in document ${a}`),b+=")"),new ft($e.INVALID_ARGUMENT,m+n+b)}function Fb(n,e){return n.some(t=>t.isEqual(e))}class FD{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JS extends FD{data(){return super.data()}}function E0(n,e){return"string"==typeof e?_0(n,e):e instanceof $g?e._internalPath:e._delegate._internalPath}function Lb(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ft($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tA{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bu(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new ND(Vi(e.latitude),Vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const t=Su(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dr.fromString(e);cn(Mw(r));const a=new sl(r.get(1),r.get(3)),l=new Gt(r.popFirst(5));return a.isEqual(t)||Ki(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gg extends FD{constructor(e,t,r,a,l,d){super(e,t,r,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new D0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class D0 extends Gg{data(e={}){return super.data(e)}}class zg{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Cf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new D0(this._firestore,this._userDataWriter,r.key,r,new Cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ft($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new D0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>a||3!==d.type).map(d=>{const m=new D0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,O=-1;return 0!==d.type&&(b=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),O=l.indexOf(d.doc.key)),{type:rA(d.type),doc:m,oldIndex:b,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class vd extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}function iA(n){n=Tr(n,No);const e=Tr(n.firestore,xi),t=$s(e),r=new vd(e);return Lb(n._query),function yb(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(a,l,d,m,b){const O=new h0({next:ee=>{l.enqueueAndForget(()=>WT(a,U)),ee.fromCache&&"server"===m.source?b.reject(new ft($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(ee)},error:ee=>b.reject(ee)}),U=new YT(d,O,{includeMetadataChanges:!0,Uu:!0});return GT(a,U)}(yield Bg(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(a=>new zg(e,r,n,a))}function sA(n,e,t){n=Tr(n,ws);const r=Tr(n.firestore,xi),a=function VD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return ev(r,[PD(jg(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,yi.none())])}function oA(n,e,t,...r){n=Tr(n,ws);const a=Tr(n.firestore,xi),l=jg(a);let d;return d="string"==typeof(e=(0,ke.m9)(e))||e instanceof $g?function Nb(n,e,t,r,a,l){const d=n.ga(1,e,t),m=[X_(e,r,t)],b=[a];if(l.length%2!=0)throw new ft($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ie=0;Ie<l.length;Ie+=2)m.push(X_(e,l[Ie])),b.push(l[Ie+1]);const O=[],U=Bs.empty();for(let Ie=m.length-1;Ie>=0;--Ie)if(!Fb(O,m[Ie])){const ze=m[Ie];let wt=b[Ie];wt=(0,ke.m9)(wt);const Ft=d.fa(ze);if(wt instanceof Z_)O.push(ze);else{const an=Df(wt,Ft);null!=an&&(O.push(ze),U.set(ze,an))}}const ee=new qo(O);return new Ab(U,ee,d.fieldTransforms)}(l,"updateDoc",n._key,e,t,r):function Rb(n,e,t,r){const a=n.ga(1,e,t);kD("Data must be an object, but it was:",a,r);const l=[],d=Bs.empty();bu(r,(b,O)=>{const U=_0(e,b,t);O=(0,ke.m9)(O);const ee=a.fa(U);if(O instanceof Z_)l.push(U);else{const Ie=Df(O,ee);null!=Ie&&(l.push(U),d.set(U,Ie))}});const m=new qo(l);return new Ab(d,m,a.fieldTransforms)}(l,"updateDoc",n._key,e),ev(a,[d.toMutation(n._key,yi.exists(!0))])}function aA(n){return ev(Tr(n.firestore,xi),[new id(n._key,yi.none())])}function ev(n,e){return function(t,r){const a=new Wr;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function cS(n,e,t){return eD.apply(this,arguments)}(yield function SD(n){return p0(n).then(e=>e.syncEngine)}(t),r,a)})),a.promise}($s(n),e)}!function(n,e=!0){$l=Je.Jn,(0,Je.Xd)(new le.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const l=t.getProvider("app").getImmediate(),d=new xi(new kI(t.getProvider("auth-internal")),new xy(t.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ft($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(m.options.projectId,b)}(l,r),l);return a=Object.assign({useFetchStreams:e},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),(0,Je.KN)(AE,"3.11.0",n),(0,Je.KN)(AE,"3.11.0","esm2017")}();var EA=q(9751),zb=q(4004),wA={includeMetadataChanges:!1};function BD(n,e){return void 0===e&&(e=wA),new EA.y(function(t){var r=function uA(n,...e){var t,r,a;n=(0,ke.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||xD(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(xD(e[d])){const ee=e[d];e[d]=null===(t=ee.next)||void 0===t?void 0:t.bind(ee),e[d+1]=null===(r=ee.error)||void 0===r?void 0:r.bind(ee),e[d+2]=null===(a=ee.complete)||void 0===a?void 0:a.bind(ee)}let b,O,U;if(n instanceof ws)O=Tr(n.firestore,xi),U=hl(n._key.path),b={next:ee=>{e[d]&&e[d](function UD(n,e,t){const r=t.docs.get(e._key),a=new vd(n);return new Gg(n,a,e._key,r,new Cf(t.hasPendingWrites,t.fromCache),e.converter)}(O,n,ee))},error:e[d+1],complete:e[d+2]};else{const ee=Tr(n,No);O=Tr(ee.firestore,xi),U=ee._query;const Ie=new vd(O);b={next:ze=>{e[d]&&e[d](new zg(O,Ie,ee,ze))},error:e[d+1],complete:e[d+2]},Lb(n._query)}return function(ee,Ie,ze,wt){const Ft=new h0(wt),an=new YT(Ie,Ft,ze);return ee.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return GT(yield Bg(ee),an)})),()=>{Ft.Sc(),ee.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return WT(yield Bg(ee),an)}))}}($s(O),U,m,b)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function AA(n,e){return void 0===e&&(e={}),function SA(n){return BD(n,{includeMetadataChanges:!0}).pipe((0,zb.U)(function(e){return e.docs}))}(n).pipe((0,zb.U)(function(t){return t.map(function(r){return function Wb(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class b0{constructor(e){return e}}const Qb="firestore",HD=new W.OlP("angularfire2.firestore-instances");function RA(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new b0(r)}}const NA={provide:class MA{constructor(){return(0,p.vb)(Qb)}},deps:[[new W.FiY,HD]]},PA={provide:b0,useFactory:function xA(n,e){const t=(0,p.JM)(Qb,n,e);return t&&new b0(t)},deps:[[new W.FiY,HD],K.Ot]};let OA=(()=>{class n{constructor(){(0,Ce.KN)("angularfire",p.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=W.oAB({type:n}),n.\u0275inj=W.cJS({providers:[PA,NA]}),n})();function kA(n,...e){return{ngModule:OA,providers:[{provide:HD,useFactory:RA(n),multi:!0,deps:[W.R0b,W.zs3,p.HU,K.z6,[new W.FiY,ov],[new W.FiY,dp],...e]}]}}const FA=(0,p.u3)(AA,!0),LA=(0,p.u3)($S,!0),VA=(0,p.u3)(aA,!0),UA=(0,p.u3)(Tb,!0),BA=(0,p.u3)(iA,!0),$A=(0,p.u3)(GS,!0),jA=(0,p.u3)(sA,!0),HA=(0,p.u3)(oA,!0)},3530:(fn,ct,q)=>{q.d(ct,{q4:()=>Hf,HU:()=>ma,vb:()=>Nd,JM:()=>Rd,u3:()=>Zf});var p=q(8256),W=q(259),K=q(5861),Ce=q(6881),J=q(2090),ke=q(4859),Je=q(1877);const It=(w,C)=>C.some(k=>w instanceof k);let st,le;const Dt=new WeakMap,Oe=new WeakMap,Et=new WeakMap,Ht=new WeakMap,en=new WeakMap;let At={get(w,C,k){if(w instanceof IDBTransaction){if("done"===C)return Oe.get(w);if("objectStoreNames"===C)return w.objectStoreNames||Et.get(w);if("store"===C)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return mt(w[C])},set:(w,C,k)=>(w[C]=k,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function Ke(w){return"function"==typeof w?function ve(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(je(this),C),mt(Dt.get(this))}:function(...C){return mt(w.apply(je(this),C))}:function(C,...k){const Z=w.call(je(this),C,...k);return Et.set(Z,C.sort?C.sort():[C]),mt(Z)}}(w):(w instanceof IDBTransaction&&function xn(w){if(Oe.has(w))return;const C=new Promise((k,Z)=>{const fe=()=>{w.removeEventListener("complete",we),w.removeEventListener("error",Ve),w.removeEventListener("abort",Ve)},we=()=>{k(),fe()},Ve=()=>{Z(w.error||new DOMException("AbortError","AbortError")),fe()};w.addEventListener("complete",we),w.addEventListener("error",Ve),w.addEventListener("abort",Ve)});Oe.set(w,C)}(w),It(w,function pe(){return st||(st=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,At):w)}function mt(w){if(w instanceof IDBRequest)return function Qt(w){const C=new Promise((k,Z)=>{const fe=()=>{w.removeEventListener("success",we),w.removeEventListener("error",Ve)},we=()=>{k(mt(w.result)),fe()},Ve=()=>{Z(w.error),fe()};w.addEventListener("success",we),w.addEventListener("error",Ve)});return C.then(k=>{k instanceof IDBCursor&&Dt.set(k,w)}).catch(()=>{}),en.set(C,w),C}(w);if(Ht.has(w))return Ht.get(w);const C=Ke(w);return C!==w&&(Ht.set(w,C),en.set(C,w)),C}const je=w=>en.get(w),Lt=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],Qe=new Map;function bt(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(Qe.get(C))return Qe.get(C);const k=C.replace(/FromIndex$/,""),Z=C!==k,fe=Kt.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!fe&&!Lt.includes(k))return;const we=function(){var Ve=(0,K.Z)(function*(kt,...Nt){const on=this.transaction(kt,fe?"readwrite":"readonly");let Rn=on.store;return Z&&(Rn=Rn.index(Nt.shift())),(yield Promise.all([Rn[k](...Nt),fe&&on.done]))[0]});return function(Nt){return Ve.apply(this,arguments)}}();return Qe.set(C,we),we}!function Be(w){At=w(At)}(w=>({...w,get:(C,k,Z)=>bt(C,k)||w.get(C,k,Z),has:(C,k)=>!!bt(C,k)||w.has(C,k)}));const xe="@firebase/installations",Ee="0.6.4",He=1e4,at=`w:${Ee}`,Tt="FIS_v2",lt="https://firebaseinstallations.googleapis.com/v1",Pt=36e5,Te=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(w){return w instanceof J.ZR&&w.code.includes("request-failed")}function ht({projectId:w}){return`${lt}/projects/${w}/installations`}function Nn(w){return{token:w.token,requestStatus:2,expiresIn:Nr(w.expiresIn),creationTime:Date.now()}}function Dn(w,C){return rn.apply(this,arguments)}function rn(){return(rn=(0,K.Z)(function*(w,C){const Z=(yield C.json()).error;return Te.create("request-failed",{requestName:w,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Jn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ni(w){return er.apply(this,arguments)}function er(){return(er=(0,K.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function Nr(w){return Number(w.replace("s","000"))}function tr(){return(tr=(0,K.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:k}){const Z=ht(w),fe=Jn(w),we=C.getImmediate({optional:!0});if(we){const on=yield we.getHeartbeatsHeader();on&&fe.append("x-firebase-client",on)}const kt={method:"POST",headers:fe,body:JSON.stringify({fid:k,authVersion:Tt,appId:w.appId,sdkVersion:at})},Nt=yield ni(()=>fetch(Z,kt));if(Nt.ok){const on=yield Nt.json();return{fid:on.fid||k,registrationStatus:2,refreshToken:on.refreshToken,authToken:Nn(on.authToken)}}throw yield Dn("Create Installation",Nt)})).apply(this,arguments)}function qn(w){return new Promise(C=>{setTimeout(C,w)})}const hr=/^[cdef][\w-]{21}$/,Pr="";function vr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const k=function Kr(w){return function _r(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return hr.test(k)?k:Pr}catch{return Pr}}function Cn(w){return`${w.appName}!${w.appId}`}const ot=new Map;function St(w,C){const k=Cn(w);fr(k,C),function Ii(w,C){const k=function ai(){return!bn&&"BroadcastChannel"in self&&(bn=new BroadcastChannel("[Firebase] FID Change"),bn.onmessage=w=>{fr(w.data.key,w.data.fid)}),bn}();k&&k.postMessage({key:w,fid:C}),function Zn(){0===ot.size&&bn&&(bn.close(),bn=null)}()}(k,C)}function fr(w,C){const k=ot.get(w);if(k)for(const Z of k)Z(C)}let bn=null;const as="firebase-installations-database",Vn=1,Zr="firebase-installations-store";let Hr=null;function Ri(){return Hr||(Hr=function _t(w,C,{blocked:k,upgrade:Z,blocking:fe,terminated:we}={}){const Ve=indexedDB.open(w,C),kt=mt(Ve);return Z&&Ve.addEventListener("upgradeneeded",Nt=>{Z(mt(Ve.result),Nt.oldVersion,Nt.newVersion,mt(Ve.transaction))}),k&&Ve.addEventListener("blocked",()=>k()),kt.then(Nt=>{we&&Nt.addEventListener("close",()=>we()),fe&&Nt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),kt}(as,Vn,{upgrade:(w,C)=>{0===C&&w.createObjectStore(Zr)}})),Hr}function Er(w,C){return De.apply(this,arguments)}function De(){return(De=(0,K.Z)(function*(w,C){const k=Cn(w),fe=(yield Ri()).transaction(Zr,"readwrite"),we=fe.objectStore(Zr),Ve=yield we.get(k);return yield we.put(C,k),yield fe.done,(!Ve||Ve.fid!==C.fid)&&St(w,C.fid),C})).apply(this,arguments)}function se(w){return ge.apply(this,arguments)}function ge(){return(ge=(0,K.Z)(function*(w){const C=Cn(w),Z=(yield Ri()).transaction(Zr,"readwrite");yield Z.objectStore(Zr).delete(C),yield Z.done})).apply(this,arguments)}function Ye(w,C){return et.apply(this,arguments)}function et(){return(et=(0,K.Z)(function*(w,C){const k=Cn(w),fe=(yield Ri()).transaction(Zr,"readwrite"),we=fe.objectStore(Zr),Ve=yield we.get(k),kt=C(Ve);return void 0===kt?yield we.delete(k):yield we.put(kt,k),yield fe.done,kt&&(!Ve||Ve.fid!==kt.fid)&&St(w,kt.fid),kt})).apply(this,arguments)}function X(w){return ne.apply(this,arguments)}function ne(){return ne=(0,K.Z)(function*(w){let C;const k=yield Ye(w.appConfig,Z=>{const fe=function oe(w){return ue(w||{fid:vr(),registrationStatus:0})}(Z),we=function be(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Te.create("app-offline"))};const k={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},Z=function ye(w,C){return Mt.apply(this,arguments)}(w,k);return{installationEntry:k,registrationPromise:Z}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:ce(w)}:{installationEntry:C}}(w,fe);return C=we.registrationPromise,we.installationEntry});return k.fid===Pr?{installationEntry:yield C}:{installationEntry:k,registrationPromise:C}}),ne.apply(this,arguments)}function Mt(){return Mt=(0,K.Z)(function*(w,C){try{const k=yield function Vt(w,C){return tr.apply(this,arguments)}(w,C);return Er(w.appConfig,k)}catch(k){throw Ze(k)&&409===k.customData.serverCode?yield se(w.appConfig):yield Er(w.appConfig,{fid:C.fid,registrationStatus:0}),k}}),Mt.apply(this,arguments)}function ce(w){return ie.apply(this,arguments)}function ie(){return(ie=(0,K.Z)(function*(w){let C=yield Q(w.appConfig);for(;1===C.registrationStatus;)yield qn(100),C=yield Q(w.appConfig);if(0===C.registrationStatus){const{installationEntry:k,registrationPromise:Z}=yield X(w);return Z||k}return C})).apply(this,arguments)}function Q(w){return Ye(w,C=>{if(!C)throw Te.create("installation-not-found");return ue(C)})}function ue(w){return function Pe(w){return 1===w.registrationStatus&&w.registrationTime+He<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Rt(){return(Rt=(0,K.Z)(function*({appConfig:w,heartbeatServiceProvider:C},k){const Z=function Ot(w,{fid:C}){return`${ht(w)}/${C}/authTokens:generate`}(w,k),fe=function ar(w,{refreshToken:C}){const k=Jn(w);return k.append("Authorization",function Br(w){return`${Tt} ${w}`}(C)),k}(w,k),we=C.getImmediate({optional:!0});if(we){const on=yield we.getHeartbeatsHeader();on&&fe.append("x-firebase-client",on)}const kt={method:"POST",headers:fe,body:JSON.stringify({installation:{sdkVersion:at,appId:w.appId}})},Nt=yield ni(()=>fetch(Z,kt));if(Nt.ok)return Nn(yield Nt.json());throw yield Dn("Generate Auth Token",Nt)})).apply(this,arguments)}function Un(w){return ur.apply(this,arguments)}function ur(){return ur=(0,K.Z)(function*(w,C=!1){let k;const Z=yield Ye(w.appConfig,we=>{if(!In(we))throw Te.create("not-registered");const Ve=we.authToken;if(!C&&function On(w){return 2===w.requestStatus&&!function Or(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+Pt}(w)}(Ve))return we;if(1===Ve.requestStatus)return k=function Ue(w,C){return Se.apply(this,arguments)}(w,C),we;{if(!navigator.onLine)throw Te.create("app-offline");const kt=function nr(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(we);return k=function Wt(w,C){return un.apply(this,arguments)}(w,kt),kt}});return k?yield k:Z.authToken}),ur.apply(this,arguments)}function Se(){return(Se=(0,K.Z)(function*(w,C){let k=yield dt(w.appConfig);for(;1===k.authToken.requestStatus;)yield qn(100),k=yield dt(w.appConfig);const Z=k.authToken;return 0===Z.requestStatus?Un(w,C):Z})).apply(this,arguments)}function dt(w){return Ye(w,C=>{if(!In(C))throw Te.create("not-registered");return function ui(w){return 1===w.requestStatus&&w.requestTime+He<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function un(){return un=(0,K.Z)(function*(w,C){try{const k=yield function ut(w,C){return Rt.apply(this,arguments)}(w,C),Z=Object.assign(Object.assign({},C),{authToken:k});return yield Er(w.appConfig,Z),k}catch(k){if(!Ze(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const Z=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Er(w.appConfig,Z)}else yield se(w.appConfig);throw k}}),un.apply(this,arguments)}function In(w){return void 0!==w&&2===w.registrationStatus}function eo(){return(eo=(0,K.Z)(function*(w){const C=w,{installationEntry:k,registrationPromise:Z}=yield X(C);return Z?Z.catch(console.error):Un(C).catch(console.error),k.fid})).apply(this,arguments)}function Ts(){return Ts=(0,K.Z)(function*(w,C=!1){const k=w;return yield function Ln(w){return wr.apply(this,arguments)}(k),(yield Un(k,C)).token}),Ts.apply(this,arguments)}function wr(){return(wr=(0,K.Z)(function*(w){const{registrationPromise:C}=yield X(w);C&&(yield C)})).apply(this,arguments)}function vn(w){return Te.create("missing-app-config-values",{valueName:w})}const sr="installations",Ti=w=>{const C=w.getProvider("app").getImmediate(),k=function Ut(w){if(!w||!w.options)throw vn("App Configuration");if(!w.name)throw vn("App Name");const C=["projectId","apiKey","appId"];for(const k of C)if(!w.options[k])throw vn(k);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:k,heartbeatServiceProvider:(0,Ce.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Ir=w=>{const C=w.getProvider("app").getImmediate(),k=(0,Ce.qX)(C,sr).getImmediate();return{getId:()=>function Gr(w){return eo.apply(this,arguments)}(k),getToken:fe=>function Is(w){return Ts.apply(this,arguments)}(k,fe)}};(function ls(){(0,Ce.Xd)(new ke.wA(sr,Ti,"PUBLIC")),(0,Ce.Xd)(new ke.wA("installations-internal",Ir,"PRIVATE"))})(),(0,Ce.KN)(xe,Ee),(0,Ce.KN)(xe,Ee,"esm2017");const or="@firebase/remote-config",pr=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $i{constructor(C,k,Z,fe){this.client=C,this.storage=k,this.storageCache=Z,this.logger=fe}isCachedDataFresh(C,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-k,fe=Z<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${fe}.`),fe}fetch(C){var k=this;return(0,K.Z)(function*(){const[Z,fe]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(fe&&k.isCachedDataFresh(C.cacheMaxAgeMillis,Z))return fe;C.eTag=fe&&fe.eTag;const we=yield k.client.fetch(C),Ve=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Ve.push(k.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Ve),we})()}}function Ss(w=navigator){return w.languages&&w.languages[0]||w.language}class Zi{constructor(C,k,Z,fe,we,Ve){this.firebaseInstallations=C,this.sdkVersion=k,this.namespace=Z,this.projectId=fe,this.apiKey=we,this.appId=Ve}fetch(C){var k=this;return(0,K.Z)(function*(){const[Z,fe]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Nt={sdk_version:k.sdkVersion,app_instance_id:Z,app_instance_id_token:fe,app_id:k.appId,language_code:Ss()},on={method:"POST",headers:kt,body:JSON.stringify(Nt)},Rn=fetch(Ve,on),An=new Promise((ya,Ho)=>{C.signal.addEventListener(()=>{const Al=new Error("The operation was aborted.");Al.name="AbortError",Ho(Al)})});let na;try{yield Promise.race([Rn,An]),na=yield Rn}catch(ya){let Ho="fetch-client-network";throw"AbortError"===ya?.name&&(Ho="fetch-timeout"),pr.create(Ho,{originalErrorMessage:ya?.message})}let ns=na.status;const kd=na.headers.get("ETag")||void 0;let Sl,pc;if(200===na.status){let ya;try{ya=yield na.json()}catch(Ho){throw pr.create("fetch-client-parse",{originalErrorMessage:Ho?.message})}Sl=ya.entries,pc=ya.state}if("INSTANCE_STATE_UNSPECIFIED"===pc?ns=500:"NO_CHANGE"===pc?ns=304:("NO_TEMPLATE"===pc||"EMPTY_CONFIG"===pc)&&(Sl={}),304!==ns&&200!==ns)throw pr.create("fetch-status",{httpStatus:ns});return{status:ns,eTag:kd,config:Sl}})()}}class As{constructor(C,k){this.client=C,this.storage=k}fetch(C){var k=this;return(0,K.Z)(function*(){const Z=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(C,Z)})()}attemptFetch(C,{throttleEndTimeMillis:k,backoffCount:Z}){var fe=this;return(0,K.Z)(function*(){yield function Yr(w,C){return new Promise((k,Z)=>{const fe=Math.max(C-Date.now(),0),we=setTimeout(k,fe);w.addEventListener(()=>{clearTimeout(we),Z(pr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,k);try{const we=yield fe.client.fetch(C);return yield fe.storage.deleteThrottleMetadata(),we}catch(we){if(!function Di(w){if(!(w instanceof J.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(we))throw we;const Ve={throttleEndTimeMillis:Date.now()+(0,J.$s)(Z),backoffCount:Z+1};return yield fe.storage.setThrottleMetadata(Ve),fe.attemptFetch(C,Ve)}})()}}class cu{constructor(C,k,Z,fe,we){this.app=C,this._client=k,this._storageCache=Z,this._storage=fe,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ji(w,C){const k=w.target.error||void 0;return pr.create(C,{originalErrorMessage:k&&k?.message})}const Gs="app_namespace_store";class Qo{constructor(C,k,Z,fe=function hs(){return new Promise((w,C)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=Z=>{C(ji(Z,"storage-open"))},k.onsuccess=Z=>{w(Z.target.result)},k.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(k){C(pr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=C,this.appName=k,this.namespace=Z,this.openDbPromise=fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var k=this;return(0,K.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((fe,we)=>{const kt=Z.transaction([Gs],"readonly").objectStore(Gs),Nt=k.createCompositeKey(C);try{const on=kt.get(Nt);on.onerror=Rn=>{we(ji(Rn,"storage-get"))},on.onsuccess=Rn=>{const An=Rn.target.result;fe(An?An.value:void 0)}}catch(on){we(pr.create("storage-get",{originalErrorMessage:on?.message}))}})})()}set(C,k){var Z=this;return(0,K.Z)(function*(){const fe=yield Z.openDbPromise;return new Promise((we,Ve)=>{const Nt=fe.transaction([Gs],"readwrite").objectStore(Gs),on=Z.createCompositeKey(C);try{const Rn=Nt.put({compositeKey:on,value:k});Rn.onerror=An=>{Ve(ji(An,"storage-set"))},Rn.onsuccess=()=>{we()}}catch(Rn){Ve(pr.create("storage-set",{originalErrorMessage:Rn?.message}))}})})()}delete(C){var k=this;return(0,K.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((fe,we)=>{const kt=Z.transaction([Gs],"readwrite").objectStore(Gs),Nt=k.createCompositeKey(C);try{const on=kt.delete(Nt);on.onerror=Rn=>{we(ji(Rn,"storage-delete"))},on.onsuccess=()=>{fe()}}catch(on){we(pr.create("storage-delete",{originalErrorMessage:on?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class ja{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,K.Z)(function*(){const k=C.storage.getLastFetchStatus(),Z=C.storage.getLastSuccessfulFetchTimestampMillis(),fe=C.storage.getActiveConfig(),we=yield k;we&&(C.lastFetchStatus=we);const Ve=yield Z;Ve&&(C.lastSuccessfulFetchTimestampMillis=Ve);const kt=yield fe;kt&&(C.activeConfig=kt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Hi(){return vo.apply(this,arguments)}function vo(){return(vo=(0,K.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}!function io(){(0,Ce.Xd)(new ke.wA("remote-config",function w(C,{instanceIdentifier:k}){const Z=C.getProvider("app").getImmediate(),fe=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,J.hl)())throw pr.create("indexed-db-unavailable");const{projectId:we,apiKey:Ve,appId:kt}=Z.options;if(!we)throw pr.create("registration-project-id");if(!Ve)throw pr.create("registration-api-key");if(!kt)throw pr.create("registration-app-id");const Nt=new Qo(kt,Z.name,k=k||"firebase"),on=new ja(Nt),Rn=new Je.Yd(or);Rn.logLevel=Je.in.ERROR;const An=new Zi(fe,Ce.Jn,k,we,Ve,kt),na=new As(An,Nt),ns=new $i(na,Nt,on,Rn),kd=new cu(Z,ns,on,Nt,Rn);return function no(w){const C=(0,J.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(kd),kd},"PUBLIC").setMultipleInstances(!0)),(0,Ce.KN)(or,"0.4.4"),(0,Ce.KN)(or,"0.4.4","esm2017")}();const so=(w,C)=>C.some(k=>w instanceof k);let Fo,Ms;const xs=new WeakMap,Pi=new WeakMap,Xi=new WeakMap,Eo=new WeakMap,Ji=new WeakMap;let Ws={get(w,C,k){if(w instanceof IDBTransaction){if("done"===C)return Pi.get(w);if("objectStoreNames"===C)return w.objectStoreNames||Xi.get(w);if("store"===C)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Gi(w[C])},set:(w,C,k)=>(w[C]=k,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function hi(w){return"function"==typeof w?function Xo(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jr(){return Ms||(Ms=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(wo(this),C),Gi(xs.get(this))}:function(...C){return Gi(w.apply(wo(this),C))}:function(C,...k){const Z=w.call(wo(this),C,...k);return Xi.set(Z,C.sort?C.sort():[C]),Gi(Z)}}(w):(w instanceof IDBTransaction&&function ri(w){if(Pi.has(w))return;const C=new Promise((k,Z)=>{const fe=()=>{w.removeEventListener("complete",we),w.removeEventListener("error",Ve),w.removeEventListener("abort",Ve)},we=()=>{k(),fe()},Ve=()=>{Z(w.error||new DOMException("AbortError","AbortError")),fe()};w.addEventListener("complete",we),w.addEventListener("error",Ve),w.addEventListener("abort",Ve)});Pi.set(w,C)}(w),so(w,function hu(){return Fo||(Fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ws):w)}function Gi(w){if(w instanceof IDBRequest)return function zs(w){const C=new Promise((k,Z)=>{const fe=()=>{w.removeEventListener("success",we),w.removeEventListener("error",Ve)},we=()=>{k(Gi(w.result)),fe()},Ve=()=>{Z(w.error),fe()};w.addEventListener("success",we),w.addEventListener("error",Ve)});return C.then(k=>{k instanceof IDBCursor&&xs.set(k,w)}).catch(()=>{}),Ji.set(C,w),C}(w);if(Eo.has(w))return Eo.get(w);const C=hi(w);return C!==w&&(Eo.set(w,C),Ji.set(C,w)),C}const wo=w=>Ji.get(w);function Kn(w,C,{blocked:k,upgrade:Z,blocking:fe,terminated:we}={}){const Ve=indexedDB.open(w,C),kt=Gi(Ve);return Z&&Ve.addEventListener("upgradeneeded",Nt=>{Z(Gi(Ve.result),Nt.oldVersion,Nt.newVersion,Gi(Ve.transaction))}),k&&Ve.addEventListener("blocked",()=>k()),kt.then(Nt=>{we&&Nt.addEventListener("close",()=>we()),fe&&Nt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),kt}function ps(w,{blocked:C}={}){const k=indexedDB.deleteDatabase(w);return C&&k.addEventListener("blocked",()=>C()),Gi(k).then(()=>{})}const Io=["get","getKey","getAll","getAllKeys","count"],Ci=["put","add","delete","clear"],es=new Map;function ii(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(es.get(C))return es.get(C);const k=C.replace(/FromIndex$/,""),Z=C!==k,fe=Ci.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!fe&&!Io.includes(k))return;const we=function(){var Ve=(0,K.Z)(function*(kt,...Nt){const on=this.transaction(kt,fe?"readwrite":"readonly");let Rn=on.store;return Z&&(Rn=Rn.index(Nt.shift())),(yield Promise.all([Rn[k](...Nt),fe&&on.done]))[0]});return function(Nt){return Ve.apply(this,arguments)}}();return es.set(C,we),we}!function fs(w){Ws=w(Ws)}(w=>({...w,get:(C,k,Z)=>ii(C,k)||w.get(C,k,Z),has:(C,k)=>!!ii(C,k)||w.has(C,k)}));const Rs="/firebase-messaging-sw.js",Ar="/firebase-cloud-messaging-push-scope",Sa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="https://fcmregistrations.googleapis.com/v1",oo="google.c.a.c_id",Oi="google.c.a.c_l",ua="google.c.a.ts",Lo="google.c.a.e";var N=(()=>{return(w=N||(N={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",N;var w})();function x(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function M(w){const k=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(k),fe=new Uint8Array(Z.length);for(let we=0;we<Z.length;++we)fe[we]=Z.charCodeAt(we);return fe}const z="fcm_token_details_db",Fe=5,Xt="fcm_token_object_Store";function Qr(){return Qr=(0,K.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(z))return null;let C=null;return(yield Kn(z,Fe,{upgrade:(Z=(0,K.Z)(function*(fe,we,Ve,kt){var Nt;if(we<2||!fe.objectStoreNames.contains(Xt))return;const on=kt.objectStore(Xt),Rn=yield on.index("fcmSenderId").get(w);if(yield on.clear(),Rn)if(2===we){const An=Rn;if(!An.auth||!An.p256dh||!An.endpoint)return;C={token:An.fcmToken,createTime:null!==(Nt=An.createTime)&&void 0!==Nt?Nt:Date.now(),subscriptionOptions:{auth:An.auth,p256dh:An.p256dh,endpoint:An.endpoint,swScope:An.swScope,vapidKey:"string"==typeof An.vapidKey?An.vapidKey:x(An.vapidKey)}}}else if(3===we){const An=Rn;C={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:x(An.auth),p256dh:x(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:x(An.vapidKey)}}}else if(4===we){const An=Rn;C={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:x(An.auth),p256dh:x(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:x(An.vapidKey)}}}}),function(we,Ve,kt,Nt){return Z.apply(this,arguments)})})).close(),yield ps(z),yield ps("fcm_vapid_details_db"),yield ps("undefined"),function rt(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var Z}),Qr.apply(this,arguments)}const Pn="firebase-messaging-database",ao=1,gs="firebase-messaging-store";let Fr=null;function Jo(){return Fr||(Fr=Kn(Pn,ao,{upgrade:(w,C)=>{0===C&&w.createObjectStore(gs)}})),Fr}function ki(w){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,K.Z)(function*(w){const C=ca(w),Z=yield(yield Jo()).transaction(gs).objectStore(gs).get(C);if(Z)return Z;{const fe=yield function lr(w){return Qr.apply(this,arguments)}(w.appConfig.senderId);if(fe)return yield Do(w,fe),fe}}),Lr.apply(this,arguments)}function Do(w,C){return la.apply(this,arguments)}function la(){return(la=(0,K.Z)(function*(w,C){const k=ca(w),fe=(yield Jo()).transaction(gs,"readwrite");return yield fe.objectStore(gs).put(C,k),yield fe.done,C})).apply(this,arguments)}function fu(){return(fu=(0,K.Z)(function*(w){const C=ca(w),Z=(yield Jo()).transaction(gs,"readwrite");yield Z.objectStore(gs).delete(C),yield Z.done})).apply(this,arguments)}function ca({appConfig:w}){return w.appId}const Mr=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function V(w,C){return _.apply(this,arguments)}function _(){return(_=(0,K.Z)(function*(w,C){const k=yield de(w),Z=We(C),fe={method:"POST",headers:k,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(ae(w.appConfig),fe)).json()}catch(Ve){throw Mr.create("token-subscribe-failed",{errorInfo:Ve?.toString()})}if(we.error)throw Mr.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw Mr.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function R(){return(R=(0,K.Z)(function*(w,C){const k=yield de(w),Z=We(C.subscriptionOptions),fe={method:"PATCH",headers:k,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(`${ae(w.appConfig)}/${C.token}`,fe)).json()}catch(Ve){throw Mr.create("token-update-failed",{errorInfo:Ve?.toString()})}if(we.error)throw Mr.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw Mr.create("token-update-no-token");return we.token})).apply(this,arguments)}function $(w,C){return Y.apply(this,arguments)}function Y(){return(Y=(0,K.Z)(function*(w,C){const Z={method:"DELETE",headers:yield de(w)};try{const we=yield(yield fetch(`${ae(w.appConfig)}/${C}`,Z)).json();if(we.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(fe){throw Mr.create("token-unsubscribe-failed",{errorInfo:fe?.toString()})}})).apply(this,arguments)}function ae({projectId:w}){return`${To}/projects/${w}/registrations`}function de(w){return Re.apply(this,arguments)}function Re(){return(Re=(0,K.Z)(function*({appConfig:w,installations:C}){const k=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function We({p256dh:w,auth:C,endpoint:k,vapidKey:Z}){const fe={web:{endpoint:k,auth:C,p256dh:w}};return Z!==Sa&&(fe.web.applicationPubKey=Z),fe}const Bt=6048e5;function Sn(){return Sn=(0,K.Z)(function*(w){const C=yield function fi(w,C){return si.apply(this,arguments)}(w.swRegistration,w.vapidKey),k={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:x(C.getKey("auth")),p256dh:x(C.getKey("p256dh"))},Z=yield ki(w.firebaseDependencies);if(Z){if(function zr(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(Z.subscriptionOptions,k))return Date.now()>=Z.createTime+Bt?function yn(w,C){return Yn.apply(this,arguments)}(w,{token:Z.token,createTime:Date.now(),subscriptionOptions:k}):Z.token;try{yield $(w.firebaseDependencies,Z.token)}catch(fe){console.warn(fe)}return cr(w.firebaseDependencies,k)}return cr(w.firebaseDependencies,k)}),Sn.apply(this,arguments)}function hn(){return hn=(0,K.Z)(function*(w){const C=yield ki(w.firebaseDependencies);C&&(yield $(w.firebaseDependencies,C.token),yield function Aa(w){return fu.apply(this,arguments)}(w.firebaseDependencies));const k=yield w.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),hn.apply(this,arguments)}function Yn(){return Yn=(0,K.Z)(function*(w,C){try{const k=yield function E(w,C){return R.apply(this,arguments)}(w.firebaseDependencies,C),Z=Object.assign(Object.assign({},C),{token:k,createTime:Date.now()});return yield Do(w.firebaseDependencies,Z),k}catch(k){throw yield function wn(w){return hn.apply(this,arguments)}(w),k}}),Yn.apply(this,arguments)}function cr(w,C){return gr.apply(this,arguments)}function gr(){return(gr=(0,K.Z)(function*(w,C){const Z={token:yield V(w,C),createTime:Date.now(),subscriptionOptions:C};return yield Do(w,Z),Z.token})).apply(this,arguments)}function si(){return(si=(0,K.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:M(C)})})).apply(this,arguments)}function bi(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Bn(w,C){if(!C.notification)return;w.notification={};const k=C.notification.title;k&&(w.notification.title=k);const Z=C.notification.body;Z&&(w.notification.body=Z);const fe=C.notification.image;fe&&(w.notification.image=fe);const we=C.notification.icon;we&&(w.notification.icon=we)}(C,w),function uo(w,C){C.data&&(w.data=C.data)}(C,w),function D(w,C){var k,Z,fe,we,Ve;if(!(C.fcmOptions||null!==(k=C.notification)&&void 0!==k&&k.click_action))return;w.fcmOptions={};const kt=null!==(fe=null===(Z=C.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==fe?fe:null===(we=C.notification)||void 0===we?void 0:we.click_action;kt&&(w.fcmOptions.link=kt);const Nt=null===(Ve=C.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;Nt&&(w.fcmOptions.analyticsLabel=Nt)}(C,w),C}function A(w,C){const k=[];for(let Z=0;Z<w.length;Z++)k.push(w.charAt(Z)),Z<C.length&&k.push(C.charAt(Z));return k.join("")}function re(w){return Mr.create("missing-app-config-values",{valueName:w})}A("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),A("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Le{constructor(C,k,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const fe=function j(w){if(!w||!w.options)throw re("App Configuration Object");if(!w.name)throw re("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:k}=w;for(const Z of C)if(!k[Z])throw re(Z);return{appName:w.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:fe,installations:k,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function tt(w){return qe.apply(this,arguments)}function qe(){return(qe=(0,K.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Rs,{scope:Ar}),w.swRegistration.update().catch(()=>{})}catch(C){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function xt(){return(xt=(0,K.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield tt(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function sn(){return(sn=(0,K.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=Sa)})).apply(this,arguments)}function En(){return En=(0,K.Z)(function*(w,C){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield function tn(w,C){return sn.apply(this,arguments)}(w,C?.vapidKey),yield function Ct(w,C){return xt.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function qt(w){return Sn.apply(this,arguments)}(w)}),En.apply(this,arguments)}function Qn(){return(Qn=(0,K.Z)(function*(w,C,k){const Z=function Ns(w){switch(w){case N.NOTIFICATION_CLICKED:return"notification_open";case N.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:k[oo],message_name:k[Oi],message_time:k[ua],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xr(){return xr=(0,K.Z)(function*(w,C){const k=C.data;if(!k.isFirebaseMessaging)return;w.onMessageHandler&&k.messageType===N.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(bi(k)):w.onMessageHandler.next(bi(k)));const Z=k.data;(function L(w){return"object"==typeof w&&!!w&&oo in w})(Z)&&"1"===Z[Lo]&&(yield function mr(w,C,k){return Qn.apply(this,arguments)}(w,k.messageType,Z))}),xr.apply(this,arguments)}const Ps="@firebase/messaging",Os=w=>{const C=new Le(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Co(w,C){return xr.apply(this,arguments)}(C,k)),C},Vo=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:Z=>function Gn(w,C){return En.apply(this,arguments)}(C,Z)}};function lo(){return pu.apply(this,arguments)}function pu(){return(pu=(0,K.Z)(function*(){try{yield(0,J.eu)()}catch{return!1}return typeof window<"u"&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rc(){(0,Ce.Xd)(new ke.wA("messaging",Os,"PUBLIC")),(0,Ce.Xd)(new ke.wA("messaging-internal",Vo,"PRIVATE")),(0,Ce.KN)(Ps,"0.12.4"),(0,Ce.KN)(Ps,"0.12.4","esm2017")}();const Pu="analytics",Tl="firebase_id",ea="origin",Jr=6e4,Ou="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",za="https://www.googletagmanager.com/gtag/js",_i=new Je.Yd("@firebase/analytics"),ts=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Af(w){if(!w.startsWith(za)){const C=ts.create("invalid-gtag-resource",{gtagURL:w});return _i.warn(C.message),""}return w}function ku(w){return Promise.all(w.map(C=>C.catch(k=>k)))}function da(){return(da=(0,K.Z)(function*(w,C,k,Z,fe,we){const Ve=Z[fe];try{if(Ve)yield C[Ve];else{const Nt=(yield ku(k)).find(on=>on.measurementId===fe);Nt&&(yield C[Nt.appId])}}catch(kt){_i.error(kt)}w("config",fe,we)})).apply(this,arguments)}function ic(){return(ic=(0,K.Z)(function*(w,C,k,Z,fe){try{let we=[];if(fe&&fe.send_to){let Ve=fe.send_to;Array.isArray(Ve)||(Ve=[Ve]);const kt=yield ku(k);for(const Nt of Ve){const on=kt.find(An=>An.measurementId===Nt),Rn=on&&C[on.appId];if(!Rn){we=[];break}we.push(Rn)}}0===we.length&&(we=Object.values(C)),yield Promise.all(we),w("event",Z,fe||{})}catch(we){_i.error(we)}})).apply(this,arguments)}const Vu=30,qa=new class sc{constructor(C={},k=1e3){this.throttleMetadata=C,this.intervalMillis=k}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,k){this.throttleMetadata[C]=k}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function xf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function ms(){return(ms=(0,K.Z)(function*(w){var C;const{appId:k,apiKey:Z}=w,fe={method:"GET",headers:xf(Z)},we=Ou.replace("{app-id}",k),Ve=yield fetch(we,fe);if(200!==Ve.status&&304!==Ve.status){let kt="";try{const Nt=yield Ve.json();null!==(C=Nt.error)&&void 0!==C&&C.message&&(kt=Nt.error.message)}catch{}throw ts.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:kt})}return Ve.json()})).apply(this,arguments)}function pa(){return(pa=(0,K.Z)(function*(w,C=qa,k){const{appId:Z,apiKey:fe,measurementId:we}=w.options;if(!Z)throw ts.create("no-app-id");if(!fe){if(we)return{measurementId:we,appId:Z};throw ts.create("no-api-key")}const Ve=C.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kt=new Dl;return setTimeout((0,K.Z)(function*(){kt.abort()}),void 0!==k?k:Jr),oc({appId:Z,apiKey:fe,measurementId:we},Ve,kt,C)})).apply(this,arguments)}function oc(w,C,k){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,K.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:k},Z,fe=qa){var we;const{appId:Ve,measurementId:kt}=w;try{yield function Uo(w,C){return new Promise((k,Z)=>{const fe=Math.max(C-Date.now(),0),we=setTimeout(k,fe);w.addEventListener(()=>{clearTimeout(we),Z(ts.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(Z,C)}catch(Nt){if(kt)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:Ve,measurementId:kt};throw Nt}try{const Nt=yield function Uu(w){return ms.apply(this,arguments)}(w);return fe.deleteThrottleMetadata(Ve),Nt}catch(Nt){const on=Nt;if(!function wd(w){if(!(w instanceof J.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(on)){if(fe.deleteThrottleMetadata(Ve),kt)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${on?.message}]`),{appId:Ve,measurementId:kt};throw Nt}const Rn=503===Number(null===(we=on?.customData)||void 0===we?void 0:we.httpStatus)?(0,J.$s)(k,fe.intervalMillis,Vu):(0,J.$s)(k,fe.intervalMillis),An={throttleEndTimeMillis:Date.now()+Rn,backoffCount:k+1};return fe.setThrottleMetadata(Ve,An),_i.debug(`Calling attemptFetch again in ${Rn} millis`),oc(w,An,Z,fe)}}),Bu.apply(this,arguments)}class Dl{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Rr,ta;function uc(){return(uc=(0,K.Z)(function*(w,C,k,Z,fe){if(fe&&fe.global)w("event",k,Z);else{const we=yield C;w("event",k,Object.assign(Object.assign({},Z),{send_to:we}))}})).apply(this,arguments)}function Ya(){return(Ya=(0,K.Z)(function*(){if(!(0,J.hl)())return _i.warn(ts.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(w){return _i.warn(ts.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function Bo(){return Bo=(0,K.Z)(function*(w,C,k,Z,fe,we,Ve){var kt;const Nt=function fa(w){return pa.apply(this,arguments)}(w);Nt.then(ns=>{k[ns.measurementId]=ns.appId,w.options.measurementId&&ns.measurementId!==w.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${ns.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ns=>_i.error(ns)),C.push(Nt);const on=function Ka(){return Ya.apply(this,arguments)}().then(ns=>{if(ns)return Z.getId()}),[Rn,An]=yield Promise.all([Nt,on]);(function Ma(w){const C=window.document.getElementsByTagName("script");for(const k of Object.values(C))if(k.src&&k.src.includes(za)&&k.src.includes(w))return k;return null})(we)||function yu(w,C){const k=function ks(w,C){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(w,C)),k}("firebase-js-sdk-policy",{createScriptURL:Af}),Z=document.createElement("script"),fe=`${za}?l=${w}&id=${C}`;Z.src=k?k?.createScriptURL(fe):fe,Z.async=!0,document.head.appendChild(Z)}(we,Rn.measurementId),ta&&(fe("consent","default",ta),function Dd(w){ta=w}(void 0)),fe("js",new Date);const na=null!==(kt=Ve?.config)&&void 0!==kt?kt:{};return na[ea]="firebase",na.update=!0,null!=An&&(na[Tl]=An),fe("config",Rn.measurementId,na),Rr&&(fe("set",Rr),function ys(w){Rr=w}(void 0)),Rn.measurementId}),Bo.apply(this,arguments)}class Nf{constructor(C){this.app=C}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},y=[];const v={};let P,B,f="dataLayer",T="gtag",G=!1;function jt(w,C,k){!function Xe(){const w=[];if((0,J.ru)()&&w.push("This is a browser extension environment."),(0,J.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((Z,fe)=>`(${fe+1}) ${Z}`).join(" "),k=ts.create("invalid-analytics-context",{errorInfo:C});_i.warn(k.message)}}();const Z=w.options.appId;if(!Z)throw ts.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ts.create("no-api-key");_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$o[Z])throw ts.create("already-exists",{id:Z});if(!G){!function Wa(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(f);const{wrappedGtag:we,gtagCore:Ve}=function Lu(w,C,k,Z,fe){let we=function(...Ve){window[Z].push(arguments)};return window[fe]&&"function"==typeof window[fe]&&(we=window[fe]),window[fe]=function Mf(w,C,k,Z){function we(){return we=(0,K.Z)(function*(Ve,...kt){try{if("event"===Ve){const[Nt,on]=kt;yield function ha(w,C,k,Z,fe){return ic.apply(this,arguments)}(w,C,k,Nt,on)}else if("config"===Ve){const[Nt,on]=kt;yield function Fu(w,C,k,Z,fe,we){return da.apply(this,arguments)}(w,C,k,Z,Nt,on)}else if("consent"===Ve){const[Nt]=kt;w("consent","update",Nt)}else if("get"===Ve){const[Nt,on,Rn]=kt;w("get",Nt,on,Rn)}else if("set"===Ve){const[Nt]=kt;w("set",Nt)}else w(Ve,...kt)}catch(Nt){_i.error(Nt)}}),we.apply(this,arguments)}return function fe(Ve){return we.apply(this,arguments)}}(we,w,C,k),{gtagCore:we,wrappedGtag:window[fe]}}($o,y,v,f,T);B=we,P=Ve,G=!0}return $o[Z]=function Qa(w,C,k,Z,fe,we,Ve){return Bo.apply(this,arguments)}(w,y,v,C,P,f,k),new Nf(w)}function vi(){return So.apply(this,arguments)}function So(){return(So=(0,K.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}const Of="@firebase/analytics";!function Ff(){(0,Ce.Xd)(new ke.wA(Pu,(C,{options:k})=>jt(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Ce.Xd)(new ke.wA("analytics-internal",function w(C){try{const k=C.getProvider(Pu).getImmediate();return{logEvent:(Z,fe,we)=>function _u(w,C,k,Z){w=(0,J.m9)(w),function ac(w,C,k,Z,fe){return uc.apply(this,arguments)}(B,$o[w.app.options.appId],C,k,Z).catch(fe=>_i.error(fe))}(k,Z,fe,we)}}catch(k){throw ts.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Ce.KN)(Of,"0.10.0"),(0,Ce.KN)(Of,"0.10.0","esm2017")}();var vu=q(727);class cc extends vu.w0{constructor(C,k){super()}schedule(C,k=0){return this}}const dc={setInterval(w,C,...k){const{delegate:Z}=dc;return Z?.setInterval?Z.setInterval(w,C,...k):setInterval(w,C,...k)},clearInterval(w){const{delegate:C}=dc;return(C?.clearInterval||clearInterval)(w)},delegate:void 0};var Lf=q(8737);class Vf extends cc{constructor(C,k){super(C,k),this.scheduler=C,this.work=k,this.pending=!1}schedule(C,k=0){var Z;if(this.closed)return this;this.state=C;const fe=this.id,we=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(we,fe,k)),this.pending=!0,this.delay=k,this.id=null!==(Z=this.id)&&void 0!==Z?Z:this.requestAsyncId(we,this.id,k),this}requestAsyncId(C,k,Z=0){return dc.setInterval(C.flush.bind(C,this),Z)}recycleAsyncId(C,k,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return k;null!=k&&dc.clearInterval(k)}execute(C,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(C,k);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,k){let fe,Z=!1;try{this.work(C)}catch(we){Z=!0,fe=we||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:C,scheduler:k}=this,{actions:Z}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Lf.P)(Z,this),null!=C&&(this.id=this.recycleAsyncId(k,C,null)),this.delay=null,super.unsubscribe()}}}const bd={now:()=>(bd.delegate||Date).now(),delegate:void 0};class hc{constructor(C,k=hc.now){this.schedulerActionCtor=C,this.now=k}schedule(C,k=0,Z){return new this.schedulerActionCtor(this,C).schedule(Z,k)}}hc.now=bd.now;class Uf extends hc{constructor(C,k=hc.now){super(C,k),this.actions=[],this._active=!1}flush(C){const{actions:k}=this;if(this._active)return void k.push(C);let Z;this._active=!0;do{if(Z=C.execute(C.state,C.delay))break}while(C=k.shift());if(this._active=!1,Z){for(;C=k.shift();)C.unsubscribe();throw Z}}}const Ad=new class Sd extends Uf{}(class qg extends Vf{constructor(C,k){super(C,k),this.scheduler=C,this.work=k}schedule(C,k=0){return k>0?super.schedule(C,k):(this.delay=k,this.state=C,this.scheduler.flush(this),this)}execute(C,k){return k>0||this.closed?super.execute(C,k):this._execute(C,k)}requestAsyncId(C,k,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(C,k,Z):(C.flush(this),0)}}),Bf=new Uf(Vf);var $f=q(9751),fc=q(8505),Kg=q(9468),jf=q(5363);const Hf=new p.GfV("7.5.0"),Hu="__angularfire_symbol__analyticsIsSupportedValue",Gf="__angularfire_symbol__analyticsIsSupported",zf="__angularfire_symbol__remoteConfigIsSupportedValue",Eu="__angularfire_symbol__remoteConfigIsSupported",Wf="__angularfire_symbol__messagingIsSupportedValue",qf="__angularfire_symbol__messagingIsSupported";function Rd(w,C,k){if(C){if(1===C.length)return C[0];const we=C.filter(Ve=>Ve.app===k);if(1===we.length)return we[0]}return k.container.getProvider(w).getImmediate({optional:!0})}globalThis[Gf]||(globalThis[Gf]=vi().then(w=>globalThis[Hu]=w).catch(()=>globalThis[Hu]=!1)),globalThis[qf]||(globalThis[qf]=lo().then(w=>globalThis[Wf]=w).catch(()=>globalThis[Wf]=!1)),globalThis[Eu]||(globalThis[Eu]=Hi().then(w=>globalThis[zf]=w).catch(()=>globalThis[zf]=!1));const Nd=(w,C)=>{const k=C?[C]:(0,W.C6)(),Z=[];return k.forEach(fe=>{fe.container.getProvider(w).instances.forEach(Ve=>{Z.includes(Ve)||Z.push(Ve)})}),Z};function ga(){}class Pd{constructor(C,k=Ad){this.zone=C,this.delegate=k}now(){return this.delegate.now()}schedule(C,k,Z){const fe=this.zone;return this.delegate.schedule(function(Ve){fe.runGuarded(()=>{C.apply(this,[Ve])})},k,Z)}}class Yf{constructor(C){this.zone=C,this.task=null}call(C,k){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)),k.pipe((0,fc.b)({next:Z,complete:Z,error:Z})).subscribe(C).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ma=(()=>{class w{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Pd(Zone.current)),this.insideAngular=k.run(()=>new Pd(Zone.current,Bf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(k){return new(k||w)(p.LFG(p.R0b))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function wu(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Iu(w){return wu().ngZone.run(()=>w())}function Od(w){return wu(),function Xg(w){return function(k){return(k=k.lift(new Yf(w.ngZone))).pipe((0,Kg.R)(w.outsideAngular),(0,jf.Q)(w.insideAngular))}}(wu())(w)}const Jg=(w,C)=>function(){const Z=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Iu(()=>w.apply(void 0,Z))},Zf=(w,C)=>function(){let k;const Z=arguments;for(let we=0;we<arguments.length;we++)"function"==typeof Z[we]&&(C&&(k||(k=Iu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)))),Z[we]=Jg(Z[we],k));const fe=function Qg(w){return wu().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,Z));if(!C){if(fe instanceof $f.y){const we=wu();return fe.pipe((0,Kg.R)(we.outsideAngular),(0,jf.Q)(we.insideAngular))}return Iu(()=>fe)}return fe instanceof $f.y?fe.pipe(Od):fe instanceof Promise?Iu(()=>new Promise((we,Ve)=>fe.then(kt=>Iu(()=>we(kt)),kt=>Iu(()=>Ve(kt))))):"function"==typeof fe&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),fe.apply(this,arguments)}:Iu(()=>fe)}},2090:(fn,ct,q)=>{q.d(ct,{$s:()=>se,BH:()=>Ke,L:()=>st,LL:()=>he,P0:()=>At,Pz:()=>ve,Sg:()=>mt,US:()=>ke,ZR:()=>pt,aH:()=>Be,b$:()=>Qe,eu:()=>lt,hl:()=>Tt,m9:()=>et,ne:()=>Cn,ru:()=>Kt,tV:()=>le,uI:()=>_t,vZ:()=>tr,xO:()=>hr,z$:()=>je,zI:()=>Pt});const Ce=function(X){const ne=[];let oe=0;for(let be=0;be<X.length;be++){let ye=X.charCodeAt(be);ye<128?ne[oe++]=ye:ye<2048?(ne[oe++]=ye>>6|192,ne[oe++]=63&ye|128):55296==(64512&ye)&&be+1<X.length&&56320==(64512&X.charCodeAt(be+1))?(ye=65536+((1023&ye)<<10)+(1023&X.charCodeAt(++be)),ne[oe++]=ye>>18|240,ne[oe++]=ye>>12&63|128,ne[oe++]=ye>>6&63|128,ne[oe++]=63&ye|128):(ne[oe++]=ye>>12|224,ne[oe++]=ye>>6&63|128,ne[oe++]=63&ye|128)}return ne},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,ne){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let ye=0;ye<X.length;ye+=3){const Mt=X[ye],ce=ye+1<X.length,ie=ce?X[ye+1]:0,Q=ye+2<X.length,ue=Q?X[ye+2]:0;let Rt=(15&ie)<<2|ue>>6,Ot=63&ue;Q||(Ot=64,ce||(Rt=64)),be.push(oe[Mt>>2],oe[(3&Mt)<<4|ie>>4],oe[Rt],oe[Ot])}return be.join("")},encodeString(X,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(X):this.encodeByteArray(Ce(X),ne)},decodeString(X,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(X):function(X){const ne=[];let oe=0,be=0;for(;oe<X.length;){const ye=X[oe++];if(ye<128)ne[be++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const Mt=X[oe++];ne[be++]=String.fromCharCode((31&ye)<<6|63&Mt)}else if(ye>239&&ye<365){const Q=((7&ye)<<18|(63&X[oe++])<<12|(63&X[oe++])<<6|63&X[oe++])-65536;ne[be++]=String.fromCharCode(55296+(Q>>10)),ne[be++]=String.fromCharCode(56320+(1023&Q))}else{const Mt=X[oe++],ce=X[oe++];ne[be++]=String.fromCharCode((15&ye)<<12|(63&Mt)<<6|63&ce)}}return ne.join("")}(this.decodeStringToByteArray(X,ne))},decodeStringToByteArray(X,ne){this.init_();const oe=ne?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let ye=0;ye<X.length;){const Mt=oe[X.charAt(ye++)],ie=ye<X.length?oe[X.charAt(ye)]:0;++ye;const ue=ye<X.length?oe[X.charAt(ye)]:64;++ye;const ut=ye<X.length?oe[X.charAt(ye)]:64;if(++ye,null==Mt||null==ie||null==ue||null==ut)throw new Je;be.push(Mt<<2|ie>>4),64!==ue&&(be.push(ie<<4&240|ue>>2),64!==ut&&be.push(ue<<6&192|ut))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class Je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const st=function(X){return function(X){const ne=Ce(X);return ke.encodeByteArray(ne,!0)}(X).replace(/\./g,"")},le=function(X){try{return ke.decodeString(X,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null},Qt=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=X&&le(X[1]);return ne&&JSON.parse(ne)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},At=X=>{const ne=(X=>{var ne,oe;return null===(oe=null===(ne=Qt())||void 0===ne?void 0:ne.emulatorHosts)||void 0===oe?void 0:oe[X]})(X);if(!ne)return;const oe=ne.lastIndexOf(":");if(oe<=0||oe+1===ne.length)throw new Error(`Invalid host ${ne} with no separate hostname and port!`);const be=parseInt(ne.substring(oe+1),10);return"["===ne[0]?[ne.substring(1,oe-1),be]:[ne.substring(0,oe),be]},Be=()=>{var X;return null===(X=Qt())||void 0===X?void 0:X.config},ve=X=>{var ne;return null===(ne=Qt())||void 0===ne?void 0:ne[`_${X}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,oe)=>{this.resolve=ne,this.reject=oe})}wrapCallback(ne){return(oe,be)=>{oe?this.reject(oe):this.resolve(be),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(oe):ne(oe,be))}}}function mt(X,ne){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=ne||"demo-project",ye=X.iat||0,Mt=X.sub||X.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:ye,exp:ye+3600,auth_time:ye,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},X);return[st(JSON.stringify({alg:"none",type:"JWT"})),st(JSON.stringify(ce)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Kt(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tt(){try{return"object"==typeof indexedDB}catch{return!1}}function lt(){return new Promise((X,ne)=>{try{let oe=!0;const be="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(be);ye.onsuccess=()=>{ye.result.close(),oe||self.indexedDB.deleteDatabase(be),X(!0)},ye.onupgradeneeded=()=>{oe=!1},ye.onerror=()=>{var Mt;ne((null===(Mt=ye.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(oe){ne(oe)}})}function Pt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(ne,oe,be){super(oe),this.code=ne,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(ne,oe,be){this.service=ne,this.serviceName=oe,this.errors=be}create(ne,...oe){const be=oe[0]||{},ye=`${this.service}/${ne}`,Mt=this.errors[ne],ce=Mt?function Te(X,ne){return X.replace(Ze,(oe,be)=>{const ye=ne[be];return null!=ye?String(ye):`<${be}?>`})}(Mt,be):"Error";return new pt(ye,`${this.serviceName}: ${ce} (${ye}).`,be)}}const Ze=/\{\$([^}]+)}/g;function tr(X,ne){if(X===ne)return!0;const oe=Object.keys(X),be=Object.keys(ne);for(const ye of oe){if(!be.includes(ye))return!1;const Mt=X[ye],ce=ne[ye];if(qn(Mt)&&qn(ce)){if(!tr(Mt,ce))return!1}else if(Mt!==ce)return!1}for(const ye of be)if(!oe.includes(ye))return!1;return!0}function qn(X){return null!==X&&"object"==typeof X}function hr(X){const ne=[];for(const[oe,be]of Object.entries(X))Array.isArray(be)?be.forEach(ye=>{ne.push(encodeURIComponent(oe)+"="+encodeURIComponent(ye))}):ne.push(encodeURIComponent(oe)+"="+encodeURIComponent(be));return ne.length?"&"+ne.join("&"):""}function Cn(X,ne){const oe=new ot(X,ne);return oe.subscribe.bind(oe)}class ot{constructor(ne,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ne(this)}).catch(be=>{this.error(be)})}next(ne){this.forEachObserver(oe=>{oe.next(ne)})}error(ne){this.forEachObserver(oe=>{oe.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,oe,be){let ye;if(void 0===ne&&void 0===oe&&void 0===be)throw new Error("Missing Observer.");ye=function Hn(X,ne){if("object"!=typeof X||null===X)return!1;for(const oe of ne)if(oe in X&&"function"==typeof X[oe])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:oe,complete:be},void 0===ye.next&&(ye.next=pn),void 0===ye.error&&(ye.error=pn),void 0===ye.complete&&(ye.complete=pn);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),Mt}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ne)}sendOne(ne,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{oe(this.observers[ne])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Hr=1e3,Ri=2,Er=144e5,De=.5;function se(X,ne=Hr,oe=Ri){const be=ne*Math.pow(oe,X),ye=Math.round(De*be*(Math.random()-.5)*2);return Math.min(Er,be+ye)}function et(X){return X&&X._delegate?X._delegate:X}},4662:(fn,ct,q)=>{var p=q(1481),W=q(5450),K=q(8256);const Ce=[{path:"peliculas",loadChildren:()=>Promise.all([q.e(171),q.e(592),q.e(191)]).then(q.bind(q,1191)).then(V=>V.PeliculaModule)},{path:"actor",loadChildren:()=>Promise.all([q.e(171),q.e(365)]).then(q.bind(q,7365)).then(V=>V.ActorModule)},{path:"busqueda",loadChildren:()=>Promise.all([q.e(592),q.e(765)]).then(q.bind(q,3765)).then(V=>V.BusquedaModule)}];let J=(()=>{class V{}return V.\u0275fac=function(E){return new(E||V)},V.\u0275mod=K.oAB({type:V}),V.\u0275inj=K.cJS({imports:[W.Bz.forRoot(Ce),W.Bz]}),V})(),ke=(()=>{class V{constructor(){this.title="Simulacro"}}return V.\u0275fac=function(E){return new(E||V)},V.\u0275cmp=K.Xpm({type:V,selectors:[["app-root"]],decls:24,vars:0,consts:[[1,"container-fluid"],[1,"navbar","navbar-expand-lg","bg-dark","text-light","d-flex","justify-content-end"],[1,""],[1,"navbar-nav"],[1,"nav-item","p-1"],["routerLink","actor/actorpelicula",1,"nav-link","fs-5","text-light","text-bold"],["routerLink","actor/listado",1,"nav-link","fs-5","text-light","text-bold"],["routerLink","actor/alta",1,"nav-link","fs-5","text-light","text-bold"],["routerLink","peliculas/listado",1,"nav-link","fs-5","text-light","text-bold"],["routerLink","peliculas/alta",1,"nav-link","fs-5","text-light","text-bold"],["routerLink","busqueda",1,"nav-link","fs-5","text-light","text-bold"]],template:function(E,R){1&E&&(K.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",2)(4,"ul",3)(5,"li",4)(6,"a",5),K._uU(7,"Actor Pel\xedcula"),K.qZA()(),K.TgZ(8,"li",4)(9,"a",6),K._uU(10,"Actor Listado"),K.qZA()(),K.TgZ(11,"li",4)(12,"a",7),K._uU(13,"Actor Alta"),K.qZA()(),K.TgZ(14,"li",4)(15,"a",8),K._uU(16,"Pel\xedcula Listado"),K.qZA()(),K.TgZ(17,"li",4)(18,"a",9),K._uU(19,"Pel\xedcula Alta"),K.qZA()(),K.TgZ(20,"li",4)(21,"a",10),K._uU(22,"Busqueda"),K.qZA()()()()()(),K._UZ(23,"router-outlet"),K.qZA())},dependencies:[W.lC,W.rH],styles:[".text-bold[_ngcontent-%COMP%]{font-weight:700!important}"]}),V})();var Je=q(433),It=q(3692);const st_firebase={projectId:"examen-labo4",appId:"1:792887039604:web:7b2d11bab08b03cfbb6321",storageBucket:"examen-labo4.appspot.com",apiKey:"AIzaSyC6J4yB9J5pwl1KOBP76V3wifwEK5CAOI4",authDomain:"examen-labo4.firebaseapp.com",messagingSenderId:"792887039604"};var le=q(7187),pe=q(7185),Ae=q(7340);function Oe(V){return new K.vHH(3e3,!1)}function er(){return typeof window<"u"&&typeof window.document<"u"}function Nr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Br(V){switch(V.length){case 0:return new Ae.ZN;case 1:return V[0];default:return new Ae.ZE(V)}}function Vt(V,_,E,R,$=new Map,Y=new Map){const ae=[],de=[];let Re=-1,We=null;if(R.forEach(Bt=>{const qt=Bt.get("offset"),Sn=qt==Re,wn=Sn&&We||new Map;Bt.forEach((hn,yn)=>{let Yn=yn,cr=hn;if("offset"!==yn)switch(Yn=_.normalizePropertyName(Yn,ae),cr){case Ae.k1:cr=$.get(yn);break;case Ae.l3:cr=Y.get(yn);break;default:cr=_.normalizeStyleValue(yn,Yn,cr,ae)}wn.set(Yn,cr)}),Sn||de.push(wn),We=wn,Re=qt}),ae.length)throw function Pt(V){return new K.vHH(3502,!1)}();return de}function tr(V,_,E,R){switch(_){case"start":V.onStart(()=>R(E&&qn(E,"start",V)));break;case"done":V.onDone(()=>R(E&&qn(E,"done",V)));break;case"destroy":V.onDestroy(()=>R(E&&qn(E,"destroy",V)))}}function qn(V,_,E){const Y=_r(V.element,V.triggerName,V.fromState,V.toState,_||V.phaseName,E.totalTime??V.totalTime,!!E.disabled),ae=V._data;return null!=ae&&(Y._data=ae),Y}function _r(V,_,E,R,$="",Y=0,ae){return{element:V,triggerName:_,fromState:E,toState:R,phaseName:$,totalTime:Y,disabled:!!ae}}function hr(V,_,E){let R=V.get(_);return R||V.set(_,R=E),R}function Pr(V){const _=V.indexOf(":");return[V.substring(1,_),V.slice(_+1)]}let vr=(V,_)=>!1,Kr=(V,_,E)=>[],Cn=null;function ot(V){const _=V.parentNode||V.host;return _===Cn?null:_}(Nr()||typeof Element<"u")&&(er()?(Cn=(()=>document.documentElement)(),vr=(V,_)=>{for(;_;){if(_===V)return!0;_=ot(_)}return!1}):vr=(V,_)=>V.contains(_),Kr=(V,_,E)=>{if(E)return Array.from(V.querySelectorAll(_));const R=V.querySelector(_);return R?[R]:[]});let pn=null,fr=!1;const Zn=vr,as=Kr;let Zr=(()=>{class V{validateStyleProperty(E){return function Ii(V){pn||(pn=function ai(){return typeof document<"u"?document.body:null}()||{},fr=!!pn.style&&"WebkitAppearance"in pn.style);let _=!0;return pn.style&&!function Hn(V){return"ebkit"==V.substring(1,6)}(V)&&(_=V in pn.style,!_&&fr&&(_="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in pn.style)),_}(E)}matchesElement(E,R){return!1}containsElement(E,R){return Zn(E,R)}getParentElement(E){return ot(E)}query(E,R,$){return as(E,R,$)}computeStyle(E,R,$){return $||""}animate(E,R,$,Y,ae,de=[],Re){return new Ae.ZN($,Y)}}return V.\u0275fac=function(E){return new(E||V)},V.\u0275prov=K.Yz7({token:V,factory:V.\u0275fac}),V})(),Hr=(()=>{class V{}return V.NOOP=new Zr,V})();const Ri=1e3,se="ng-enter",ge="ng-leave",Ye="ng-trigger",et=".ng-trigger",X="ng-animating",ne=".ng-animating";function oe(V){if("number"==typeof V)return V;const _=V.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:be(parseFloat(_[1]),_[2])}function be(V,_){return"s"===_?V*Ri:V}function ye(V,_,E){return V.hasOwnProperty("duration")?V:function Mt(V,_,E){let $,Y=0,ae="";if("string"==typeof V){const de=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return _.push(Oe()),{duration:0,delay:0,easing:""};$=be(parseFloat(de[1]),de[2]);const Re=de[3];null!=Re&&(Y=be(parseFloat(Re),de[4]));const We=de[5];We&&(ae=We)}else $=V;if(!E){let de=!1,Re=_.length;$<0&&(_.push(function Et(){return new K.vHH(3100,!1)}()),de=!0),Y<0&&(_.push(function Ht(){return new K.vHH(3101,!1)}()),de=!0),de&&_.splice(Re,0,Oe())}return{duration:$,delay:Y,easing:ae}}(V,_,E)}function ce(V,_={}){return Object.keys(V).forEach(E=>{_[E]=V[E]}),_}function ie(V){const _=new Map;return Object.keys(V).forEach(E=>{_.set(E,V[E])}),_}function Pe(V,_=new Map,E){if(E)for(let[R,$]of E)_.set(R,$);for(let[R,$]of V)_.set(R,$);return _}function ut(V,_,E){return E?_+":"+E+";":""}function Rt(V){let _="";for(let E=0;E<V.style.length;E++){const R=V.style.item(E);_+=ut(0,R,V.style.getPropertyValue(R))}for(const E in V.style)V.style.hasOwnProperty(E)&&!E.startsWith("_")&&(_+=ut(0,Or(E),V.style[E]));V.setAttribute("style",_)}function Ot(V,_,E){V.style&&(_.forEach((R,$)=>{const Y=On($);E&&!E.has($)&&E.set($,V.style[Y]),V.style[Y]=R}),Nr()&&Rt(V))}function Un(V,_){V.style&&(_.forEach((E,R)=>{const $=On(R);V.style[$]=""}),Nr()&&Rt(V))}function ur(V){return Array.isArray(V)?1==V.length?V[0]:(0,Ae.vP)(V):V}const Se=new RegExp("{{\\s*(.+?)\\s*}}","g");function dt(V){let _=[];if("string"==typeof V){let E;for(;E=Se.exec(V);)_.push(E[1]);Se.lastIndex=0}return _}function Wt(V,_,E){const R=V.toString(),$=R.replace(Se,(Y,ae)=>{let de=_[ae];return null==de&&(E.push(function Qt(V){return new K.vHH(3003,!1)}()),de=""),de.toString()});return $==R?V:$}function un(V){const _=[];let E=V.next();for(;!E.done;)_.push(E.value),E=V.next();return _}const In=/-+([a-z0-9])/g;function On(V){return V.replace(In,(..._)=>_[1].toUpperCase())}function Or(V){return V.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gr(V,_,E){switch(_.type){case 7:return V.visitTrigger(_,E);case 0:return V.visitState(_,E);case 1:return V.visitTransition(_,E);case 2:return V.visitSequence(_,E);case 3:return V.visitGroup(_,E);case 4:return V.visitAnimate(_,E);case 5:return V.visitKeyframes(_,E);case 6:return V.visitStyle(_,E);case 8:return V.visitReference(_,E);case 9:return V.visitAnimateChild(_,E);case 10:return V.visitAnimateRef(_,E);case 11:return V.visitQuery(_,E);case 12:return V.visitStagger(_,E);default:throw function xn(V){return new K.vHH(3004,!1)}()}}function eo(V,_){return window.getComputedStyle(V)[_]}const Yi="*";function us(V,_){const E=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(R=>function po(V,_,E){if(":"==V[0]){const Re=function rr(V,_){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,R)=>parseFloat(R)>parseFloat(E);case":decrement":return(E,R)=>parseFloat(R)<parseFloat(E);default:return _.push(function He(V){return new K.vHH(3016,!1)}()),"* => *"}}(V,E);if("function"==typeof Re)return void _.push(Re);V=Re}const R=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return E.push(function Ee(V){return new K.vHH(3015,!1)}()),_;const $=R[1],Y=R[2],ae=R[3];_.push(sr($,ae));"<"==Y[0]&&!($==Yi&&ae==Yi)&&_.push(sr(ae,$))}(R,E,_)):E.push(V),E}const Ut=new Set(["true","1"]),vn=new Set(["false","0"]);function sr(V,_){const E=Ut.has(V)||vn.has(V),R=Ut.has(_)||vn.has(_);return($,Y)=>{let ae=V==Yi||V==$,de=_==Yi||_==Y;return!ae&&E&&"boolean"==typeof $&&(ae=$?Ut.has(V):vn.has(V)),!de&&R&&"boolean"==typeof Y&&(de=Y?Ut.has(_):vn.has(_)),ae&&de}}const Ti=new RegExp("s*:selfs*,?","g");function Ir(V,_,E,R){return new or(V).build(_,E,R)}class or{constructor(_){this._driver=_}build(_,E,R){const $=new ln(E);return this._resetContextStyleTimingState($),Gr(this,ur(_),$)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let R=E.queryCount=0,$=E.depCount=0;const Y=[],ae=[];return"@"==_.name.charAt(0)&&E.errors.push(function Be(){return new K.vHH(3006,!1)}()),_.definitions.forEach(de=>{if(this._resetContextStyleTimingState(E),0==de.type){const Re=de,We=Re.name;We.toString().split(/\s*,\s*/).forEach(Bt=>{Re.name=Bt,Y.push(this.visitState(Re,E))}),Re.name=We}else if(1==de.type){const Re=this.visitTransition(de,E);R+=Re.queryCount,$+=Re.depCount,ae.push(Re)}else E.errors.push(function ve(){return new K.vHH(3007,!1)}())}),{type:7,name:_.name,states:Y,transitions:ae,queryCount:R,depCount:$,options:null}}visitState(_,E){const R=this.visitStyle(_.styles,E),$=_.options&&_.options.params||null;if(R.containsDynamicStyles){const Y=new Set,ae=$||{};R.styles.forEach(de=>{de instanceof Map&&de.forEach(Re=>{dt(Re).forEach(We=>{ae.hasOwnProperty(We)||Y.add(We)})})}),Y.size&&(un(Y.values()),E.errors.push(function Ke(V,_){return new K.vHH(3008,!1)}()))}return{type:0,name:_.name,style:R,options:$?{params:$}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const R=Gr(this,ur(_.animation),E);return{type:1,matchers:us(_.expr,E.errors),animation:R,queryCount:E.queryCount,depCount:E.depCount,options:cs(_.options)}}visitSequence(_,E){return{type:2,steps:_.steps.map(R=>Gr(this,R,E)),options:cs(_.options)}}visitGroup(_,E){const R=E.currentTime;let $=0;const Y=_.steps.map(ae=>{E.currentTime=R;const de=Gr(this,ae,E);return $=Math.max($,E.currentTime),de});return E.currentTime=$,{type:3,steps:Y,options:cs(_.options)}}visitAnimate(_,E){const R=function pr(V,_){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return br(ye(V,_).duration,0,"");const E=V;if(E.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=br(0,0,"");return Y.dynamic=!0,Y.strValue=E,Y}const $=ye(E,_);return br($.duration,$.delay,$.easing)}(_.timings,E.errors);E.currentAnimateTimings=R;let $,Y=_.styles?_.styles:(0,Ae.oB)({});if(5==Y.type)$=this.visitKeyframes(Y,E);else{let ae=_.styles,de=!1;if(!ae){de=!0;const We={};R.easing&&(We.easing=R.easing),ae=(0,Ae.oB)(We)}E.currentTime+=R.duration+R.delay;const Re=this.visitStyle(ae,E);Re.isEmptyStep=de,$=Re}return E.currentAnimateTimings=null,{type:4,timings:R,style:$,options:null}}visitStyle(_,E){const R=this._makeStyleAst(_,E);return this._validateStyleAst(R,E),R}_makeStyleAst(_,E){const R=[],$=Array.isArray(_.styles)?_.styles:[_.styles];for(let de of $)"string"==typeof de?de===Ae.l3?R.push(de):E.errors.push(new K.vHH(3002,!1)):R.push(ie(de));let Y=!1,ae=null;return R.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ae=de.get("easing"),de.delete("easing")),!Y))for(let Re of de.values())if(Re.toString().indexOf("{{")>=0){Y=!0;break}}),{type:6,styles:R,easing:ae,offset:_.offset,containsDynamicStyles:Y,options:null}}_validateStyleAst(_,E){const R=E.currentAnimateTimings;let $=E.currentTime,Y=E.currentTime;R&&Y>0&&(Y-=R.duration+R.delay),_.styles.forEach(ae=>{"string"!=typeof ae&&ae.forEach((de,Re)=>{const We=E.collectedStyles.get(E.currentQuerySelector),Bt=We.get(Re);let qt=!0;Bt&&(Y!=$&&Y>=Bt.startTime&&$<=Bt.endTime&&(E.errors.push(function _t(V,_,E,R,$){return new K.vHH(3010,!1)}()),qt=!1),Y=Bt.startTime),qt&&We.set(Re,{startTime:Y,endTime:$}),E.options&&function Ue(V,_,E){const R=_.params||{},$=dt(V);$.length&&$.forEach(Y=>{R.hasOwnProperty(Y)||E.push(function en(V){return new K.vHH(3001,!1)}())})}(de,E.options,E.errors)})})}visitKeyframes(_,E){const R={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function nt(){return new K.vHH(3011,!1)}()),R;let Y=0;const ae=[];let de=!1,Re=!1,We=0;const Bt=_.steps.map(cr=>{const gr=this._makeStyleAst(cr,E);let fi=null!=gr.offset?gr.offset:function Oo(V){if("string"==typeof V)return null;let _=null;if(Array.isArray(V))V.forEach(E=>{if(E instanceof Map&&E.has("offset")){const R=E;_=parseFloat(R.get("offset")),R.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const E=V;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(gr.styles),si=0;return null!=fi&&(Y++,si=gr.offset=fi),Re=Re||si<0||si>1,de=de||si<We,We=si,ae.push(si),gr});Re&&E.errors.push(function Lt(){return new K.vHH(3012,!1)}()),de&&E.errors.push(function Kt(){return new K.vHH(3200,!1)}());const qt=_.steps.length;let Sn=0;Y>0&&Y<qt?E.errors.push(function Qe(){return new K.vHH(3202,!1)}()):0==Y&&(Sn=1/(qt-1));const wn=qt-1,hn=E.currentTime,yn=E.currentAnimateTimings,Yn=yn.duration;return Bt.forEach((cr,gr)=>{const fi=Sn>0?gr==wn?1:Sn*gr:ae[gr],si=fi*Yn;E.currentTime=hn+yn.delay+si,yn.duration=si,this._validateStyleAst(cr,E),cr.offset=fi,R.styles.push(cr)}),R}visitReference(_,E){return{type:8,animation:Gr(this,ur(_.animation),E),options:cs(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:9,options:cs(_.options)}}visitAnimateRef(_,E){return{type:10,animation:this.visitReference(_.animation,E),options:cs(_.options)}}visitQuery(_,E){const R=E.currentQuerySelector,$=_.options||{};E.queryCount++,E.currentQuery=_;const[Y,ae]=function Yo(V){const _=!!V.split(/\s*,\s*/).find(E=>":self"==E);return _&&(V=V.replace(Ti,"")),V=V.replace(/@\*/g,et).replace(/@\w+/g,E=>et+"-"+E.slice(1)).replace(/:animating/g,ne),[V,_]}(_.selector);E.currentQuerySelector=R.length?R+" "+Y:Y,hr(E.collectedStyles,E.currentQuerySelector,new Map);const de=Gr(this,ur(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=R,{type:11,selector:Y,limit:$.limit||0,optional:!!$.optional,includeSelf:ae,animation:de,originalSelector:_.selector,options:cs(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function bt(){return new K.vHH(3013,!1)}());const R="full"===_.timings?{duration:0,delay:0,easing:"full"}:ye(_.timings,E.errors,!0);return{type:12,animation:Gr(this,ur(_.animation),E),timings:R,options:null}}}class ln{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cs(V){return V?(V=ce(V)).params&&(V.params=function Qi(V){return V?ce(V):null}(V.params)):V={},V}function br(V,_,E){return{duration:V,delay:_,easing:E}}function Sr(V,_,E,R,$,Y,ae=null,de=!1){return{type:1,element:V,keyframes:_,preStyleProps:E,postStyleProps:R,duration:$,delay:Y,totalTime:$+Y,easing:ae,subTimeline:de}}class Ni{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,E){let R=this._map.get(_);R||this._map.set(_,R=[]),R.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const to=new RegExp(":enter","g"),Xn=new RegExp(":leave","g");function no(V,_,E,R,$,Y=new Map,ae=new Map,de,Re,We=[]){return(new mo).buildKeyframes(V,_,E,R,$,Y,ae,de,Re,We)}class mo{buildKeyframes(_,E,R,$,Y,ae,de,Re,We,Bt=[]){We=We||new Ni;const qt=new ro(_,E,We,$,Y,Bt,[]);qt.options=Re;const Sn=Re.delay?oe(Re.delay):0;qt.currentTimeline.delayNextStep(Sn),qt.currentTimeline.setStyles([ae],null,qt.errors,Re),Gr(this,R,qt);const wn=qt.timelines.filter(hn=>hn.containsAnimation());if(wn.length&&de.size){let hn;for(let yn=wn.length-1;yn>=0;yn--){const Yn=wn[yn];if(Yn.element===E){hn=Yn;break}}hn&&!hn.allowOnlyTimelineStyles()&&hn.setStyles([de],null,qt.errors,Re)}return wn.length?wn.map(hn=>hn.buildKeyframes()):[Sr(E,[],[],[],0,Sn,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const R=E.subInstructions.get(E.element);if(R){const $=E.createSubContext(_.options),Y=E.currentTimeline.currentTime,ae=this._visitSubInstructions(R,$,$.options);Y!=ae&&E.transformIntoNewTimeline(ae)}E.previousNode=_}visitAnimateRef(_,E){const R=E.createSubContext(_.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,R),this.visitReference(_.animation,R),E.transformIntoNewTimeline(R.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,R){for(const $ of _){const Y=$?.delay;if(Y){const ae="number"==typeof Y?Y:oe(Wt(Y,$?.params??{},E.errors));R.delayNextStep(ae)}}}_visitSubInstructions(_,E,R){let Y=E.currentTimeline.currentTime;const ae=null!=R.duration?oe(R.duration):null,de=null!=R.delay?oe(R.delay):null;return 0!==ae&&_.forEach(Re=>{const We=E.appendInstructionToTimeline(Re,ae,de);Y=Math.max(Y,We.duration+We.delay)}),Y}visitReference(_,E){E.updateOptions(_.options,!0),Gr(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const R=E.subContextCount;let $=E;const Y=_.options;if(Y&&(Y.params||Y.delay)&&($=E.createSubContext(Y),$.transformIntoNewTimeline(),null!=Y.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=Cs);const ae=oe(Y.delay);$.delayNextStep(ae)}_.steps.length&&(_.steps.forEach(ae=>Gr(this,ae,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>R&&$.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const R=[];let $=E.currentTimeline.currentTime;const Y=_.options&&_.options.delay?oe(_.options.delay):0;_.steps.forEach(ae=>{const de=E.createSubContext(_.options);Y&&de.delayNextStep(Y),Gr(this,ae,de),$=Math.max($,de.currentTimeline.currentTime),R.push(de.currentTimeline)}),R.forEach(ae=>E.currentTimeline.mergeTimelineCollectedStyles(ae)),E.transformIntoNewTimeline($),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const R=_.strValue;return ye(E.params?Wt(R,E.params,E.errors):R,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const R=E.currentAnimateTimings=this._visitTiming(_.timings,E),$=E.currentTimeline;R.delay&&(E.incrementTime(R.delay),$.snapshotCurrentStyles());const Y=_.style;5==Y.type?this.visitKeyframes(Y,E):(E.incrementTime(R.duration),this.visitStyle(Y,E),$.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const R=E.currentTimeline,$=E.currentAnimateTimings;!$&&R.hasCurrentStyleProperties()&&R.forwardFrame();const Y=$&&$.easing||_.easing;_.isEmptyStep?R.applyEmptyStep(Y):R.setStyles(_.styles,Y,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const R=E.currentAnimateTimings,$=E.currentTimeline.duration,Y=R.duration,de=E.createSubContext().currentTimeline;de.easing=R.easing,_.styles.forEach(Re=>{de.forwardTime((Re.offset||0)*Y),de.setStyles(Re.styles,Re.easing,E.errors,E.options),de.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(de),E.transformIntoNewTimeline($+Y),E.previousNode=_}visitQuery(_,E){const R=E.currentTimeline.currentTime,$=_.options||{},Y=$.delay?oe($.delay):0;Y&&(6===E.previousNode.type||0==R&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Cs);let ae=R;const de=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!$.optional,E.errors);E.currentQueryTotal=de.length;let Re=null;de.forEach((We,Bt)=>{E.currentQueryIndex=Bt;const qt=E.createSubContext(_.options,We);Y&&qt.delayNextStep(Y),We===E.element&&(Re=qt.currentTimeline),Gr(this,_.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),ae=Math.max(ae,qt.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(ae),Re&&(E.currentTimeline.mergeTimelineCollectedStyles(Re),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const R=E.parentContext,$=E.currentTimeline,Y=_.timings,ae=Math.abs(Y.duration),de=ae*(E.currentQueryTotal-1);let Re=ae*E.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":Re=de-Re;break;case"full":Re=R.currentStaggerTime}const Bt=E.currentTimeline;Re&&Bt.delayNextStep(Re);const qt=Bt.currentTime;Gr(this,_.animation,E),E.previousNode=_,R.currentStaggerTime=$.currentTime-qt+($.startTime-R.currentTimeline.startTime)}}const Cs={};class ro{constructor(_,E,R,$,Y,ae,de,Re){this._driver=_,this.element=E,this.subInstructions=R,this._enterClassName=$,this._leaveClassName=Y,this.errors=ae,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Re||new bs(this._driver,E,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const R=_;let $=this.options;null!=R.duration&&($.duration=oe(R.duration)),null!=R.delay&&($.delay=oe(R.delay));const Y=R.params;if(Y){let ae=$.params;ae||(ae=this.options.params={}),Object.keys(Y).forEach(de=>{(!E||!ae.hasOwnProperty(de))&&(ae[de]=Wt(Y[de],ae,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const R=_.params={};Object.keys(E).forEach($=>{R[$]=E[$]})}}return _}createSubContext(_=null,E,R){const $=E||this.element,Y=new ro(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,R||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(_),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(_){return this.previousNode=Cs,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,R){const $={duration:E??_.duration,delay:this.currentTimeline.currentTime+(R??0)+_.delay,easing:""},Y=new js(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,$,_.stretchStartingKeyframe);return this.timelines.push(Y),$}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,R,$,Y,ae){let de=[];if($&&de.push(this.element),_.length>0){_=(_=_.replace(to,"."+this._enterClassName)).replace(Xn,"."+this._leaveClassName);let We=this._driver.query(this.element,_,1!=R);0!==R&&(We=R<0?We.slice(We.length+R,We.length):We.slice(0,R)),de.push(...We)}return!Y&&0==de.length&&ae.push(function xe(V){return new K.vHH(3014,!1)}()),de}}class bs{constructor(_,E,R,$){this._driver=_,this.element=E,this.startTime=R,this._elementTimelineStylesLookup=$,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new bs(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,R]of this._globalTimelineStyles)this._backFill.set(E,R||Ae.l3),this._currentKeyframe.set(E,Ae.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,R,$){E&&this._previousKeyframe.set("easing",E);const Y=$&&$.params||{},ae=function ko(V,_){const E=new Map;let R;return V.forEach($=>{if("*"===$){R=R||_.keys();for(let Y of R)E.set(Y,Ae.l3)}else Pe($,E)}),E}(_,this._globalTimelineStyles);for(let[de,Re]of ae){const We=Wt(Re,Y,R);this._pendingStyles.set(de,We),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Ae.l3),this._updateStyle(de,We)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,R)=>{const $=this._styleSummary.get(R);(!$||E.time>$.time)&&this._updateStyle(R,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,R=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((de,Re)=>{const We=Pe(de,new Map,this._backFill);We.forEach((Bt,qt)=>{Bt===Ae.k1?_.add(qt):Bt===Ae.l3&&E.add(qt)}),R||We.set("offset",Re/this.duration),$.push(We)});const Y=_.size?un(_.values()):[],ae=E.size?un(E.values()):[];if(R){const de=$[0],Re=new Map(de);de.set("offset",0),Re.set("offset",1),$=[de,Re]}return Sr(this.element,$,Y,ae,this.duration,this.startTime,this.easing,!1)}}class js extends bs{constructor(_,E,R,$,Y,ae,de=!1){super(_,E,ae.delay),this.keyframes=R,this.preStyleProps=$,this.postStyleProps=Y,this._stretchStartingKeyframe=de,this.timings={duration:ae.duration,delay:ae.delay,easing:ae.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:R,easing:$}=this.timings;if(this._stretchStartingKeyframe&&E){const Y=[],ae=R+E,de=E/ae,Re=Pe(_[0]);Re.set("offset",0),Y.push(Re);const We=Pe(_[0]);We.set("offset",Xr(de)),Y.push(We);const Bt=_.length-1;for(let qt=1;qt<=Bt;qt++){let Sn=Pe(_[qt]);const wn=Sn.get("offset");Sn.set("offset",Xr((E+wn*R)/ae)),Y.push(Sn)}R=ae,E=0,$="",_=Y}return Sr(this.element,_,this.preStyleProps,this.postStyleProps,R,E,$,!0)}}function Xr(V,_=3){const E=Math.pow(10,_-1);return Math.round(V*E)/E}class di{}const Ss=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Zi extends di{normalizePropertyName(_,E){return On(_)}normalizeStyleValue(_,E,R,$){let Y="";const ae=R.toString().trim();if(Ss.has(E)&&0!==R&&"0"!==R)if("number"==typeof R)Y="px";else{const de=R.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&$.push(function At(V,_){return new K.vHH(3005,!1)}())}return ae+Y}}function Yr(V,_,E,R,$,Y,ae,de,Re,We,Bt,qt,Sn){return{type:0,element:V,triggerName:_,isRemovalTransition:$,fromState:E,fromStyles:Y,toState:R,toStyles:ae,timelines:de,queriedElements:Re,preStyleProps:We,postStyleProps:Bt,totalTime:qt,errors:Sn}}const Di={};class As{constructor(_,E,R){this._triggerName=_,this.ast=E,this._stateStyles=R}match(_,E,R,$){return function Hs(V,_,E,R,$){return V.some(Y=>Y(_,E,R,$))}(this.ast.matchers,_,E,R,$)}buildStyles(_,E,R){let $=this._stateStyles.get("*");return void 0!==_&&($=this._stateStyles.get(_?.toString())||$),$?$.buildStyles(E,R):new Map}build(_,E,R,$,Y,ae,de,Re,We,Bt){const qt=[],Sn=this.ast.options&&this.ast.options.params||Di,hn=this.buildStyles(R,de&&de.params||Di,qt),yn=Re&&Re.params||Di,Yn=this.buildStyles($,yn,qt),cr=new Set,gr=new Map,fi=new Map,si="void"===$,zr={params:cu(yn,Sn),delay:this.ast.options?.delay},bi=Bt?[]:no(_,E,this.ast.animation,Y,ae,hn,Yn,zr,We,qt);let Bn=0;if(bi.forEach(D=>{Bn=Math.max(D.duration+D.delay,Bn)}),qt.length)return Yr(E,this._triggerName,R,$,si,hn,Yn,[],[],gr,fi,Bn,qt);bi.forEach(D=>{const L=D.element,A=hr(gr,L,new Set);D.preStyleProps.forEach(re=>A.add(re));const j=hr(fi,L,new Set);D.postStyleProps.forEach(re=>j.add(re)),L!==E&&cr.add(L)});const uo=un(cr.values());return Yr(E,this._triggerName,R,$,si,hn,Yn,bi,uo,gr,fi,Bn)}}function cu(V,_){const E=ce(_);for(const R in V)V.hasOwnProperty(R)&&null!=V[R]&&(E[R]=V[R]);return E}class ji{constructor(_,E,R){this.styles=_,this.defaultParams=E,this.normalizer=R}buildStyles(_,E){const R=new Map,$=ce(this.defaultParams);return Object.keys(_).forEach(Y=>{const ae=_[Y];null!==ae&&($[Y]=ae)}),this.styles.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((ae,de)=>{ae&&(ae=Wt(ae,$,E));const Re=this.normalizer.normalizePropertyName(de,E);ae=this.normalizer.normalizeStyleValue(de,Re,ae,E),R.set(de,ae)})}),R}}class aa{constructor(_,E,R){this.name=_,this.ast=E,this._normalizer=R,this.transitionFactories=[],this.states=new Map,E.states.forEach($=>{this.states.set($.name,new ji($.style,$.options&&$.options.params||{},R))}),hs(this.states,"true","1"),hs(this.states,"false","0"),E.transitions.forEach($=>{this.transitionFactories.push(new As(_,$,this.states))}),this.fallbackTransition=function _o(V,_,E){return new As(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ae,de)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,R,$){return this.transitionFactories.find(ae=>ae.match(_,E,R,$))||null}matchStyles(_,E,R){return this.fallbackTransition.buildStyles(_,E,R)}}function hs(V,_,E){V.has(_)?V.has(E)||V.set(E,V.get(_)):V.has(E)&&V.set(_,V.get(E))}const Qo=new Ni;class ja{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,E){const R=[],$=[],Y=Ir(this._driver,E,R,$);if(R.length)throw function Ge(V){return new K.vHH(3503,!1)}();this._animations.set(_,Y)}_buildPlayer(_,E,R){const $=_.element,Y=Vt(0,this._normalizer,0,_.keyframes,E,R);return this._driver.animate($,Y,_.duration,_.delay,_.easing,[],!0)}create(_,E,R={}){const $=[],Y=this._animations.get(_);let ae;const de=new Map;if(Y?(ae=no(this._driver,E,Y,se,ge,new Map,new Map,R,Qo,$),ae.forEach(Bt=>{const qt=hr(de,Bt.element,new Map);Bt.postStyleProps.forEach(Sn=>qt.set(Sn,null))})):($.push(function pt(){return new K.vHH(3300,!1)}()),ae=[]),$.length)throw function he(V){return new K.vHH(3504,!1)}();de.forEach((Bt,qt)=>{Bt.forEach((Sn,wn)=>{Bt.set(wn,this._driver.computeStyle(qt,wn,Ae.l3))})});const We=Br(ae.map(Bt=>{const qt=de.get(Bt.element);return this._buildPlayer(Bt,new Map,qt)}));return this._playersById.set(_,We),We.onDestroy(()=>this.destroy(_)),this.players.push(We),We}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const R=this.players.indexOf(E);R>=0&&this.players.splice(R,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function Te(V){return new K.vHH(3301,!1)}();return E}listen(_,E,R,$){const Y=_r(E,"","","");return tr(this._getPlayer(_),R,Y,$),()=>{}}command(_,E,R,$){if("register"==R)return void this.register(_,$[0]);if("create"==R)return void this.create(_,E,$[0]||{});const Y=this._getPlayer(_);switch(R){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(_)}}}const io="ng-animate-queued",Zo="ng-animate-disabled",Fo=[],Ms={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class xs{get params(){return this.options.params}constructor(_,E=""){this.namespaceId=E;const R=_&&_.hasOwnProperty("value");if(this.value=function Ws(V){return V??null}(R?_.value:_),R){const Y=ce(_);delete Y.value,this.options=Y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const E=_.params;if(E){const R=this.options.params;Object.keys(E).forEach($=>{null==R[$]&&(R[$]=E[$])})}}}const Pi="void",Xi=new xs(Pi);class Eo{constructor(_,E,R){this.id=_,this.hostElement=E,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Kn(E,this._hostClassName)}listen(_,E,R,$){if(!this._triggers.has(E))throw function Ze(V,_){return new K.vHH(3302,!1)}();if(null==R||0==R.length)throw function ht(V){return new K.vHH(3303,!1)}();if(!function Xo(V){return"start"==V||"done"==V}(R))throw function Nn(V,_){return new K.vHH(3400,!1)}();const Y=hr(this._elementListeners,_,[]),ae={name:E,phase:R,callback:$};Y.push(ae);const de=hr(this._engine.statesByElement,_,new Map);return de.has(E)||(Kn(_,Ye),Kn(_,Ye+"-"+E),de.set(E,Xi)),()=>{this._engine.afterFlush(()=>{const Re=Y.indexOf(ae);Re>=0&&Y.splice(Re,1),this._triggers.has(E)||de.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function Dn(V){return new K.vHH(3401,!1)}();return E}trigger(_,E,R,$=!0){const Y=this._getTrigger(E),ae=new zs(this.id,E,_);let de=this._engine.statesByElement.get(_);de||(Kn(_,Ye),Kn(_,Ye+"-"+E),this._engine.statesByElement.set(_,de=new Map));let Re=de.get(E);const We=new xs(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Re&&We.absorbOptions(Re.options),de.set(E,We),Re||(Re=Xi),We.value!==Pi&&Re.value===We.value){if(!function ii(V,_){const E=Object.keys(V),R=Object.keys(_);if(E.length!=R.length)return!1;for(let $=0;$<E.length;$++){const Y=E[$];if(!_.hasOwnProperty(Y)||V[Y]!==_[Y])return!1}return!0}(Re.params,We.params)){const yn=[],Yn=Y.matchStyles(Re.value,Re.params,yn),cr=Y.matchStyles(We.value,We.params,yn);yn.length?this._engine.reportError(yn):this._engine.afterFlush(()=>{Un(_,Yn),Ot(_,cr)})}return}const Sn=hr(this._engine.playersByElement,_,[]);Sn.forEach(yn=>{yn.namespaceId==this.id&&yn.triggerName==E&&yn.queued&&yn.destroy()});let wn=Y.matchTransition(Re.value,We.value,_,We.params),hn=!1;if(!wn){if(!$)return;wn=Y.fallbackTransition,hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:wn,fromState:Re,toState:We,player:ae,isFallbackTransition:hn}),hn||(Kn(_,io),ae.onStart(()=>{ps(_,io)})),ae.onDone(()=>{let yn=this.players.indexOf(ae);yn>=0&&this.players.splice(yn,1);const Yn=this._engine.playersByElement.get(_);if(Yn){let cr=Yn.indexOf(ae);cr>=0&&Yn.splice(cr,1)}}),this.players.push(ae),Sn.push(ae),ae}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,R)=>{this._elementListeners.set(R,E.filter($=>$.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(R=>R.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const R=this._engine.driver.query(_,et,!0);R.forEach($=>{if($[jr])return;const Y=this._engine.fetchNamespacesByElement($);Y.size?Y.forEach(ae=>ae.triggerLeaveAnimation($,E,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>R.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(_,E,R,$){const Y=this._engine.statesByElement.get(_),ae=new Map;if(Y){const de=[];if(Y.forEach((Re,We)=>{if(ae.set(We,Re.value),this._triggers.has(We)){const Bt=this.trigger(_,We,Pi,$);Bt&&de.push(Bt)}}),de.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,ae),R&&Br(de).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),R=this._engine.statesByElement.get(_);if(E&&R){const $=new Set;E.forEach(Y=>{const ae=Y.name;if($.has(ae))return;$.add(ae);const Re=this._triggers.get(ae).fallbackTransition,We=R.get(ae)||Xi,Bt=new xs(Pi),qt=new zs(this.id,ae,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ae,transition:Re,fromState:We,toState:Bt,player:qt,isFallbackTransition:!0})})}}removeNode(_,E){const R=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let $=!1;if(R.totalAnimations){const Y=R.players.length?R.playersByQueriedElement.get(_):[];if(Y&&Y.length)$=!0;else{let ae=_;for(;ae=ae.parentNode;)if(R.statesByElement.get(ae)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(_),$)R.markElementAsRemoved(this.id,_,!1,E);else{const Y=_[jr];(!Y||Y===Ms)&&(R.afterFlush(()=>this.clearElementCache(_)),R.destroyInnerAnimations(_),R._onRemovalComplete(_,E))}}insertNode(_,E){Kn(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(R=>{const $=R.player;if($.destroyed)return;const Y=R.element,ae=this._elementListeners.get(Y);ae&&ae.forEach(de=>{if(de.name==R.triggerName){const Re=_r(Y,R.triggerName,R.fromState.value,R.toState.value);Re._data=_,tr(R.player,de.phase,Re,de.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):E.push(R)}),this._queue=[],E.sort((R,$)=>{const Y=R.transition.ast.depCount,ae=$.transition.ast.depCount;return 0==Y||0==ae?Y-ae:this._engine.driver.containsElement(R.element,$.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let E=!1;return this._elementListeners.has(_)&&(E=!0),E=!!this._queue.find(R=>R.element===_)||E,E}}class Ji{_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}constructor(_,E,R){this.bodyNode=_,this.driver=E,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,Y)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(R=>{R.queued&&_.push(R)})}),_}createNamespace(_,E){const R=new Eo(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(R,E):(this.newHostElements.set(E,R),this.collectEnterElement(E)),this._namespaceLookup[_]=R}_balanceNamespaceList(_,E){const R=this._namespaceList,$=this.namespacesByHostElement;if(R.length-1>=0){let ae=!1,de=this.driver.getParentElement(E);for(;de;){const Re=$.get(de);if(Re){const We=R.indexOf(Re);R.splice(We+1,0,_),ae=!0;break}de=this.driver.getParentElement(de)}ae||R.unshift(_)}else R.push(_);return $.set(E,_),_}register(_,E){let R=this._namespaceLookup[_];return R||(R=this.createNamespace(_,E)),R}registerTrigger(_,E,R){let $=this._namespaceLookup[_];$&&$.register(E,R)&&this.totalAnimations++}destroy(_,E){if(!_)return;const R=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[_];const $=this._namespaceList.indexOf(R);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>R.destroy(E))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,R=this.statesByElement.get(_);if(R)for(let $ of R.values())if($.namespaceId){const Y=this._fetchNamespace($.namespaceId);Y&&E.add(Y)}return E}trigger(_,E,R,$){if(fs(E)){const Y=this._fetchNamespace(_);if(Y)return Y.trigger(E,R,$),!0}return!1}insertNode(_,E,R,$){if(!fs(E))return;const Y=E[jr];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const ae=this.collectedLeaveElements.indexOf(E);ae>=0&&this.collectedLeaveElements.splice(ae,1)}if(_){const ae=this._fetchNamespace(_);ae&&ae.insertNode(E,R)}$&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Kn(_,Zo)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),ps(_,Zo))}removeNode(_,E,R,$){if(fs(E)){const Y=_?this._fetchNamespace(_):null;if(Y?Y.removeNode(E,$):this.markElementAsRemoved(_,E,!1,$),R){const ae=this.namespacesByHostElement.get(E);ae&&ae.id!==_&&ae.removeNode(E,$)}}else this._onRemovalComplete(E,$)}markElementAsRemoved(_,E,R,$,Y){this.collectedLeaveElements.push(E),E[jr]={namespaceId:_,setForRemoval:$,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:Y}}listen(_,E,R,$,Y){return fs(E)?this._fetchNamespace(_).listen(E,R,$,Y):()=>{}}_buildInstruction(_,E,R,$,Y){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,R,$,_.fromState.options,_.toState.options,E,Y)}destroyInnerAnimations(_){let E=this.driver.query(_,et,!0);E.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,ne,!0),E.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Br(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[jr];if(E&&E.setForRemoval){if(_[jr]=Ms,E.namespaceId){this.destroyInnerAnimations(_);const R=this._fetchNamespace(E.namespaceId);R&&R.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(Zo)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,$)=>this._balanceNamespaceList(R,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Kn(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{E=this._flushAnimations(R,_)}finally{for(let $=0;$<R.length;$++)R[$]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],E.length?Br(E).onDone(()=>{R.forEach($=>$())}):R.forEach($=>$())}}reportError(_){throw function rn(V){return new K.vHH(3402,!1)}()}_flushAnimations(_,E){const R=new Ni,$=[],Y=new Map,ae=[],de=new Map,Re=new Map,We=new Map,Bt=new Set;this.disabledNodes.forEach(qe=>{Bt.add(qe);const Ct=this.driver.query(qe,".ng-animate-queued",!0);for(let xt=0;xt<Ct.length;xt++)Bt.add(Ct[xt])});const qt=this.bodyNode,Sn=Array.from(this.statesByElement.keys()),wn=wo(Sn,this.collectedEnterElements),hn=new Map;let yn=0;wn.forEach((qe,Ct)=>{const xt=se+yn++;hn.set(Ct,xt),qe.forEach(tn=>Kn(tn,xt))});const Yn=[],cr=new Set,gr=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const Ct=this.collectedLeaveElements[qe],xt=Ct[jr];xt&&xt.setForRemoval&&(Yn.push(Ct),cr.add(Ct),xt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(tn=>cr.add(tn)):gr.add(Ct))}const fi=new Map,si=wo(Sn,Array.from(cr));si.forEach((qe,Ct)=>{const xt=ge+yn++;fi.set(Ct,xt),qe.forEach(tn=>Kn(tn,xt))}),_.push(()=>{wn.forEach((qe,Ct)=>{const xt=hn.get(Ct);qe.forEach(tn=>ps(tn,xt))}),si.forEach((qe,Ct)=>{const xt=fi.get(Ct);qe.forEach(tn=>ps(tn,xt))}),Yn.forEach(qe=>{this.processLeaveNode(qe)})});const zr=[],bi=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(E).forEach(xt=>{const tn=xt.player,sn=xt.element;if(zr.push(tn),this.collectedEnterElements.length){const xr=sn[jr];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(xt.triggerName)){const Ps=xr.previousTriggersValues.get(xt.triggerName),Fi=this.statesByElement.get(xt.element);if(Fi&&Fi.has(xt.triggerName)){const Os=Fi.get(xt.triggerName);Os.value=Ps,Fi.set(xt.triggerName,Os)}}return void tn.destroy()}}const Gn=!qt||!this.driver.containsElement(qt,sn),En=fi.get(sn),mr=hn.get(sn),Qn=this._buildInstruction(xt,R,mr,En,Gn);if(Qn.errors&&Qn.errors.length)return void bi.push(Qn);if(Gn)return tn.onStart(()=>Un(sn,Qn.fromStyles)),tn.onDestroy(()=>Ot(sn,Qn.toStyles)),void $.push(tn);if(xt.isFallbackTransition)return tn.onStart(()=>Un(sn,Qn.fromStyles)),tn.onDestroy(()=>Ot(sn,Qn.toStyles)),void $.push(tn);const Ns=[];Qn.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||Ns.push(xr)}),Qn.timelines=Ns,R.append(sn,Qn.timelines),ae.push({instruction:Qn,player:tn,element:sn}),Qn.queriedElements.forEach(xr=>hr(de,xr,[]).push(tn)),Qn.preStyleProps.forEach((xr,Ps)=>{if(xr.size){let Fi=Re.get(Ps);Fi||Re.set(Ps,Fi=new Set),xr.forEach((Os,Vo)=>Fi.add(Vo))}}),Qn.postStyleProps.forEach((xr,Ps)=>{let Fi=We.get(Ps);Fi||We.set(Ps,Fi=new Set),xr.forEach((Os,Vo)=>Fi.add(Vo))})});if(bi.length){const qe=[];bi.forEach(Ct=>{qe.push(function ar(V,_){return new K.vHH(3505,!1)}())}),zr.forEach(Ct=>Ct.destroy()),this.reportError(qe)}const Bn=new Map,uo=new Map;ae.forEach(qe=>{const Ct=qe.element;R.has(Ct)&&(uo.set(Ct,Ct),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,Bn))}),$.forEach(qe=>{const Ct=qe.element;this._getPreviousPlayers(Ct,!1,qe.namespaceId,qe.triggerName,null).forEach(tn=>{hr(Bn,Ct,[]).push(tn),tn.destroy()})});const D=Yn.filter(qe=>Rs(qe,Re,We)),L=new Map;Gi(L,this.driver,gr,We,Ae.l3).forEach(qe=>{Rs(qe,Re,We)&&D.push(qe)});const j=new Map;wn.forEach((qe,Ct)=>{Gi(j,this.driver,new Set(qe),Re,Ae.k1)}),D.forEach(qe=>{const Ct=L.get(qe),xt=j.get(qe);L.set(qe,new Map([...Array.from(Ct?.entries()??[]),...Array.from(xt?.entries()??[])]))});const re=[],Le=[],tt={};ae.forEach(qe=>{const{element:Ct,player:xt,instruction:tn}=qe;if(R.has(Ct)){if(Bt.has(Ct))return xt.onDestroy(()=>Ot(Ct,tn.toStyles)),xt.disabled=!0,xt.overrideTotalTime(tn.totalTime),void $.push(xt);let sn=tt;if(uo.size>1){let En=Ct;const mr=[];for(;En=En.parentNode;){const Qn=uo.get(En);if(Qn){sn=Qn;break}mr.push(En)}mr.forEach(Qn=>uo.set(Qn,sn))}const Gn=this._buildAnimation(xt.namespaceId,tn,Bn,Y,j,L);if(xt.setRealPlayer(Gn),sn===tt)re.push(xt);else{const En=this.playersByElement.get(sn);En&&En.length&&(xt.parentPlayer=Br(En)),$.push(xt)}}else Un(Ct,tn.fromStyles),xt.onDestroy(()=>Ot(Ct,tn.toStyles)),Le.push(xt),Bt.has(Ct)&&$.push(xt)}),Le.forEach(qe=>{const Ct=Y.get(qe.element);if(Ct&&Ct.length){const xt=Br(Ct);qe.setRealPlayer(xt)}}),$.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<Yn.length;qe++){const Ct=Yn[qe],xt=Ct[jr];if(ps(Ct,ge),xt&&xt.hasAnimation)continue;let tn=[];if(de.size){let Gn=de.get(Ct);Gn&&Gn.length&&tn.push(...Gn);let En=this.driver.query(Ct,ne,!0);for(let mr=0;mr<En.length;mr++){let Qn=de.get(En[mr]);Qn&&Qn.length&&tn.push(...Qn)}}const sn=tn.filter(Gn=>!Gn.destroyed);sn.length?Io(this,Ct,sn):this.processLeaveNode(Ct)}return Yn.length=0,re.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const Ct=this.players.indexOf(qe);this.players.splice(Ct,1)}),qe.play()}),re}elementContainsData(_,E){let R=!1;const $=E[jr];return $&&$.setForRemoval&&(R=!0),this.playersByElement.has(E)&&(R=!0),this.playersByQueriedElement.has(E)&&(R=!0),this.statesByElement.has(E)&&(R=!0),this._fetchNamespace(_).elementContainsData(E)||R}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,R,$,Y){let ae=[];if(E){const de=this.playersByQueriedElement.get(_);de&&(ae=de)}else{const de=this.playersByElement.get(_);if(de){const Re=!Y||Y==Pi;de.forEach(We=>{We.queued||!Re&&We.triggerName!=$||ae.push(We)})}}return(R||$)&&(ae=ae.filter(de=>!(R&&R!=de.namespaceId||$&&$!=de.triggerName))),ae}_beforeAnimationBuild(_,E,R){const Y=E.element,ae=E.isRemovalTransition?void 0:_,de=E.isRemovalTransition?void 0:E.triggerName;for(const Re of E.timelines){const We=Re.element,Bt=We!==Y,qt=hr(R,We,[]);this._getPreviousPlayers(We,Bt,ae,de,E.toState).forEach(wn=>{const hn=wn.getRealPlayer();hn.beforeDestroy&&hn.beforeDestroy(),wn.destroy(),qt.push(wn)})}Un(Y,E.fromStyles)}_buildAnimation(_,E,R,$,Y,ae){const de=E.triggerName,Re=E.element,We=[],Bt=new Set,qt=new Set,Sn=E.timelines.map(hn=>{const yn=hn.element;Bt.add(yn);const Yn=yn[jr];if(Yn&&Yn.removedBeforeQueried)return new Ae.ZN(hn.duration,hn.delay);const cr=yn!==Re,gr=function Ci(V){const _=[];return es(V,_),_}((R.get(yn)||Fo).map(Bn=>Bn.getRealPlayer())).filter(Bn=>!!Bn.element&&Bn.element===yn),fi=Y.get(yn),si=ae.get(yn),zr=Vt(0,this._normalizer,0,hn.keyframes,fi,si),bi=this._buildPlayer(hn,zr,gr);if(hn.subTimeline&&$&&qt.add(yn),cr){const Bn=new zs(_,de,yn);Bn.setRealPlayer(bi),We.push(Bn)}return bi});We.forEach(hn=>{hr(this.playersByQueriedElement,hn.element,[]).push(hn),hn.onDone(()=>function ri(V,_,E){let R=V.get(_);if(R){if(R.length){const $=R.indexOf(E);R.splice($,1)}0==R.length&&V.delete(_)}return R}(this.playersByQueriedElement,hn.element,hn))}),Bt.forEach(hn=>Kn(hn,X));const wn=Br(Sn);return wn.onDestroy(()=>{Bt.forEach(hn=>ps(hn,X)),Ot(Re,E.toStyles)}),qt.forEach(hn=>{hr($,hn,[]).push(wn)}),wn}_buildPlayer(_,E,R){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,R):new Ae.ZN(_.duration,_.delay)}}class zs{constructor(_,E,R){this.namespaceId=_,this.triggerName=E,this.element=R,this._player=new Ae.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,R)=>{E.forEach($=>tr(_,R,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){hr(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function fs(V){return V&&1===V.nodeType}function hi(V,_){const E=V.style.display;return V.style.display=_??"none",E}function Gi(V,_,E,R,$){const Y=[];E.forEach(Re=>Y.push(hi(Re)));const ae=[];R.forEach((Re,We)=>{const Bt=new Map;Re.forEach(qt=>{const Sn=_.computeStyle(We,qt,$);Bt.set(qt,Sn),(!Sn||0==Sn.length)&&(We[jr]=hu,ae.push(We))}),V.set(We,Bt)});let de=0;return E.forEach(Re=>hi(Re,Y[de++])),ae}function wo(V,_){const E=new Map;if(V.forEach(de=>E.set(de,[])),0==_.length)return E;const R=1,$=new Set(_),Y=new Map;function ae(de){if(!de)return R;let Re=Y.get(de);if(Re)return Re;const We=de.parentNode;return Re=E.has(We)?We:$.has(We)?R:ae(We),Y.set(de,Re),Re}return _.forEach(de=>{const Re=ae(de);Re!==R&&E.get(Re).push(de)}),E}function Kn(V,_){V.classList?.add(_)}function ps(V,_){V.classList?.remove(_)}function Io(V,_,E){Br(E).onDone(()=>V.processLeaveNode(_))}function es(V,_){for(let E=0;E<V.length;E++){const R=V[E];R instanceof Ae.ZE?es(R.players,_):_.push(R)}}function Rs(V,_,E){const R=E.get(V);if(!R)return!1;let $=_.get(V);return $?R.forEach(Y=>$.add(Y)):_.set(V,R),E.delete(V),!0}class Ar{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=($,Y)=>{},this._transitionEngine=new Ji(_,E,R),this._timelineEngine=new ja(_,E,R),this._transitionEngine.onRemovalComplete=($,Y)=>this.onRemovalComplete($,Y)}registerTrigger(_,E,R,$,Y){const ae=_+"-"+$;let de=this._triggerCache[ae];if(!de){const Re=[],We=[],Bt=Ir(this._driver,Y,Re,We);if(Re.length)throw function lt(V,_){return new K.vHH(3404,!1)}();de=function Gs(V,_,E){return new aa(V,_,E)}($,Bt,this._normalizer),this._triggerCache[ae]=de}this._transitionEngine.registerTrigger(E,$,de)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,R,$){this._transitionEngine.insertNode(_,E,R,$)}onRemove(_,E,R,$){this._transitionEngine.removeNode(_,E,$||!1,R)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,R,$){if("@"==R.charAt(0)){const[Y,ae]=Pr(R);this._timelineEngine.command(Y,E,ae,$)}else this._transitionEngine.trigger(_,E,R,$)}listen(_,E,R,$,Y){if("@"==R.charAt(0)){const[ae,de]=Pr(R);return this._timelineEngine.listen(ae,E,de,Y)}return this._transitionEngine.listen(_,E,R,$,Y)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let To=(()=>{class V{constructor(E,R,$){this._element=E,this._startStyles=R,this._endStyles=$,this._state=0;let Y=V.initialStylesByElement.get(E);Y||V.initialStylesByElement.set(E,Y=new Map),this._initialStyles=Y}start(){this._state<1&&(this._startStyles&&Ot(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ot(this._element,this._initialStyles),this._endStyles&&(Ot(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(Un(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Un(this._element,this._endStyles),this._endStyles=null),Ot(this._element,this._initialStyles),this._state=3)}}return V.initialStylesByElement=new WeakMap,V})();function oo(V){let _=null;return V.forEach((E,R)=>{(function Oi(V){return"display"===V||"position"===V})(R)&&(_=_||new Map,_.set(R,E))}),_}class ua{constructor(_,E,R,$){this.element=_,this.keyframes=E,this.options=R,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(R=>{E.push(Object.fromEntries(R))}),E}_triggerWebAnimation(_,E,R){return _.animate(this._convertKeyframesToObject(E),R)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,$)=>{"offset"!==$&&_.set($,this._finished?R:eo(this.element,$))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(R=>R()),E.length=0}}class Lo{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,E){return!1}containsElement(_,E){return Zn(_,E)}getParentElement(_){return ot(_)}query(_,E,R){return as(_,E,R)}computeStyle(_,E,R){return window.getComputedStyle(_)[E]}animate(_,E,R,$,Y,ae=[]){const Re={duration:R,delay:$,fill:0==$?"both":"forwards"};Y&&(Re.easing=Y);const We=new Map,Bt=ae.filter(wn=>wn instanceof ua);(function nr(V,_){return 0===V||0===_})(R,$)&&Bt.forEach(wn=>{wn.currentSnapshot.forEach((hn,yn)=>We.set(yn,hn))});let qt=function Q(V){return V.length?V[0]instanceof Map?V:V.map(_=>ie(_)):[]}(E).map(wn=>Pe(wn));qt=function ui(V,_,E){if(E.size&&_.length){let R=_[0],$=[];if(E.forEach((Y,ae)=>{R.has(ae)||$.push(ae),R.set(ae,Y)}),$.length)for(let Y=1;Y<_.length;Y++){let ae=_[Y];$.forEach(de=>ae.set(de,eo(V,de)))}}return _}(_,qt,We);const Sn=function Sa(V,_){let E=null,R=null;return Array.isArray(_)&&_.length?(E=oo(_[0]),_.length>1&&(R=oo(_[_.length-1]))):_ instanceof Map&&(E=oo(_)),E||R?new To(V,E,R):null}(_,qt);return new ua(_,qt,Re,Sn)}}var gn=q(6895);let N=(()=>{class V extends Ae._j{constructor(E,R){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(R.body,{id:"0",encapsulation:K.ifc.None,styles:[],data:{animation:[]}})}build(E){const R=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(E)?(0,Ae.vP)(E):E;return z(this._renderer,null,R,"register",[$]),new x(R,this._renderer)}}return V.\u0275fac=function(E){return new(E||V)(K.LFG(K.FYo),K.LFG(gn.K0))},V.\u0275prov=K.Yz7({token:V,factory:V.\u0275fac}),V})();class x extends Ae.LC{constructor(_,E){super(),this._id=_,this._renderer=E}create(_,E){return new M(this._id,_,E||{},this._renderer)}}class M{constructor(_,E,R,$){this.id=_,this.element=E,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(_,E){return this._renderer.listen(this.element,`@@${this.id}:${_}`,E)}_command(_,...E){return z(this._renderer,this.element,this.id,_,E)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function z(V,_,E,R,$){return V.setProperty(_,`@@${E}:${R}`,$)}const Xt="@.disabled";let lr=(()=>{class V{constructor(E,R,$){this.delegate=E,this.engine=R,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(Y,ae)=>{const de=ae?.parentNode(Y);de&&ae.removeChild(de,Y)}}createRenderer(E,R){const Y=this.delegate.createRenderer(E,R);if(!(E&&R&&R.data&&R.data.animation)){let Bt=this._rendererCache.get(Y);return Bt||(Bt=new Qr("",Y,this.engine,()=>this._rendererCache.delete(Y)),this._rendererCache.set(Y,Bt)),Bt}const ae=R.id,de=R.id+"-"+this._currentId;this._currentId++,this.engine.register(de,E);const Re=Bt=>{Array.isArray(Bt)?Bt.forEach(Re):this.engine.registerTrigger(ae,de,E,Bt.name,Bt)};return R.data.animation.forEach(Re),new rt(this,de,Y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,R,$){E>=0&&E<this._microtaskId?this._zone.run(()=>R($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Y=>{const[ae,de]=Y;ae(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return V.\u0275fac=function(E){return new(E||V)(K.LFG(K.FYo),K.LFG(Ar),K.LFG(K.R0b))},V.\u0275prov=K.Yz7({token:V,factory:V.\u0275fac}),V})();class Qr{constructor(_,E,R,$){this.namespaceId=_,this.delegate=E,this.engine=R,this._onDestroy=$,this.destroyNode=this.delegate.destroyNode?Y=>E.destroyNode(Y):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,R,$=!0){this.delegate.insertBefore(_,E,R),this.engine.onInsert(this.namespaceId,E,_,$)}removeChild(_,E,R){this.engine.onRemove(this.namespaceId,E,this.delegate,R)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,R,$){this.delegate.setAttribute(_,E,R,$)}removeAttribute(_,E,R){this.delegate.removeAttribute(_,E,R)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,R,$){this.delegate.setStyle(_,E,R,$)}removeStyle(_,E,R){this.delegate.removeStyle(_,E,R)}setProperty(_,E,R){"@"==E.charAt(0)&&E==Xt?this.disableAnimations(_,!!R):this.delegate.setProperty(_,E,R)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,R){return this.delegate.listen(_,E,R)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class rt extends Qr{constructor(_,E,R,$,Y){super(E,R,$,Y),this.factory=_,this.namespaceId=E}setProperty(_,E,R){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Xt?this.disableAnimations(_,R=void 0===R||!!R):this.engine.process(this.namespaceId,_,E.slice(1),R):this.delegate.setProperty(_,E,R)}listen(_,E,R){if("@"==E.charAt(0)){const $=function Pn(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(_);let Y=E.slice(1),ae="";return"@"!=Y.charAt(0)&&([Y,ae]=function ao(V){const _=V.indexOf(".");return[V.substring(0,_),V.slice(_+1)]}(Y)),this.engine.listen(this.namespaceId,$,Y,ae,de=>{this.factory.scheduleListenerCallback(de._data||-1,R,de)})}return this.delegate.listen(_,E,R)}}const ki=[{provide:Ae._j,useClass:N},{provide:di,useFactory:function Fr(){return new Zi}},{provide:Ar,useClass:(()=>{class V extends Ar{constructor(E,R,$,Y){super(E.body,R,$)}ngOnDestroy(){this.flush()}}return V.\u0275fac=function(E){return new(E||V)(K.LFG(gn.K0),K.LFG(Hr),K.LFG(di),K.LFG(K.z2F))},V.\u0275prov=K.Yz7({token:V,factory:V.\u0275fac}),V})()},{provide:K.FYo,useFactory:function Jo(V,_,E){return new lr(V,_,E)},deps:[p.se,Ar,K.R0b]}],Lr=[{provide:Hr,useFactory:()=>new Lo},{provide:K.QbO,useValue:"BrowserAnimations"},...ki],Do=[{provide:Hr,useClass:Zr},{provide:K.QbO,useValue:"NoopAnimations"},...ki];let la=(()=>{class V{static withConfig(E){return{ngModule:V,providers:E.disableAnimations?Do:Lr}}}return V.\u0275fac=function(E){return new(E||V)},V.\u0275mod=K.oAB({type:V}),V.\u0275inj=K.cJS({providers:Lr,imports:[p.b2]}),V})();var zi=q(529);let Mr=(()=>{class V{}return V.\u0275fac=function(E){return new(E||V)},V.\u0275mod=K.oAB({type:V,bootstrap:[ke]}),V.\u0275inj=K.cJS({imports:[p.b2,J,Je.u5,la,pe.Rh.forRoot(),Je.UX,la,(0,It.hX)(()=>(0,It.ZF)(st_firebase)),(0,le.Cm)(()=>(0,le.ad)()),zi.JF]}),V})();p.q6().bootstrapModule(Mr).catch(V=>console.error(V))},9751:(fn,ct,q)=>{q.d(ct,{y:()=>It});var p=q(2961),W=q(727),K=q(8822),Ce=q(9635),J=q(2416),ke=q(576),Je=q(2806);let It=(()=>{class Ae{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Et=new Ae;return Et.source=this,Et.operator=Oe,Et}subscribe(Oe,Et,Ht){const en=function pe(Ae){return Ae&&Ae instanceof p.Lv||function le(Ae){return Ae&&(0,ke.m)(Ae.next)&&(0,ke.m)(Ae.error)&&(0,ke.m)(Ae.complete)}(Ae)&&(0,W.Nn)(Ae)}(Oe)?Oe:new p.Hp(Oe,Et,Ht);return(0,Je.x)(()=>{const{operator:Qt,source:xn}=this;en.add(Qt?Qt.call(en,xn):xn?this._subscribe(en):this._trySubscribe(en))}),en}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Et){Oe.error(Et)}}forEach(Oe,Et){return new(Et=st(Et))((Ht,en)=>{const Qt=new p.Hp({next:xn=>{try{Oe(xn)}catch(At){en(At),Qt.unsubscribe()}},error:en,complete:Ht});this.subscribe(Qt)})}_subscribe(Oe){var Et;return null===(Et=this.source)||void 0===Et?void 0:Et.subscribe(Oe)}[K.L](){return this}pipe(...Oe){return(0,Ce.U)(Oe)(this)}toPromise(Oe){return new(Oe=st(Oe))((Et,Ht)=>{let en;this.subscribe(Qt=>en=Qt,Qt=>Ht(Qt),()=>Et(en))})}}return Ae.create=Dt=>new Ae(Dt),Ae})();function st(Ae){var Dt;return null!==(Dt=Ae??J.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(fn,ct,q)=>{q.d(ct,{x:()=>Je});var p=q(9751),W=q(727);const Ce=(0,q(3888).d)(st=>function(){st(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=q(8737),ke=q(2806);let Je=(()=>{class st extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Ae=new It(this,this);return Ae.operator=pe,Ae}_throwIfClosed(){if(this.closed)throw new Ce}next(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(pe)}})}error(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(pe)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Ae,isStopped:Dt,observers:Oe}=this;return Ae||Dt?W.Lc:(this.currentObservers=null,Oe.push(pe),new W.w0(()=>{this.currentObservers=null,(0,J.P)(Oe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Ae,thrownError:Dt,isStopped:Oe}=this;Ae?pe.error(Dt):Oe&&pe.complete()}asObservable(){const pe=new p.y;return pe.source=this,pe}}return st.create=(le,pe)=>new It(le,pe),st})();class It extends Je{constructor(le,pe){super(),this.destination=le,this.source=pe}next(le){var pe,Ae;null===(Ae=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Ae||Ae.call(pe,le)}error(le){var pe,Ae;null===(Ae=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Ae||Ae.call(pe,le)}complete(){var le,pe;null===(pe=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===pe||pe.call(le)}_subscribe(le){var pe,Ae;return null!==(Ae=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(le))&&void 0!==Ae?Ae:W.Lc}}},2961:(fn,ct,q)=>{q.d(ct,{Hp:()=>Ht,Lv:()=>Ae});var p=q(576),W=q(727),K=q(2416),Ce=q(7849);function J(){}const ke=st("C",void 0,void 0);function st(Be,ve,Ke){return{kind:Be,value:ve,error:Ke}}var le=q(3410),pe=q(2806);class Ae extends W.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,W.Nn)(ve)&&ve.add(this)):this.destination=At}static create(ve,Ke,mt){return new Ht(ve,Ke,mt)}next(ve){this.isStopped?xn(function It(Be){return st("N",Be,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?xn(function Je(Be){return st("E",void 0,Be)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?xn(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function Oe(Be,ve){return Dt.call(Be,ve)}class Et{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(ve)}catch(mt){en(mt)}}error(ve){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(ve)}catch(mt){en(mt)}else en(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ke){en(Ke)}}}class Ht extends Ae{constructor(ve,Ke,mt){let je;if(super(),(0,p.m)(ve)||!ve)je={next:ve??void 0,error:Ke??void 0,complete:mt??void 0};else{let _t;this&&K.v.useDeprecatedNextContext?(_t=Object.create(ve),_t.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&Oe(ve.next,_t),error:ve.error&&Oe(ve.error,_t),complete:ve.complete&&Oe(ve.complete,_t)}):je=ve}this.destination=new Et(je)}}function en(Be){K.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(Be):(0,Ce.h)(Be)}function xn(Be,ve){const{onStoppedNotification:Ke}=K.v;Ke&&le.z.setTimeout(()=>Ke(Be,ve))}const At={closed:!0,next:J,error:function Qt(Be){throw Be},complete:J}},727:(fn,ct,q)=>{q.d(ct,{Lc:()=>ke,w0:()=>J,Nn:()=>Je});var p=q(576);const K=(0,q(3888).d)(st=>function(pe){st(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Ae,Dt)=>`${Dt+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Ce=q(8737);class J{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Oe of pe)Oe.remove(this);else pe.remove(this);const{initialTeardown:Ae}=this;if((0,p.m)(Ae))try{Ae()}catch(Oe){le=Oe instanceof K?Oe.errors:[Oe]}const{_finalizers:Dt}=this;if(Dt){this._finalizers=null;for(const Oe of Dt)try{It(Oe)}catch(Et){le=le??[],Et instanceof K?le=[...le,...Et.errors]:le.push(Et)}}if(le)throw new K(le)}}add(le){var pe;if(le&&le!==this)if(this.closed)It(le);else{if(le instanceof J){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(le)}}_hasParent(le){const{_parentage:pe}=this;return pe===le||Array.isArray(pe)&&pe.includes(le)}_addParent(le){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(le),pe):pe?[pe,le]:le}_removeParent(le){const{_parentage:pe}=this;pe===le?this._parentage=null:Array.isArray(pe)&&(0,Ce.P)(pe,le)}remove(le){const{_finalizers:pe}=this;pe&&(0,Ce.P)(pe,le),le instanceof J&&le._removeParent(this)}}J.EMPTY=(()=>{const st=new J;return st.closed=!0,st})();const ke=J.EMPTY;function Je(st){return st instanceof J||st&&"closed"in st&&(0,p.m)(st.remove)&&(0,p.m)(st.add)&&(0,p.m)(st.unsubscribe)}function It(st){(0,p.m)(st)?st():st.unsubscribe()}},2416:(fn,ct,q)=>{q.d(ct,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(fn,ct,q)=>{q.d(ct,{E:()=>W});const W=new(q(9751).y)(J=>J.complete())},8996:(fn,ct,q)=>{q.d(ct,{D:()=>ve});var p=q(8421),W=q(5363),K=q(9468),ke=q(9751),It=q(2202),st=q(576),le=q(9672);function Ae(Ke,mt){if(!Ke)throw new Error("Iterable cannot be null");return new ke.y(je=>{(0,le.f)(je,mt,()=>{const _t=Ke[Symbol.asyncIterator]();(0,le.f)(je,mt,()=>{_t.next().then(nt=>{nt.done?je.complete():je.next(nt.value)})},0,!0)})})}var Dt=q(3670),Oe=q(8239),Et=q(1144),Ht=q(6495),en=q(2206),Qt=q(4532),xn=q(3260);function ve(Ke,mt){return mt?function Be(Ke,mt){if(null!=Ke){if((0,Dt.c)(Ke))return function Ce(Ke,mt){return(0,p.Xf)(Ke).pipe((0,K.R)(mt),(0,W.Q)(mt))}(Ke,mt);if((0,Et.z)(Ke))return function Je(Ke,mt){return new ke.y(je=>{let _t=0;return mt.schedule(function(){_t===Ke.length?je.complete():(je.next(Ke[_t++]),je.closed||this.schedule())})})}(Ke,mt);if((0,Oe.t)(Ke))return function J(Ke,mt){return(0,p.Xf)(Ke).pipe((0,K.R)(mt),(0,W.Q)(mt))}(Ke,mt);if((0,en.D)(Ke))return Ae(Ke,mt);if((0,Ht.T)(Ke))return function pe(Ke,mt){return new ke.y(je=>{let _t;return(0,le.f)(je,mt,()=>{_t=Ke[It.h](),(0,le.f)(je,mt,()=>{let nt,Lt;try{({value:nt,done:Lt}=_t.next())}catch(Kt){return void je.error(Kt)}Lt?je.complete():je.next(nt)},0,!0)}),()=>(0,st.m)(_t?.return)&&_t.return()})}(Ke,mt);if((0,xn.L)(Ke))return function At(Ke,mt){return Ae((0,xn.Q)(Ke),mt)}(Ke,mt)}throw(0,Qt.z)(Ke)}(Ke,mt):(0,p.Xf)(Ke)}},8421:(fn,ct,q)=>{q.d(ct,{Xf:()=>Dt});var p=q(655),W=q(1144),K=q(8239),Ce=q(9751),J=q(3670),ke=q(2206),Je=q(4532),It=q(6495),st=q(3260),le=q(576),pe=q(7849),Ae=q(8822);function Dt(Be){if(Be instanceof Ce.y)return Be;if(null!=Be){if((0,J.c)(Be))return function Oe(Be){return new Ce.y(ve=>{const Ke=Be[Ae.L]();if((0,le.m)(Ke.subscribe))return Ke.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,W.z)(Be))return function Et(Be){return new Ce.y(ve=>{for(let Ke=0;Ke<Be.length&&!ve.closed;Ke++)ve.next(Be[Ke]);ve.complete()})}(Be);if((0,K.t)(Be))return function Ht(Be){return new Ce.y(ve=>{Be.then(Ke=>{ve.closed||(ve.next(Ke),ve.complete())},Ke=>ve.error(Ke)).then(null,pe.h)})}(Be);if((0,ke.D)(Be))return Qt(Be);if((0,It.T)(Be))return function en(Be){return new Ce.y(ve=>{for(const Ke of Be)if(ve.next(Ke),ve.closed)return;ve.complete()})}(Be);if((0,st.L)(Be))return function xn(Be){return Qt((0,st.Q)(Be))}(Be)}throw(0,Je.z)(Be)}function Qt(Be){return new Ce.y(ve=>{(function At(Be,ve){var Ke,mt,je,_t;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,p.KL)(Be);!(mt=yield Ke.next()).done;)if(ve.next(mt.value),ve.closed)return}catch(nt){je={error:nt}}finally{try{mt&&!mt.done&&(_t=Ke.return)&&(yield _t.call(Ke))}finally{if(je)throw je.error}}ve.complete()})})(Be,ve).catch(Ke=>ve.error(Ke))})}},9646:(fn,ct,q)=>{q.d(ct,{of:()=>K});var p=q(7669),W=q(8996);function K(...Ce){const J=(0,p.yG)(Ce);return(0,W.D)(Ce,J)}},5403:(fn,ct,q)=>{q.d(ct,{x:()=>W});var p=q(2961);function W(Ce,J,ke,Je,It){return new K(Ce,J,ke,Je,It)}class K extends p.Lv{constructor(J,ke,Je,It,st,le){super(J),this.onFinalize=st,this.shouldUnsubscribe=le,this._next=ke?function(pe){try{ke(pe)}catch(Ae){J.error(Ae)}}:super._next,this._error=It?function(pe){try{It(pe)}catch(Ae){J.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Je?function(){try{Je()}catch(pe){J.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4351:(fn,ct,q)=>{q.d(ct,{b:()=>K});var p=q(5577),W=q(576);function K(Ce,J){return(0,W.m)(J)?(0,p.z)(Ce,J,1):(0,p.z)(Ce,1)}},9300:(fn,ct,q)=>{q.d(ct,{h:()=>K});var p=q(4482),W=q(5403);function K(Ce,J){return(0,p.e)((ke,Je)=>{let It=0;ke.subscribe((0,W.x)(Je,st=>Ce.call(J,st,It++)&&Je.next(st)))})}},4004:(fn,ct,q)=>{q.d(ct,{U:()=>K});var p=q(4482),W=q(5403);function K(Ce,J){return(0,p.e)((ke,Je)=>{let It=0;ke.subscribe((0,W.x)(Je,st=>{Je.next(Ce.call(J,st,It++))}))})}},8189:(fn,ct,q)=>{q.d(ct,{J:()=>K});var p=q(5577),W=q(4671);function K(Ce=1/0){return(0,p.z)(W.y,Ce)}},5577:(fn,ct,q)=>{q.d(ct,{z:()=>It});var p=q(4004),W=q(8421),K=q(4482),Ce=q(9672),J=q(5403),Je=q(576);function It(st,le,pe=1/0){return(0,Je.m)(le)?It((Ae,Dt)=>(0,p.U)((Oe,Et)=>le(Ae,Oe,Dt,Et))((0,W.Xf)(st(Ae,Dt))),pe):("number"==typeof le&&(pe=le),(0,K.e)((Ae,Dt)=>function ke(st,le,pe,Ae,Dt,Oe,Et,Ht){const en=[];let Qt=0,xn=0,At=!1;const Be=()=>{At&&!en.length&&!Qt&&le.complete()},ve=mt=>Qt<Ae?Ke(mt):en.push(mt),Ke=mt=>{Oe&&le.next(mt),Qt++;let je=!1;(0,W.Xf)(pe(mt,xn++)).subscribe((0,J.x)(le,_t=>{Dt?.(_t),Oe?ve(_t):le.next(_t)},()=>{je=!0},void 0,()=>{if(je)try{for(Qt--;en.length&&Qt<Ae;){const _t=en.shift();Et?(0,Ce.f)(le,Et,()=>Ke(_t)):Ke(_t)}Be()}catch(_t){le.error(_t)}}))};return st.subscribe((0,J.x)(le,ve,()=>{At=!0,Be()})),()=>{Ht?.()}}(Ae,Dt,st,pe)))}},5363:(fn,ct,q)=>{q.d(ct,{Q:()=>Ce});var p=q(9672),W=q(4482),K=q(5403);function Ce(J,ke=0){return(0,W.e)((Je,It)=>{Je.subscribe((0,K.x)(It,st=>(0,p.f)(It,J,()=>It.next(st),ke),()=>(0,p.f)(It,J,()=>It.complete(),ke),st=>(0,p.f)(It,J,()=>It.error(st),ke)))})}},9468:(fn,ct,q)=>{q.d(ct,{R:()=>W});var p=q(4482);function W(K,Ce=0){return(0,p.e)((J,ke)=>{ke.add(K.schedule(()=>J.subscribe(ke),Ce))})}},8505:(fn,ct,q)=>{q.d(ct,{b:()=>J});var p=q(576),W=q(4482),K=q(5403),Ce=q(4671);function J(ke,Je,It){const st=(0,p.m)(ke)||Je||It?{next:ke,error:Je,complete:It}:ke;return st?(0,W.e)((le,pe)=>{var Ae;null===(Ae=st.subscribe)||void 0===Ae||Ae.call(st);let Dt=!0;le.subscribe((0,K.x)(pe,Oe=>{var Et;null===(Et=st.next)||void 0===Et||Et.call(st,Oe),pe.next(Oe)},()=>{var Oe;Dt=!1,null===(Oe=st.complete)||void 0===Oe||Oe.call(st),pe.complete()},Oe=>{var Et;Dt=!1,null===(Et=st.error)||void 0===Et||Et.call(st,Oe),pe.error(Oe)},()=>{var Oe,Et;Dt&&(null===(Oe=st.unsubscribe)||void 0===Oe||Oe.call(st)),null===(Et=st.finalize)||void 0===Et||Et.call(st)}))}):Ce.y}},3410:(fn,ct,q)=>{q.d(ct,{z:()=>p});const p={setTimeout(W,K,...Ce){const{delegate:J}=p;return J?.setTimeout?J.setTimeout(W,K,...Ce):setTimeout(W,K,...Ce)},clearTimeout(W){const{delegate:K}=p;return(K?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(fn,ct,q)=>{q.d(ct,{h:()=>W});const W=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(fn,ct,q)=>{q.d(ct,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(fn,ct,q)=>{q.d(ct,{_6:()=>ke,jO:()=>Ce,yG:()=>J});var p=q(576);function K(Je){return Je[Je.length-1]}function Ce(Je){return(0,p.m)(K(Je))?Je.pop():void 0}function J(Je){return function W(Je){return Je&&(0,p.m)(Je.schedule)}(K(Je))?Je.pop():void 0}function ke(Je,It){return"number"==typeof K(Je)?Je.pop():It}},4742:(fn,ct,q)=>{q.d(ct,{D:()=>J});const{isArray:p}=Array,{getPrototypeOf:W,prototype:K,keys:Ce}=Object;function J(Je){if(1===Je.length){const It=Je[0];if(p(It))return{args:It,keys:null};if(function ke(Je){return Je&&"object"==typeof Je&&W(Je)===K}(It)){const st=Ce(It);return{args:st.map(le=>It[le]),keys:st}}}return{args:Je,keys:null}}},8737:(fn,ct,q)=>{function p(W,K){if(W){const Ce=W.indexOf(K);0<=Ce&&W.splice(Ce,1)}}q.d(ct,{P:()=>p})},3888:(fn,ct,q)=>{function p(W){const Ce=W(J=>{Error.call(J),J.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}q.d(ct,{d:()=>p})},1810:(fn,ct,q)=>{function p(W,K){return W.reduce((Ce,J,ke)=>(Ce[J]=K[ke],Ce),{})}q.d(ct,{n:()=>p})},2806:(fn,ct,q)=>{q.d(ct,{O:()=>Ce,x:()=>K});var p=q(2416);let W=null;function K(J){if(p.v.useDeprecatedSynchronousErrorHandling){const ke=!W;if(ke&&(W={errorThrown:!1,error:null}),J(),ke){const{errorThrown:Je,error:It}=W;if(W=null,Je)throw It}}else J()}function Ce(J){p.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=J)}},9672:(fn,ct,q)=>{function p(W,K,Ce,J=0,ke=!1){const Je=K.schedule(function(){Ce(),ke?W.add(this.schedule(null,J)):this.unsubscribe()},J);if(W.add(Je),!ke)return Je}q.d(ct,{f:()=>p})},4671:(fn,ct,q)=>{function p(W){return W}q.d(ct,{y:()=>p})},1144:(fn,ct,q)=>{q.d(ct,{z:()=>p});const p=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(fn,ct,q)=>{q.d(ct,{D:()=>W});var p=q(576);function W(K){return Symbol.asyncIterator&&(0,p.m)(K?.[Symbol.asyncIterator])}},576:(fn,ct,q)=>{function p(W){return"function"==typeof W}q.d(ct,{m:()=>p})},3670:(fn,ct,q)=>{q.d(ct,{c:()=>K});var p=q(8822),W=q(576);function K(Ce){return(0,W.m)(Ce[p.L])}},6495:(fn,ct,q)=>{q.d(ct,{T:()=>K});var p=q(2202),W=q(576);function K(Ce){return(0,W.m)(Ce?.[p.h])}},8239:(fn,ct,q)=>{q.d(ct,{t:()=>W});var p=q(576);function W(K){return(0,p.m)(K?.then)}},3260:(fn,ct,q)=>{q.d(ct,{L:()=>Ce,Q:()=>K});var p=q(655),W=q(576);function K(J){return(0,p.FC)(this,arguments,function*(){const Je=J.getReader();try{for(;;){const{value:It,done:st}=yield(0,p.qq)(Je.read());if(st)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(It)}}finally{Je.releaseLock()}})}function Ce(J){return(0,W.m)(J?.getReader)}},4482:(fn,ct,q)=>{q.d(ct,{A:()=>W,e:()=>K});var p=q(576);function W(Ce){return(0,p.m)(Ce?.lift)}function K(Ce){return J=>{if(W(J))return J.lift(function(ke){try{return Ce(ke,this)}catch(Je){this.error(Je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(fn,ct,q)=>{q.d(ct,{Z:()=>Ce});var p=q(4004);const{isArray:W}=Array;function Ce(J){return(0,p.U)(ke=>function K(J,ke){return W(ke)?J(...ke):J(ke)}(J,ke))}},9635:(fn,ct,q)=>{q.d(ct,{U:()=>K,z:()=>W});var p=q(4671);function W(...Ce){return K(Ce)}function K(Ce){return 0===Ce.length?p.y:1===Ce.length?Ce[0]:function(ke){return Ce.reduce((Je,It)=>It(Je),ke)}}},7849:(fn,ct,q)=>{q.d(ct,{h:()=>K});var p=q(2416),W=q(3410);function K(Ce){W.z.setTimeout(()=>{const{onUnhandledError:J}=p.v;if(!J)throw Ce;J(Ce)})}},4532:(fn,ct,q)=>{function p(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(ct,{z:()=>p})},655:(fn,ct,q)=>{function Ce(xe,Ee){var He={};for(var at in xe)Object.prototype.hasOwnProperty.call(xe,at)&&Ee.indexOf(at)<0&&(He[at]=xe[at]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(at=Object.getOwnPropertySymbols(xe);Tt<at.length;Tt++)Ee.indexOf(at[Tt])<0&&Object.prototype.propertyIsEnumerable.call(xe,at[Tt])&&(He[at[Tt]]=xe[at[Tt]])}return He}function Ae(xe,Ee,He,at){return new(He||(He=Promise))(function(lt,Pt){function Ge(Te){try{he(at.next(Te))}catch(Ze){Pt(Ze)}}function pt(Te){try{he(at.throw(Te))}catch(Ze){Pt(Ze)}}function he(Te){Te.done?lt(Te.value):function Tt(lt){return lt instanceof He?lt:new He(function(Pt){Pt(lt)})}(Te.value).then(Ge,pt)}he((at=at.apply(xe,Ee||[])).next())})}function Be(xe){return this instanceof Be?(this.v=xe,this):new Be(xe)}function ve(xe,Ee,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,at=He.apply(xe,Ee||[]),lt=[];return Tt={},Pt("next"),Pt("throw"),Pt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt;function Pt(ht){at[ht]&&(Tt[ht]=function(Nn){return new Promise(function(Dn,rn){lt.push([ht,Nn,Dn,rn])>1||Ge(ht,Nn)})})}function Ge(ht,Nn){try{!function pt(ht){ht.value instanceof Be?Promise.resolve(ht.value.v).then(he,Te):Ze(lt[0][2],ht)}(at[ht](Nn))}catch(Dn){Ze(lt[0][3],Dn)}}function he(ht){Ge("next",ht)}function Te(ht){Ge("throw",ht)}function Ze(ht,Nn){ht(Nn),lt.shift(),lt.length&&Ge(lt[0][0],lt[0][1])}}function mt(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ee=xe[Symbol.asyncIterator];return Ee?Ee.call(xe):(xe=function Ht(xe){var Ee="function"==typeof Symbol&&Symbol.iterator,He=Ee&&xe[Ee],at=0;if(He)return He.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&at>=xe.length&&(xe=void 0),{value:xe&&xe[at++],done:!xe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),He={},at("next"),at("throw"),at("return"),He[Symbol.asyncIterator]=function(){return this},He);function at(lt){He[lt]=xe[lt]&&function(Pt){return new Promise(function(Ge,pt){!function Tt(lt,Pt,Ge,pt){Promise.resolve(pt).then(function(he){lt({value:he,done:Ge})},Pt)}(Ge,pt,(Pt=xe[lt](Pt)).done,Pt.value)})}}}q.d(ct,{FC:()=>ve,KL:()=>mt,_T:()=>Ce,mG:()=>Ae,qq:()=>Be})},7340:(fn,ct,q)=>{q.d(ct,{LC:()=>W,SB:()=>st,X$:()=>Ce,ZE:()=>xn,ZN:()=>Qt,_j:()=>p,eR:()=>pe,jt:()=>J,k1:()=>At,l3:()=>K,oB:()=>It,vP:()=>Je});class p{}class W{}const K="*";function Ce(Be,ve){return{type:7,name:Be,definitions:ve,options:{}}}function J(Be,ve=null){return{type:4,styles:ve,timings:Be}}function Je(Be,ve=null){return{type:2,steps:Be,options:ve}}function It(Be){return{type:6,styles:Be,offset:null}}function st(Be,ve,Ke){return{type:0,name:Be,styles:ve,options:Ke}}function pe(Be,ve,Ke=null){return{type:1,expr:Be,animation:ve,options:Ke}}function en(Be){Promise.resolve().then(Be)}class Qt{constructor(ve=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._originalOnStartFns.push(ve),this._onStartFns.push(ve)}onDone(ve){this._originalOnDoneFns.push(ve),this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){en(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const Ke="start"==ve?this._onStartFns:this._onDoneFns;Ke.forEach(mt=>mt()),Ke.length=0}}class xn{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let Ke=0,mt=0,je=0;const _t=this.players.length;0==_t?en(()=>this._onFinish()):this.players.forEach(nt=>{nt.onDone(()=>{++Ke==_t&&this._onFinish()}),nt.onDestroy(()=>{++mt==_t&&this._onDestroy()}),nt.onStart(()=>{++je==_t&&this._onStart()})}),this.totalTime=this.players.reduce((nt,Lt)=>Math.max(nt,Lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const Ke=ve*this.totalTime;this.players.forEach(mt=>{const je=mt.totalTime?Math.min(1,Ke/mt.totalTime):1;mt.setPosition(je)})}getPosition(){const ve=this.players.reduce((Ke,mt)=>null===Ke||mt.totalTime>Ke.totalTime?mt:Ke,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const Ke="start"==ve?this._onStartFns:this._onDoneFns;Ke.forEach(mt=>mt()),Ke.length=0}}const At="!"},6895:(fn,ct,q)=>{q.d(ct,{Do:()=>xn,EM:()=>vo,HT:()=>Ce,JF:()=>jr,K0:()=>ke,Mx:()=>Ts,O5:()=>vn,S$:()=>Ht,V_:()=>st,Ye:()=>At,b0:()=>Qt,bD:()=>aa,ez:()=>Gs,q:()=>K,sg:()=>po,w_:()=>J});var p=q(8256);let W=null;function K(){return W}function Ce(D){W||(W=D)}class J{}const ke=new p.OlP("DocumentToken");let Je=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=p.Yz7({token:D,factory:function(){return function It(){return(0,p.LFG)(le)}()},providedIn:"platform"}),D})();const st=new p.OlP("Location Initialized");let le=(()=>{class D extends Je{constructor(A){super(),this._doc=A,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(A){const j=K().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",A,!1),()=>j.removeEventListener("popstate",A)}onHashChange(A){const j=K().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",A,!1),()=>j.removeEventListener("hashchange",A)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(A){this._location.pathname=A}pushState(A,j,re){pe()?this._history.pushState(A,j,re):this._location.hash=re}replaceState(A,j,re){pe()?this._history.replaceState(A,j,re):this._location.hash=re}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return D.\u0275fac=function(A){return new(A||D)(p.LFG(ke))},D.\u0275prov=p.Yz7({token:D,factory:function(){return function Ae(){return new le((0,p.LFG)(ke))}()},providedIn:"platform"}),D})();function pe(){return!!window.history.pushState}function Dt(D,L){if(0==D.length)return L;if(0==L.length)return D;let A=0;return D.endsWith("/")&&A++,L.startsWith("/")&&A++,2==A?D+L.substring(1):1==A?D+L:D+"/"+L}function Oe(D){const L=D.match(/#|\?|$/),A=L&&L.index||D.length;return D.slice(0,A-("/"===D[A-1]?1:0))+D.slice(A)}function Et(D){return D&&"?"!==D[0]?"?"+D:D}let Ht=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(Qt)},providedIn:"root"}),D})();const en=new p.OlP("appBaseHref");let Qt=(()=>{class D extends Ht{constructor(A,j){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=j??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return Dt(this._baseHref,A)}path(A=!1){const j=this._platformLocation.pathname+Et(this._platformLocation.search),re=this._platformLocation.hash;return re&&A?`${j}${re}`:j}pushState(A,j,re,Le){const tt=this.prepareExternalUrl(re+Et(Le));this._platformLocation.pushState(A,j,tt)}replaceState(A,j,re,Le){const tt=this.prepareExternalUrl(re+Et(Le));this._platformLocation.replaceState(A,j,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(p.LFG(Je),p.LFG(en,8))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),xn=(()=>{class D extends Ht{constructor(A,j){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(A){const j=Dt(this._baseHref,A);return j.length>0?"#"+j:j}pushState(A,j,re,Le){let tt=this.prepareExternalUrl(re+Et(Le));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(A,j,tt)}replaceState(A,j,re,Le){let tt=this.prepareExternalUrl(re+Et(Le));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(A,j,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(p.LFG(Je),p.LFG(en,8))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac}),D})(),At=(()=>{class D{constructor(A){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const j=this._locationStrategy.getBaseHref();this._basePath=function mt(D){if(new RegExp("^(https?:)?//").test(D)){const[,A]=D.split(/\/\/[^\/]+/);return A}return D}(Oe(Ke(j))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,j=""){return this.path()==this.normalize(A+Et(j))}normalize(A){return D.stripTrailingSlash(function ve(D,L){if(!D||!L.startsWith(D))return L;const A=L.substring(D.length);return""===A||["/",";","?","#"].includes(A[0])?A:L}(this._basePath,Ke(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,j="",re=null){this._locationStrategy.pushState(re,"",A,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Et(j)),re)}replaceState(A,j="",re=null){this._locationStrategy.replaceState(re,"",A,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Et(j)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)})),()=>{const j=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(j,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",j){this._urlChangeListeners.forEach(re=>re(A,j))}subscribe(A,j,re){return this._subject.subscribe({next:A,error:j,complete:re})}}return D.normalizeQueryParams=Et,D.joinWithSlash=Dt,D.stripTrailingSlash=Oe,D.\u0275fac=function(A){return new(A||D)(p.LFG(Ht))},D.\u0275prov=p.Yz7({token:D,factory:function(){return function Be(){return new At((0,p.LFG)(Ht))}()},providedIn:"root"}),D})();function Ke(D){return D.replace(/\/index.html$/,"")}function Ts(D,L){L=encodeURIComponent(L);for(const A of D.split(";")){const j=A.indexOf("="),[re,Le]=-1==j?[A,""]:[A.slice(0,j),A.slice(j+1)];if(re.trim()===L)return decodeURIComponent(Le)}return null}class us{constructor(L,A,j,re){this.$implicit=L,this.ngForOf=A,this.index=j,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let po=(()=>{class D{set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}constructor(A,j,re){this._viewContainer=A,this._template=j,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const j=this._viewContainer;A.forEachOperation((re,Le,tt)=>{if(null==re.previousIndex)j.createEmbeddedView(this._template,new us(re.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)j.remove(null===Le?void 0:Le);else if(null!==Le){const qe=j.get(Le);j.move(qe,tt),rr(qe,re)}});for(let re=0,Le=j.length;re<Le;re++){const qe=j.get(re).context;qe.index=re,qe.count=Le,qe.ngForOf=this._ngForOf}A.forEachIdentityChange(re=>{rr(j.get(re.currentIndex),re)})}static ngTemplateContextGuard(A,j){return!0}}return D.\u0275fac=function(A){return new(A||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},D.\u0275dir=p.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function rr(D,L){D.context.$implicit=L.item}let vn=(()=>{class D{constructor(A,j){this._viewContainer=A,this._context=new sr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){Cr("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){Cr("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,j){return!0}}return D.\u0275fac=function(A){return new(A||D)(p.Y36(p.s_b),p.Y36(p.Rgc))},D.\u0275dir=p.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class sr{constructor(){this.$implicit=null,this.ngIf=null}}function Cr(D,L){if(L&&!L.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.AaK)(L)}'.`)}let Gs=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({}),D})();const aa="browser";let vo=(()=>{class D{}return D.\u0275prov=(0,p.Yz7)({token:D,providedIn:"root",factory:()=>new so((0,p.LFG)(ke),window)}),D})();class so{constructor(L,A){this.document=L,this.window=A,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const A=function Ms(D,L){const A=D.getElementById(L)||D.getElementsByName(L)[0];if(A)return A;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const j=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let re=j.currentNode;for(;re;){const Le=re.shadowRoot;if(Le){const tt=Le.getElementById(L)||Le.querySelector(`[name="${L}"]`);if(tt)return tt}re=j.nextNode()}}return null}(this.document,L);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=L)}}scrollToElement(L){const A=L.getBoundingClientRect(),j=A.left+this.window.pageXOffset,re=A.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(j-Le[0],re-Le[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=Fo(this.window.history)||Fo(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Fo(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class jr{}},529:(fn,ct,q)=>{q.d(ct,{JF:()=>Hr,eN:()=>Ee});var p=q(6895),W=q(8256),K=q(9646),Ce=q(9751),J=q(4351),ke=q(9300),Je=q(4004);class It{}class st{}class le{constructor(se){this.normalizedNames=new Map,this.lazyUpdate=null,se?this.lazyInit="string"==typeof se?()=>{this.headers=new Map,se.split("\n").forEach(ge=>{const Ye=ge.indexOf(":");if(Ye>0){const et=ge.slice(0,Ye),X=et.toLowerCase(),ne=ge.slice(Ye+1).trim();this.maybeSetNormalizedName(et,X),this.headers.has(X)?this.headers.get(X).push(ne):this.headers.set(X,[ne])}})}:()=>{this.headers=new Map,Object.entries(se).forEach(([ge,Ye])=>{let et;if(et="string"==typeof Ye?[Ye]:"number"==typeof Ye?[Ye.toString()]:Ye.map(X=>X.toString()),et.length>0){const X=ge.toLowerCase();this.headers.set(X,et),this.maybeSetNormalizedName(ge,X)}})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const ge=this.headers.get(se.toLowerCase());return ge&&ge.length>0?ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,ge){return this.clone({name:se,value:ge,op:"a"})}set(se,ge){return this.clone({name:se,value:ge,op:"s"})}delete(se,ge){return this.clone({name:se,value:ge,op:"d"})}maybeSetNormalizedName(se,ge){this.normalizedNames.has(ge)||this.normalizedNames.set(ge,se)}init(){this.lazyInit&&(this.lazyInit instanceof le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(ge=>{this.headers.set(ge,se.headers.get(ge)),this.normalizedNames.set(ge,se.normalizedNames.get(ge))})}clone(se){const ge=new le;return ge.lazyInit=this.lazyInit&&this.lazyInit instanceof le?this.lazyInit:this,ge.lazyUpdate=(this.lazyUpdate||[]).concat([se]),ge}applyUpdate(se){const ge=se.name.toLowerCase();switch(se.op){case"a":case"s":let Ye=se.value;if("string"==typeof Ye&&(Ye=[Ye]),0===Ye.length)return;this.maybeSetNormalizedName(se.name,ge);const et=("a"===se.op?this.headers.get(ge):void 0)||[];et.push(...Ye),this.headers.set(ge,et);break;case"d":const X=se.value;if(X){let ne=this.headers.get(ge);if(!ne)return;ne=ne.filter(oe=>-1===X.indexOf(oe)),0===ne.length?(this.headers.delete(ge),this.normalizedNames.delete(ge)):this.headers.set(ge,ne)}else this.headers.delete(ge),this.normalizedNames.delete(ge)}}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(ge=>se(this.normalizedNames.get(ge),this.headers.get(ge)))}}class Ae{encodeKey(se){return Ht(se)}encodeValue(se){return Ht(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const Oe=/%(\d[a-f0-9])/gi,Et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ht(De){return encodeURIComponent(De).replace(Oe,(se,ge)=>Et[ge]??se)}function en(De){return`${De}`}class Qt{constructor(se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=se.encoder||new Ae,se.fromString){if(se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dt(De,se){const ge=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach(et=>{const X=et.indexOf("="),[ne,oe]=-1==X?[se.decodeKey(et),""]:[se.decodeKey(et.slice(0,X)),se.decodeValue(et.slice(X+1))],be=ge.get(ne)||[];be.push(oe),ge.set(ne,be)}),ge}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(ge=>{const Ye=se.fromObject[ge],et=Array.isArray(Ye)?Ye.map(en):[en(Ye)];this.map.set(ge,et)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const ge=this.map.get(se);return ge?ge[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,ge){return this.clone({param:se,value:ge,op:"a"})}appendAll(se){const ge=[];return Object.keys(se).forEach(Ye=>{const et=se[Ye];Array.isArray(et)?et.forEach(X=>{ge.push({param:Ye,value:X,op:"a"})}):ge.push({param:Ye,value:et,op:"a"})}),this.clone(ge)}set(se,ge){return this.clone({param:se,value:ge,op:"s"})}delete(se,ge){return this.clone({param:se,value:ge,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const ge=this.encoder.encodeKey(se);return this.map.get(se).map(Ye=>ge+"="+this.encoder.encodeValue(Ye)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const ge=new Qt({encoder:this.encoder});return ge.cloneFrom=this.cloneFrom||this,ge.updates=(this.updates||[]).concat(se),ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const ge=("a"===se.op?this.map.get(se.param):void 0)||[];ge.push(en(se.value)),this.map.set(se.param,ge);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let Ye=this.map.get(se.param)||[];const et=Ye.indexOf(en(se.value));-1!==et&&Ye.splice(et,1),Ye.length>0?this.map.set(se.param,Ye):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class At{constructor(){this.map=new Map}set(se,ge){return this.map.set(se,ge),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function ve(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function Ke(De){return typeof Blob<"u"&&De instanceof Blob}function mt(De){return typeof FormData<"u"&&De instanceof FormData}class _t{constructor(se,ge,Ye,et){let X;if(this.url=ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=se.toUpperCase(),function Be(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||et?(this.body=void 0!==Ye?Ye:null,X=et):X=Ye,X&&(this.reportProgress=!!X.reportProgress,this.withCredentials=!!X.withCredentials,X.responseType&&(this.responseType=X.responseType),X.headers&&(this.headers=X.headers),X.context&&(this.context=X.context),X.params&&(this.params=X.params)),this.headers||(this.headers=new le),this.context||(this.context=new At),this.params){const ne=this.params.toString();if(0===ne.length)this.urlWithParams=ge;else{const oe=ge.indexOf("?");this.urlWithParams=ge+(-1===oe?"?":oe<ge.length-1?"&":"")+ne}}else this.params=new Qt,this.urlWithParams=ge}serializeBody(){return null===this.body?null:ve(this.body)||Ke(this.body)||mt(this.body)||function je(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mt(this.body)?null:Ke(this.body)?this.body.type||null:ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(se={}){const ge=se.method||this.method,Ye=se.url||this.url,et=se.responseType||this.responseType,X=void 0!==se.body?se.body:this.body,ne=void 0!==se.withCredentials?se.withCredentials:this.withCredentials,oe=void 0!==se.reportProgress?se.reportProgress:this.reportProgress;let be=se.headers||this.headers,ye=se.params||this.params;const Mt=se.context??this.context;return void 0!==se.setHeaders&&(be=Object.keys(se.setHeaders).reduce((ce,ie)=>ce.set(ie,se.setHeaders[ie]),be)),se.setParams&&(ye=Object.keys(se.setParams).reduce((ce,ie)=>ce.set(ie,se.setParams[ie]),ye)),new _t(ge,Ye,X,{params:ye,headers:be,context:Mt,reportProgress:oe,responseType:et,withCredentials:ne})}}var nt=(()=>((nt=nt||{})[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt))();class Lt{constructor(se,ge=200,Ye="OK"){this.headers=se.headers||new le,this.status=void 0!==se.status?se.status:ge,this.statusText=se.statusText||Ye,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class Kt extends Lt{constructor(se={}){super(se),this.type=nt.ResponseHeader}clone(se={}){return new Kt({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class Qe extends Lt{constructor(se={}){super(se),this.type=nt.Response,this.body=void 0!==se.body?se.body:null}clone(se={}){return new Qe({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class bt extends Lt{constructor(se){super(se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function xe(De,se){return{body:se,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let Ee=(()=>{class De{constructor(ge){this.handler=ge}request(ge,Ye,et={}){let X;if(ge instanceof _t)X=ge;else{let be,ye;be=et.headers instanceof le?et.headers:new le(et.headers),et.params&&(ye=et.params instanceof Qt?et.params:new Qt({fromObject:et.params})),X=new _t(ge,Ye,void 0!==et.body?et.body:null,{headers:be,context:et.context,params:ye,reportProgress:et.reportProgress,responseType:et.responseType||"json",withCredentials:et.withCredentials})}const ne=(0,K.of)(X).pipe((0,J.b)(be=>this.handler.handle(be)));if(ge instanceof _t||"events"===et.observe)return ne;const oe=ne.pipe((0,ke.h)(be=>be instanceof Qe));switch(et.observe||"body"){case"body":switch(X.responseType){case"arraybuffer":return oe.pipe((0,Je.U)(be=>{if(null!==be.body&&!(be.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return be.body}));case"blob":return oe.pipe((0,Je.U)(be=>{if(null!==be.body&&!(be.body instanceof Blob))throw new Error("Response is not a Blob.");return be.body}));case"text":return oe.pipe((0,Je.U)(be=>{if(null!==be.body&&"string"!=typeof be.body)throw new Error("Response is not a string.");return be.body}));default:return oe.pipe((0,Je.U)(be=>be.body))}case"response":return oe;default:throw new Error(`Unreachable: unhandled observe type ${et.observe}}`)}}delete(ge,Ye={}){return this.request("DELETE",ge,Ye)}get(ge,Ye={}){return this.request("GET",ge,Ye)}head(ge,Ye={}){return this.request("HEAD",ge,Ye)}jsonp(ge,Ye){return this.request("JSONP",ge,{params:(new Qt).append(Ye,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ge,Ye={}){return this.request("OPTIONS",ge,Ye)}patch(ge,Ye,et={}){return this.request("PATCH",ge,xe(et,Ye))}post(ge,Ye,et={}){return this.request("POST",ge,xe(et,Ye))}put(ge,Ye,et={}){return this.request("PUT",ge,xe(et,Ye))}}return De.\u0275fac=function(ge){return new(ge||De)(W.LFG(It))},De.\u0275prov=W.Yz7({token:De,factory:De.\u0275fac}),De})();function He(De,se){return se(De)}function at(De,se){return(ge,Ye)=>se.intercept(ge,{handle:et=>De(et,Ye)})}const lt=new W.OlP("HTTP_INTERCEPTORS"),Pt=new W.OlP("HTTP_INTERCEPTOR_FNS");function Ge(){let De=null;return(se,ge)=>(null===De&&(De=((0,W.f3M)(lt,{optional:!0})??[]).reduceRight(at,He)),De(se,ge))}let pt=(()=>{class De extends It{constructor(ge,Ye){super(),this.backend=ge,this.injector=Ye,this.chain=null}handle(ge){if(null===this.chain){const Ye=Array.from(new Set(this.injector.get(Pt)));this.chain=Ye.reduceRight((et,X)=>function Tt(De,se,ge){return(Ye,et)=>ge.runInContext(()=>se(Ye,X=>De(X,et)))}(et,X,this.injector),He)}return this.chain(ge,Ye=>this.backend.handle(Ye))}}return De.\u0275fac=function(ge){return new(ge||De)(W.LFG(st),W.LFG(W.lqb))},De.\u0275prov=W.Yz7({token:De,factory:De.\u0275fac}),De})();const Nr=/^\)\]\}',?\n/;let Vt=(()=>{class De{constructor(ge){this.xhrFactory=ge}handle(ge){if("JSONP"===ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(Ye=>{const et=this.xhrFactory.build();if(et.open(ge.method,ge.urlWithParams),ge.withCredentials&&(et.withCredentials=!0),ge.headers.forEach((Q,ue)=>et.setRequestHeader(Q,ue.join(","))),ge.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!ge.headers.has("Content-Type")){const Q=ge.detectContentTypeHeader();null!==Q&&et.setRequestHeader("Content-Type",Q)}if(ge.responseType){const Q=ge.responseType.toLowerCase();et.responseType="json"!==Q?Q:"text"}const X=ge.serializeBody();let ne=null;const oe=()=>{if(null!==ne)return ne;const Q=et.statusText||"OK",ue=new le(et.getAllResponseHeaders()),Pe=function Br(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}(et)||ge.url;return ne=new Kt({headers:ue,status:et.status,statusText:Q,url:Pe}),ne},be=()=>{let{headers:Q,status:ue,statusText:Pe,url:ut}=oe(),Rt=null;204!==ue&&(Rt=typeof et.response>"u"?et.responseText:et.response),0===ue&&(ue=Rt?200:0);let Ot=ue>=200&&ue<300;if("json"===ge.responseType&&"string"==typeof Rt){const Un=Rt;Rt=Rt.replace(Nr,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(ur){Rt=Un,Ot&&(Ot=!1,Rt={error:ur,text:Rt})}}Ot?(Ye.next(new Qe({body:Rt,headers:Q,status:ue,statusText:Pe,url:ut||void 0})),Ye.complete()):Ye.error(new bt({error:Rt,headers:Q,status:ue,statusText:Pe,url:ut||void 0}))},ye=Q=>{const{url:ue}=oe(),Pe=new bt({error:Q,status:et.status||0,statusText:et.statusText||"Unknown Error",url:ue||void 0});Ye.error(Pe)};let Mt=!1;const ce=Q=>{Mt||(Ye.next(oe()),Mt=!0);let ue={type:nt.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(ue.total=Q.total),"text"===ge.responseType&&et.responseText&&(ue.partialText=et.responseText),Ye.next(ue)},ie=Q=>{let ue={type:nt.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(ue.total=Q.total),Ye.next(ue)};return et.addEventListener("load",be),et.addEventListener("error",ye),et.addEventListener("timeout",ye),et.addEventListener("abort",ye),ge.reportProgress&&(et.addEventListener("progress",ce),null!==X&&et.upload&&et.upload.addEventListener("progress",ie)),et.send(X),Ye.next({type:nt.Sent}),()=>{et.removeEventListener("error",ye),et.removeEventListener("abort",ye),et.removeEventListener("load",be),et.removeEventListener("timeout",ye),ge.reportProgress&&(et.removeEventListener("progress",ce),null!==X&&et.upload&&et.upload.removeEventListener("progress",ie)),et.readyState!==et.DONE&&et.abort()}})}}return De.\u0275fac=function(ge){return new(ge||De)(W.LFG(p.JF))},De.\u0275prov=W.Yz7({token:De,factory:De.\u0275fac}),De})();const tr=new W.OlP("XSRF_ENABLED"),_r=new W.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pr=new W.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vr{}let Kr=(()=>{class De{constructor(ge,Ye,et){this.doc=ge,this.platform=Ye,this.cookieName=et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ge=this.doc.cookie||"";return ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(ge,this.cookieName),this.lastCookieString=ge),this.lastToken}}return De.\u0275fac=function(ge){return new(ge||De)(W.LFG(p.K0),W.LFG(W.Lbi),W.LFG(_r))},De.\u0275prov=W.Yz7({token:De,factory:De.\u0275fac}),De})();function Cn(De,se){const ge=De.url.toLowerCase();if(!(0,W.f3M)(tr)||"GET"===De.method||"HEAD"===De.method||ge.startsWith("http://")||ge.startsWith("https://"))return se(De);const Ye=(0,W.f3M)(vr).getToken(),et=(0,W.f3M)(Pr);return null!=Ye&&!De.headers.has(et)&&(De=De.clone({headers:De.headers.set(et,Ye)})),se(De)}var St=(()=>((St=St||{})[St.Interceptors=0]="Interceptors",St[St.LegacyInterceptors=1]="LegacyInterceptors",St[St.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",St[St.NoXsrfProtection=3]="NoXsrfProtection",St[St.JsonpSupport=4]="JsonpSupport",St[St.RequestsMadeViaParent=5]="RequestsMadeViaParent",St))();function Hn(De,se){return{\u0275kind:De,\u0275providers:se}}function pn(...De){const se=[Ee,Vt,pt,{provide:It,useExisting:pt},{provide:st,useExisting:Vt},{provide:Pt,useValue:Cn,multi:!0},{provide:tr,useValue:!0},{provide:vr,useClass:Kr}];for(const ge of De)se.push(...ge.\u0275providers);return(0,W.MR2)(se)}const Ii=new W.OlP("LEGACY_INTERCEPTOR_FN");let Hr=(()=>{class De{}return De.\u0275fac=function(ge){return new(ge||De)},De.\u0275mod=W.oAB({type:De}),De.\u0275inj=W.cJS({providers:[pn(Hn(St.LegacyInterceptors,[{provide:Ii,useFactory:Ge},{provide:Pt,useExisting:Ii,multi:!0}]))]}),De})()},8256:(fn,ct,q)=>{q.d(ct,{QbO:()=>rf,tb:()=>zw,AFp:()=>S_,ip1:()=>Eg,CZH:()=>pd,hGG:()=>q_,z2F:()=>df,sBO:()=>V_,Sil:()=>Vw,_Vd:()=>qd,EJc:()=>Lw,Xts:()=>Gd,SBq:()=>Pl,lqb:()=>Rl,qLn:()=>Yd,vpe:()=>Da,XFs:()=>ot,OlP:()=>Rr,zs3:()=>Ol,ZZ4:()=>Ef,aQg:()=>ec,soG:()=>af,YKP:()=>e_,h0i:()=>ou,PXZ:()=>P_,R0b:()=>ba,FiY:()=>Wi,Lbi:()=>bT,g9A:()=>nf,Qsj:()=>dI,FYo:()=>cI,JOm:()=>ma,q3G:()=>qi,tp0:()=>Za,Rgc:()=>Kh,dDg:()=>Gw,eoX:()=>N_,q4F:()=>cp,GfV:()=>Am,s_b:()=>Qh,ifc:()=>ut,MMx:()=>Ua,Lck:()=>t_,eFA:()=>O_,Gpc:()=>xn,f3M:()=>oe,$WT:()=>Ds,MR2:()=>rI,_c5:()=>wf,c2e:()=>wg,zSh:()=>Em,wAp:()=>Tn,vHH:()=>je,lri:()=>yl,rWj:()=>gd,JZr:()=>mt,EiD:()=>fm,mCW:()=>Ud,qzn:()=>Ld,JVY:()=>lm,pB0:()=>Y0,eBb:()=>K0,L6k:()=>yv,LAX:()=>Li,D6c:()=>s0,cg1:()=>By,kL8:()=>$E,dqk:()=>bn,Z0I:()=>tr,eJc:()=>fg,CqO:()=>Iy,QGY:()=>Bp,F4k:()=>Xu,RDi:()=>iC,AaK:()=>Ht,z3N:()=>Gu,qOj:()=>ay,TTD:()=>Pi,_Bn:()=>Uh,jDz:()=>xo,xp6:()=>Gv,uIk:()=>Eh,Tol:()=>$e,ekj:()=>cn,Suo:()=>Cw,Xpm:()=>In,lG2:()=>Is,Yz7:()=>er,cJS:()=>Br,oAB:()=>ui,Yjl:()=>Ts,Y36:()=>kl,_UZ:()=>Up,BQk:()=>Dh,ynx:()=>kc,qZA:()=>Th,TgZ:()=>Zu,EpF:()=>wy,n5z:()=>qs,LFG:()=>X,$8M:()=>Uu,$Z:()=>Jv,NdJ:()=>$p,CRH:()=>bw,oxw:()=>Cy,Q6J:()=>Oc,s9C:()=>Sh,iGM:()=>Dw,MAs:()=>_y,KtG:()=>gs,CHM:()=>ao,oJD:()=>Cv,LSH:()=>jd,P3R:()=>np,Akn:()=>su,Udp:()=>nn,d8E:()=>Gc,YNc:()=>Lp,W1O:()=>dg,_uU:()=>PE,Oqu:()=>Si,hij:()=>Gt,AsE:()=>Bc});var p=q(7579),W=q(727),K=q(9751),Ce=q(8189),J=q(8421),ke=q(515),Je=q(7669),It=q(8996),le=q(2961),pe=q(4482);function Dt(i,s,...o){if(!0===s)return void i();if(!1===s)return;const u=new le.Hp({next:()=>{u.unsubscribe(),i()}});return(0,J.Xf)(s(...o)).subscribe(u)}function Oe(i){for(let s in i)if(i[s]===Oe)return s;throw Error("Could not find renamed property on target object.")}function Et(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Ht(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ht).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function en(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Qt=Oe({__forward_ref__:Oe});function xn(i){return i.__forward_ref__=xn,i.toString=function(){return Ht(this())},i}function At(i){return Be(i)?i():i}function Be(i){return"function"==typeof i&&i.hasOwnProperty(Qt)&&i.__forward_ref__===xn}function ve(i){return i&&!!i.\u0275providers}const mt="https://g.co/ng/security#xss";class je extends Error{constructor(s,o){super(_t(s,o)),this.code=s}}function _t(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function nt(i){return"string"==typeof i?i:null==i?"":String(i)}function xe(i,s){throw new je(-201,!1)}function Dn(i,s){null==i&&function rn(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function er(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Br(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vt(i){return qn(i,Pr)||qn(i,Kr)}function tr(i){return null!==Vt(i)}function qn(i,s){return i.hasOwnProperty(s)?i[s]:null}function hr(i){return i&&(i.hasOwnProperty(vr)||i.hasOwnProperty(Cn))?i[vr]:null}const Pr=Oe({\u0275prov:Oe}),vr=Oe({\u0275inj:Oe}),Kr=Oe({ngInjectableDef:Oe}),Cn=Oe({ngInjectorDef:Oe});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let St;function pn(i){const s=St;return St=i,s}function fr(i,s,o){const u=Vt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ot.Optional?null:void 0!==s?s:void xe(Ht(i))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},Zr="__NG_DI_FLAG__",Hr="ngTempTokenPath",Ri="ngTokenPath",Er=/\n/gm,De="\u0275",se="__source";let ge;function Ye(i){const s=ge;return ge=i,s}function et(i,s=ot.Default){if(void 0===ge)throw new je(-203,!1);return null===ge?fr(i,void 0,s):ge.get(i,s&ot.Optional?null:void 0,s)}function X(i,s=ot.Default){return(function Hn(){return St}()||et)(At(i),s)}function oe(i,s=ot.Default){return X(i,be(s))}function be(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function ye(i){const s=[];for(let o=0;o<i.length;o++){const u=At(i[o]);if(Array.isArray(u)){if(0===u.length)throw new je(900,!1);let c,h=ot.Default;for(let g=0;g<u.length;g++){const I=u[g],S=ce(I);"number"==typeof S?-1===S?c=I.token:h|=S:c=I}s.push(X(c,h))}else s.push(X(u))}return s}function Mt(i,s){return i[Zr]=s,i.prototype[Zr]=s,i}function ce(i){return i[Zr]}function ue(i){return{toString:i}.toString()}var Pe=(()=>((Pe=Pe||{})[Pe.OnPush=0]="OnPush",Pe[Pe.Default=1]="Default",Pe))(),ut=(()=>{return(i=ut||(ut={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ut;var i})();const Rt={},Ot=[],Un=Oe({\u0275cmp:Oe}),ur=Oe({\u0275dir:Oe}),Ue=Oe({\u0275pipe:Oe}),Se=Oe({\u0275mod:Oe}),dt=Oe({\u0275fac:Oe}),Wt=Oe({__NG_ELEMENT_ID__:Oe});let un=0;function In(i){return ue(()=>{const s=Yi(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ut.Emulated,id:"c"+un++,styles:i.styles||Ot,_:null,schemas:i.schemas||null,tView:null};us(o);const u=i.dependencies;return o.directiveDefs=po(u,!1),o.pipeDefs=po(u,!0),o})}function Or(i){return Ln(i)||wr(i)}function nr(i){return null!==i}function ui(i){return ue(()=>({type:i.type,bootstrap:i.bootstrap||Ot,declarations:i.declarations||Ot,imports:i.imports||Ot,exports:i.exports||Ot,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function eo(i,s){if(null==i)return Rt;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,s&&(s[c]=h)}return o}function Is(i){return ue(()=>{const s=Yi(i);return us(s),s})}function Ts(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ln(i){return i[Un]||null}function wr(i){return i[ur]||null}function kr(i){return i[Ue]||null}function Ds(i){const s=Ln(i)||wr(i)||kr(i);return null!==s&&s.standalone}function $r(i,s){const o=i[Se]||null;if(!o&&!0===s)throw new Error(`Type ${Ht(i)} does not have '\u0275mod' property.`);return o}function Yi(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Ot,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eo(i.inputs,s),outputs:eo(i.outputs)}}function us(i){i.features?.forEach(s=>s(i))}function po(i,s){if(!i)return null;const o=s?kr:Or;return()=>("function"==typeof i?i():i).map(u=>o(u)).filter(nr)}const rr=0,Ut=1,vn=2,sr=3,Cr=4,Ti=5,Ir=6,ls=7,or=8,Yo=9,Qi=10,ln=11,Oo=12,pr=13,cs=14,br=15,Sr=16,Ni=17,ds=18,li=19,to=20,go=21,Xn=22,mo=1,Cs=2,ro=7,bs=8,js=9,Xr=10;function ci(i){return Array.isArray(i)&&"object"==typeof i[mo]}function di(i){return Array.isArray(i)&&!0===i[mo]}function $i(i){return 0!=(4&i.flags)}function Ss(i){return i.componentOffset>-1}function Zi(i){return 1==(1&i.flags)}function Yr(i){return!!i.template}function Di(i){return 0!=(256&i[vn])}function jr(i,s){return i.hasOwnProperty(dt)?i[dt]:null}class xs{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Pi(){return Xi}function Xi(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ji),Eo}function Eo(){const i=ri(this),s=i?.current;if(s){const o=i.previous;if(o===Rt)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Ji(i,s,o,u){const c=this.declaredInputs[o],h=ri(i)||function Ws(i,s){return i[zs]=s}(i,{previous:Rt,current:null}),g=h.current||(h.current={}),I=h.previous,S=I[c];g[c]=new xs(S&&S.currentValue,s,I===Rt),i[u]=s}Pi.ngInherit=!0;const zs="__ngSimpleChanges__";function ri(i){return i[zs]||null}const hi=function(i,s,o){};function Kn(i){for(;Array.isArray(i);)i=i[rr];return i}function Io(i,s){return Kn(s[i])}function Ci(i,s){return Kn(s[i.index])}function ii(i,s){return i.data[s]}function Ar(i,s){const o=s[i];return ci(o)?o:o[rr]}function To(i){return 64==(64&i[vn])}function Oi(i,s){return null==s?null:i[s]}function ua(i){i[ds]=0}function Lo(i,s){i[Ti]+=s;let o=i,u=i[sr];for(;null!==u&&(1===s&&1===o[Ti]||-1===s&&0===o[Ti]);)u[Ti]+=s,o=u,u=u[sr]}const gn={lFrame:yn(null),bindingsEnabled:!0};function Xt(){return gn.bindingsEnabled}function rt(){return gn.lFrame.lView}function Pn(){return gn.lFrame.tView}function ao(i){return gn.lFrame.contextLView=i,i[or]}function gs(i){return gn.lFrame.contextLView=null,i}function Fr(){let i=Jo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Jo(){return gn.lFrame.currentTNode}function Lr(i,s){const o=gn.lFrame;o.currentTNode=i,o.isParent=s}function Do(){return gn.lFrame.isParent}function la(){gn.lFrame.isParent=!1}function _(){return gn.lFrame.bindingIndex++}function E(i){const s=gn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Y(i,s){const o=gn.lFrame;o.bindingIndex=o.bindingRootIndex=i,de(s)}function de(i){gn.lFrame.currentDirectiveIndex=i}function Re(i){const s=gn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function We(){return gn.lFrame.currentQueryIndex}function Bt(i){gn.lFrame.currentQueryIndex=i}function qt(i){const s=i[Ut];return 2===s.type?s.declTNode:1===s.type?i[Ir]:null}function Sn(i,s,o){if(o&ot.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||o&ot.Host||(c=qt(h),null===c||(h=h[br],10&c.type))););if(null===c)return!1;s=c,i=h}const u=gn.lFrame=hn();return u.currentTNode=s,u.lView=i,!0}function wn(i){const s=hn(),o=i[Ut];gn.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function hn(){const i=gn.lFrame,s=null===i?null:i.child;return null===s?yn(i):s}function yn(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Yn(){const i=gn.lFrame;return gn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const cr=Yn;function gr(){const i=Yn();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function zr(){return gn.lFrame.selectedIndex}function bi(i){gn.lFrame.selectedIndex=i}function Bn(){const i=gn.lFrame;return ii(i.tView,i.selectedIndex)}function Le(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:F,ngOnDestroy:H}=h;g&&(i.contentHooks??(i.contentHooks=[])).push(-o,g),I&&((i.contentHooks??(i.contentHooks=[])).push(o,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(o,I)),S&&(i.viewHooks??(i.viewHooks=[])).push(-o,S),F&&((i.viewHooks??(i.viewHooks=[])).push(o,F),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(o,F)),null!=H&&(i.destroyHooks??(i.destroyHooks=[])).push(o,H)}}function tt(i,s,o){xt(i,s,3,o)}function qe(i,s,o,u){(3&i[vn])===o&&xt(i,s,o,u)}function Ct(i,s){let o=i[vn];(3&o)===s&&(o&=2047,o+=1,i[vn]=o)}function xt(i,s,o,u){const h=u??-1,g=s.length-1;let I=0;for(let S=void 0!==u?65535&i[ds]:0;S<g;S++)if("number"==typeof s[S+1]){if(I=s[S],null!=u&&I>=u)break}else s[S]<0&&(i[ds]+=65536),(I<h||-1==h)&&(tn(i,o,s,S),i[ds]=(4294901760&i[ds])+S+2),S++}function tn(i,s,o,u){const c=o[u]<0,h=o[u+1],I=i[c?-o[u]:o[u]];if(c){if(i[vn]>>11<i[ds]>>16&&(3&i[vn])===s){i[vn]+=2048,hi(4,I,h);try{h.call(I)}finally{hi(5,I,h)}}}else{hi(4,I,h);try{h.call(I)}finally{hi(5,I,h)}}}const sn=-1;class Gn{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Os(i,s,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],g=o[u++],I=o[u++];i.setAttribute(s,g,I,h)}else{const h=c,g=o[++u];rc(h)?i.setProperty(s,h,g):i.setAttribute(s,h,g),u++}}return u}function Vo(i){return 3===i||4===i||6===i}function rc(i){return 64===i.charCodeAt(0)}function lo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||pu(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function pu(i,s,o,u,c){let h=0,g=i.length;if(-1===s)g=-1;else for(;h<i.length;){const I=i[h++];if("number"==typeof I){if(I===s){g=-1;break}if(I>s){g=h-1;break}}}for(;h<i.length;){const I=i[h];if("number"==typeof I)break;if(I===o){if(null===u)return void(null!==c&&(i[h+1]=c));if(u===i[h+1])return void(i[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==g&&(i.splice(g,0,s),h=g+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==c&&i.splice(h++,0,c)}function Ed(i){return i!==sn}function Ha(i){return 32767&i}function gu(i,s){let o=function wl(i){return i>>16}(i),u=s;for(;o>0;)u=u[br],o--;return u}let Il=!0;function Ga(i){const s=Il;return Il=i,s}const Sf=255,Pu=5;let Tl=0;const ea={};function Ou(i,s){const o=_i(i,s);if(-1!==o)return o;const u=s[Ut];u.firstCreatePass&&(i.injectorIndex=s.length,za(u.data,i),za(s,null),za(u.blueprint,null));const c=mu(i,s),h=i.injectorIndex;if(Ed(c)){const g=Ha(c),I=gu(c,s),S=I[Ut].data;for(let F=0;F<8;F++)s[h+F]=I[g+F]|S[g+F]}return s[h+8]=c,h}function za(i,s){i.push(0,0,0,0,0,0,0,0,s)}function _i(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){if(u=xf(c),null===u)return sn;if(o++,c=c[br],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return sn}function ts(i,s,o){!function Jr(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Wt)&&(u=o[Wt]),null==u&&(u=o[Wt]=Tl++);const c=u&Sf;s.data[i+(c>>Pu)]|=1<<c}(i,s,o)}function ku(i,s,o){if(o&ot.Optional||void 0!==i)return i;xe()}function ks(i,s,o,u){if(o&ot.Optional&&void 0===u&&(u=null),!(o&(ot.Self|ot.Host))){const c=i[Yo],h=pn(void 0);try{return c?c.get(s,u,o&ot.Optional):fr(s,u,o&ot.Optional)}finally{pn(h)}}return ku(u,0,o)}function yu(i,s,o,u=ot.Default,c){if(null!==i){if(1024&s[vn]){const g=function qa(i,s,o,u,c){let h=i,g=s;for(;null!==h&&null!==g&&1024&g[vn]&&!(256&g[vn]);){const I=Wa(h,g,o,u|ot.Self,ea);if(I!==ea)return I;let S=h.parent;if(!S){const F=g[go];if(F){const H=F.get(o,ea,u);if(H!==ea)return H}S=xf(g),g=g[br]}h=S}return c}(i,s,o,u,ea);if(g!==ea)return g}const h=Wa(i,s,o,u,ea);if(h!==ea)return h}return ks(s,o,u,c)}function Wa(i,s,o,u,c){const h=function ic(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Wt)?i[Wt]:void 0;return"number"==typeof s?s>=0?s&Sf:Vu:s}(o);if("function"==typeof h){if(!Sn(s,i,u))return u&ot.Host?ku(c,0,u):ks(s,o,u,c);try{const g=h(u);if(null!=g||u&ot.Optional)return g;xe()}finally{cr()}}else if("number"==typeof h){let g=null,I=_i(i,s),S=sn,F=u&ot.Host?s[Sr][Ir]:null;for((-1===I||u&ot.SkipSelf)&&(S=-1===I?mu(i,s):s[I+8],S!==sn&&Lu(u,!1)?(g=s[Ut],I=Ha(S),s=gu(S,s)):I=-1);-1!==I;){const H=s[Ut];if(Mf(h,I,H.data)){const te=Fu(I,s,o,g,u,F);if(te!==ea)return te}S=s[I+8],S!==sn&&Lu(u,s[Ut].data[I+8]===F)&&Mf(h,I,s)?(g=H,I=Ha(S),s=gu(S,s)):I=-1}}return c}function Fu(i,s,o,u,c,h){const g=s[Ut],I=g.data[i+8],H=da(I,g,o,null==u?Ss(I)&&Il:u!=g&&0!=(3&I.type),c&ot.Host&&h===I);return null!==H?ha(s,g,H,I):ea}function da(i,s,o,u,c){const h=i.providerIndexes,g=s.data,I=1048575&h,S=i.directiveStart,H=h>>20,me=c?I+H:i.directiveEnd;for(let Me=u?I:I+H;Me<me;Me++){const it=g[Me];if(Me<S&&o===it||Me>=S&&it.type===o)return Me}if(c){const Me=g[S];if(Me&&Yr(Me)&&Me.type===o)return S}return null}function ha(i,s,o,u){let c=i[o];const h=s.data;if(function En(i){return i instanceof Gn}(c)){const g=c;g.resolving&&function Kt(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new je(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Lt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():nt(i)}(h[o]));const I=Ga(g.canSeeViewProviders);g.resolving=!0;const S=g.injectImpl?pn(g.injectImpl):null;Sn(i,u,ot.Default);try{c=i[o]=g.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function re(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(u){const g=Xi(s);(o.preOrderHooks??(o.preOrderHooks=[])).push(i,g),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,g)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-i,c),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==S&&pn(S),Ga(I),g.resolving=!1,cr()}}return c}function Mf(i,s,o){return!!(o[s+(i>>Pu)]&1<<i)}function Lu(i,s){return!(i&ot.Self||i&ot.Host&&s)}class Ma{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return yu(this._tNode,this._lView,s,be(u),o)}}function Vu(){return new Ma(Fr(),rt())}function qs(i){return ue(()=>{const s=i.prototype.constructor,o=s[dt]||sc(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const h=c[dt]||sc(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function sc(i){return Be(i)?()=>{const s=sc(At(i));return s&&s()}:jr(i)}function xf(i){const s=i[Ut],o=s.type;return 2===o?s.declTNode:1===o?i[Ir]:null}function Uu(i){return function Af(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Vo(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===s)return o[c+1];c+=2}}}return null}(Fr(),i)}const fa="__parameters__";function Uo(i,s,o){return ue(()=>{const u=function Bu(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...h){if(this instanceof c)return u.apply(this,h),this;const g=new c(...h);return I.annotation=g,I;function I(S,F,H){const te=S.hasOwnProperty(fa)?S[fa]:Object.defineProperty(S,fa,{value:[]})[fa];for(;te.length<=H;)te.push(null);return(te[H]=te[H]||[]).push(g),S}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Rr{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=er({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ka(i,s){i.forEach(o=>Array.isArray(o)?Ka(o,s):s(o))}function Ya(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Qa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function f(i,s,o){let u=P(i,s);return u>=0?i[1|u]=o:(u=~u,function y(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function T(i,s){const o=P(i,s);if(o>=0)return i[1|o]}function P(i,s){return function G(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const h=u+(c-u>>1),g=i[h<<o];if(s===g)return h<<o;g>s?c=h:u=h+1}return~(c<<o)}(i,s,1)}const Wi=Mt(Uo("Optional"),8),Za=Mt(Uo("SkipSelf"),4);var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();const Qf=new Map;let Od=0;const we="__ngContext__";function Ve(i,s){ci(s)?(i[we]=s[to],function Jg(i){Qf.set(i[to],i)}(s)):i[we]=s}let Ho;function Al(i,s){return Ho(i,s)}function gc(i){const s=i[sr];return di(s)?s[sr]:s}function em(i){return iv(i[pr])}function tm(i){return iv(i[Cr])}function iv(i){for(;null!==i&&!di(i);)i=i[Cr];return i}function mc(i,s,o,u,c){if(null!=u){let h,g=!1;di(u)?h=u:ci(u)&&(g=!0,u=u[rr]);const I=Kn(u);0===i&&null!==o?null==c?O0(s,o,I):yc(s,o,I,c||null,!0):1===i&&null!==o?yc(s,o,I,c||null,!0):2===i?function hv(i,s,o){const u=im(i,s);u&&function YD(i,s,o,u){i.removeChild(s,o,u)}(i,u,s,o)}(s,I,g):3===i&&s.destroyNode(I),null!=h&&function XD(i,s,o,u,c){const h=o[ro];h!==Kn(o)&&mc(s,i,u,h,c);for(let I=Xr;I<o.length;I++){const S=o[I];tp(S[Ut],S,i,s,u,h)}}(s,i,h,o,c)}}function ep(i,s,o){return i.createElement(s,o)}function R0(i,s){const o=i[js],u=o.indexOf(s),c=s[sr];512&s[vn]&&(s[vn]&=-513,Lo(c,-1)),o.splice(u,1)}function av(i,s){if(i.length<=Xr)return;const o=Xr+s,u=i[o];if(u){const c=u[Ni];null!==c&&c!==i&&R0(c,u),s>0&&(i[o-1][Cr]=u[Cr]);const h=Qa(i,Xr+s);!function nm(i,s){tp(i,s,s[ln],2,null,null),s[rr]=null,s[Ir]=null}(u[Ut],u);const g=h[li];null!==g&&g.detachView(h[Ut]),u[sr]=null,u[Cr]=null,u[vn]&=-65}return u}function uv(i,s){if(!(128&s[vn])){const o=s[ln];o.destroyNode&&tp(i,s,o,3,null,null),function rm(i){let s=i[pr];if(!s)return lv(i[Ut],i);for(;s;){let o=null;if(ci(s))o=s[pr];else{const u=s[Xr];u&&(o=u)}if(!o){for(;s&&!s[Cr]&&s!==i;)ci(s)&&lv(s[Ut],s),s=s[sr];null===s&&(s=i),ci(s)&&lv(s[Ut],s),o=s&&s[Cr]}s=o}}(s)}}function lv(i,s){if(!(128&s[vn])){s[vn]&=-65,s[vn]|=128,function KD(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof Gn)){const h=o[u+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const I=c[h[g]],S=h[g+1];hi(4,I,S);try{S.call(I)}finally{hi(5,I,S)}}else{hi(4,c,h);try{h.call(c)}finally{hi(5,c,h)}}}}}(i,s),function qD(i,s){const o=i.cleanup,u=s[ls];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const g=o[h+3];g>=0?u[c=g]():u[c=-g].unsubscribe(),h+=2}else{const g=u[c=o[h+1]];o[h].call(g)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();s[ls]=null}}(i,s),1===s[Ut].type&&s[ln].destroy();const o=s[Ni];if(null!==o&&di(s[sr])){o!==s[sr]&&R0(o,s);const u=s[li];null!==u&&u.detachView(i)}!function w(i){Qf.delete(i[to])}(s)}}function N0(i,s,o){return function P0(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[rr];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=i.data[u.directiveStart+c];if(h===ut.None||h===ut.Emulated)return null}return Ci(u,o)}}(i,s.parent,o)}function yc(i,s,o,u,c){i.insertBefore(s,o,u,c)}function O0(i,s,o){i.appendChild(s,o)}function k0(i,s,o,u,c){null!==u?yc(i,s,o,u,c):O0(i,s,o)}function im(i,s){return i.parentNode(s)}let cv,am,gv,um,V0=function L0(i,s,o){return 40&i.type?Ci(i,o):null};function sm(i,s,o,u){const c=N0(i,u,s),h=s[ln],I=function F0(i,s,o){return V0(i,s,o)}(u.parent||s[Ir],u,s);if(null!=c)if(Array.isArray(o))for(let S=0;S<o.length;S++)k0(h,c,o[S],I,!1);else k0(h,c,o,I,!1);void 0!==cv&&cv(h,u,s,o,c)}function om(i,s){if(null!==s){const o=s.type;if(3&o)return Ci(s,i);if(4&o)return dv(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return om(i,u);{const c=i[s.index];return di(c)?dv(-1,c):Kn(c)}}if(32&o)return Al(s,i)()||Kn(i[s.index]);{const u=B0(i,s);return null!==u?Array.isArray(u)?u[0]:om(gc(i[Sr]),u):om(i,s.next)}}return null}function B0(i,s){return null!==s?i[Sr][Ir].projection[s.projection]:null}function dv(i,s){const o=Xr+i+1;if(o<s.length){const u=s[o],c=u[Ut].firstChild;if(null!==c)return om(u,c)}return s[ro]}function fv(i,s,o,u,c,h,g){for(;null!=o;){const I=u[o.index],S=o.type;if(g&&0===s&&(I&&Ve(Kn(I),u),o.flags|=2),32!=(32&o.flags))if(8&S)fv(i,s,o.child,u,c,h,!1),mc(s,i,c,I,h);else if(32&S){const F=Al(o,u);let H;for(;H=F();)mc(s,i,c,H,h);mc(s,i,c,I,h)}else 16&S?$0(i,s,u,o,c,h):mc(s,i,c,I,h);o=g?o.projectionNext:o.next}}function tp(i,s,o,u,c,h){fv(o,u,i.firstChild,s,c,h,!1)}function $0(i,s,o,u,c,h){const g=o[Sr],S=g[Ir].projection[u.projection];if(Array.isArray(S))for(let F=0;F<S.length;F++)mc(s,i,c,S[F],h);else fv(i,s,S,g[sr],c,h,!0)}function j0(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function H0(i,s,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&Os(i,s,u),null!==c&&j0(i,s,c),null!==h&&function eC(i,s,o){i.setAttribute(s,"style",o)}(i,s,h)}function Fd(i){return function pv(){if(void 0===am&&(am=null,bn.trustedTypes))try{am=bn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return am}()?.createHTML(i)||i}function iC(i){gv=i}function mv(){if(void 0===um&&(um=null,bn.trustedTypes))try{um=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return um}function z0(i){return mv()?.createHTML(i)||i}function q0(i){return mv()?.createScriptURL(i)||i}class _c{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class sC extends _c{getTypeName(){return"HTML"}}class oC extends _c{getTypeName(){return"Style"}}class aC extends _c{getTypeName(){return"Script"}}class uC extends _c{getTypeName(){return"URL"}}class lC extends _c{getTypeName(){return"ResourceURL"}}function Gu(i){return i instanceof _c?i.changingThisBreaksApplicationSecurity:i}function Ld(i,s){const o=function cC(i){return i instanceof _c&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${mt})`)}return o===s}function lm(i){return new sC(i)}function yv(i){return new oC(i)}function K0(i){return new aC(i)}function Li(i){return new uC(i)}function Y0(i){return new lC(i)}class cm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Fd(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class Q0{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=Fd(s),o}}const X0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ud(i){return(i=String(i)).match(X0)?i:"unsafe:"+i}function Tu(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Bd(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const _v=Tu("area,br,col,hr,img,wbr"),vv=Tu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fs=Tu("rp,rt"),vc=Bd(_v,Bd(vv,Tu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bd(Fs,Tu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bd(Fs,vv)),Ec=Tu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tv=Bd(Ec,Tu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dv=Tu("script,style,template");class J0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!vc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Dv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),g=h.name,I=g.toLowerCase();if(!Tv.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let S=h.value;Ec[I]&&(S=Ud(S)),this.buf.push(" ",g,'="',hm(S),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();vc.hasOwnProperty(o)&&!_v.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(hm(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const eI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$d=/([^\#-~ |!])/g;function hm(i){return i.replace(/&/g,"&amp;").replace(eI,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($d,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ml;function fm(i,s){let o=null;try{Ml=Ml||function Vd(i){const s=new Q0(i);return function Z0(){try{return!!(new window.DOMParser).parseFromString(Fd(""),"text/html")}catch{return!1}}()?new cm(s):s}(i);let u=s?String(s):"";o=Ml.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=Ml.getInertBodyElement(u)}while(u!==h);return Fd((new J0).sanitizeChildren(pm(o)||o))}finally{if(o){const u=pm(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function pm(i){return"content"in i&&function tI(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var qi=(()=>((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi))();function Cv(i){const s=xl();return s?z0(s.sanitize(qi.HTML,i)||""):Ld(i,"HTML")?z0(Gu(i)):fm(function G0(){return void 0!==gv?gv:typeof document<"u"?document:void 0}(),nt(i))}function jd(i){const s=xl();return s?s.sanitize(qi.URL,i)||"":Ld(i,"URL")?Gu(i):Ud(nt(i))}function gm(i){const s=xl();if(s)return q0(s.sanitize(qi.RESOURCE_URL,i)||"");if(Ld(i,"ResourceURL"))return q0(Gu(i));throw new je(904,!1)}function np(i,s,o){return function nI(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?gm:jd}(s,o)(i)}function xl(){const i=rt();return i&&i[Oo]}const Gd=new Rr("ENVIRONMENT_INITIALIZER"),rp=new Rr("INJECTOR",-1),ip=new Rr("INJECTOR_DEF_TYPES");class Mv{get(s,o=Vn){if(o===Vn){const u=new Error(`NullInjectorError: No provider for ${Ht(s)}!`);throw u.name="NullInjectorError",u}return o}}function rI(i){return{\u0275providers:i}}function iI(...i){return{\u0275providers:zd(0,i),\u0275fromNgModule:!0}}function zd(i,...s){const o=[],u=new Set;let c;return Ka(s,h=>{const g=h;ym(g,o,[],u)&&(c||(c=[]),c.push(g))}),void 0!==c&&sp(c,o),o}function sp(i,s){for(let o=0;o<i.length;o++){const{providers:c}=i[o];Wd(c,h=>{s.push(h)})}}function ym(i,s,o,u){if(!(i=At(i)))return!1;let c=null,h=hr(i);const g=!h&&Ln(i);if(h||g){if(g&&!g.standalone)return!1;c=i}else{const S=i.ngModule;if(h=hr(S),!h)return!1;c=S}const I=u.has(c);if(g){if(I)return!1;if(u.add(c),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of S)ym(F,s,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let F;u.add(c);try{Ka(h.imports,H=>{ym(H,s,o,u)&&(F||(F=[]),F.push(H))})}finally{}void 0!==F&&sp(F,s)}if(!I){const F=jr(c)||(()=>new c);s.push({provide:c,useFactory:F,deps:Ot},{provide:ip,useValue:c,multi:!0},{provide:Gd,useValue:()=>X(c),multi:!0})}const S=h.providers;null==S||I||Wd(S,H=>{s.push(H)})}}return c!==i&&void 0!==i.providers}function Wd(i,s){for(let o of i)ve(o)&&(o=o.\u0275providers),Array.isArray(o)?Wd(o,s):s(o)}const _m=Oe({provide:String,useValue:Oe});function op(i){return null!==i&&"object"==typeof i&&_m in i}function _a(i){return"function"==typeof i}const Em=new Rr("Set Injector scope."),ap={},sI={};let wm;function up(){return void 0===wm&&(wm=new Mv),wm}class Rl{}class Pv extends Rl{get destroyed(){return this._destroyed}constructor(s,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cm(s,g=>this.processProvider(g)),this.records.set(rp,Nl(void 0,this)),c.has("environment")&&this.records.set(Rl,Nl(void 0,this));const h=this.records.get(Em);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ip.multi,Ot,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Ye(this),u=pn(void 0);try{return s()}finally{Ye(o),pn(u)}}get(s,o=Vn,u=ot.Default){this.assertNotDestroyed(),u=be(u);const c=Ye(this),h=pn(void 0);try{if(!(u&ot.SkipSelf)){let I=this.records.get(s);if(void 0===I){const S=function uI(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rr}(s)&&Vt(s);I=S&&this.injectableDefInScope(S)?Nl(Im(s),ap):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(u&ot.Self?up():this.parent).get(s,o=u&ot.Optional&&o===Vn?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[Hr]=g[Hr]||[]).unshift(Ht(s)),c)throw g;return function ie(i,s,o,u){const c=i[Hr];throw s[se]&&c.unshift(s[se]),i.message=function Q(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==De?i.slice(2):i;let c=Ht(s);if(Array.isArray(s))c=s.map(Ht).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let I=s[g];h.push(g+":"+("string"==typeof I?JSON.stringify(I):Ht(I)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(Er,"\n  ")}`}("\n"+i.message,c,o,u),i[Ri]=c,i[Hr]=null,i}(g,s,"R3InjectorError",this.source)}throw g}finally{pn(h),Ye(c)}}resolveInjectorInitializers(){const s=Ye(this),o=pn(void 0);try{const u=this.get(Gd.multi,Ot,ot.Self);for(const c of u)c()}finally{Ye(s),pn(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Ht(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let o=_a(s=At(s))?s:At(s&&s.provide);const u=function lp(i){return op(i)?Nl(void 0,i.useValue):Nl(Tm(i),ap)}(s);if(_a(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Nl(void 0,ap,!0),c.factory=()=>ye(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===ap&&(o.value=sI,o.value=o.factory()),"object"==typeof o.value&&o.value&&function aI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=At(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Im(i){const s=Vt(i),o=null!==s?s.factory:jr(i);if(null!==o)return o;if(i instanceof Rr)throw new je(204,!1);if(i instanceof Function)return function oI(i){const s=i.length;if(s>0)throw function Bo(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?"),new je(204,!1);const o=function _r(i){return i&&(i[Pr]||i[Kr])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new je(204,!1)}function Tm(i,s,o){let u;if(_a(i)){const c=At(i);return jr(c)||Im(c)}if(op(i))u=()=>At(i.useValue);else if(function vm(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...ye(i.deps||[]));else if(function Rv(i){return!(!i||!i.useExisting)}(i))u=()=>X(At(i.useExisting));else{const c=At(i&&(i.useClass||i.provide));if(!function Dm(i){return!!i.deps}(i))return jr(c)||Im(c);u=()=>new c(...ye(i.deps))}return u}function Nl(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Cm(i,s){for(const o of i)Array.isArray(o)?Cm(o,s):o&&ve(o)?Cm(o.\u0275providers,s):s(o)}class Ov{}class bm{}class fC{resolveComponentFactory(s){throw function kv(i){const s=Error(`No component factory found for ${Ht(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let qd=(()=>{class i{}return i.NULL=new fC,i})();function pC(){return Kd(Fr(),rt())}function Kd(i,s){return new Pl(Ci(i,s))}let Pl=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=pC,i})();function gC(i){return i instanceof Pl?i.nativeElement:i}class cI{}let dI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Fv(){const i=rt(),o=Ar(Fr().index,i);return(ci(o)?o:i)[ln]}(),i})(),hI=(()=>{class i{}return i.\u0275prov=er({token:i,providedIn:"root",factory:()=>null}),i})();class Am{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const cp=new Am("15.2.8"),dp={},Lv="ngOriginalError";function Vv(i){return i[Lv]}class Yd{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Vv(s);for(;o&&Vv(o);)o=Vv(o);return o||null}}function zu(i){return i instanceof Function?i():i}function kn(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===u||i.charCodeAt(c+h)<=32)return c}o=c+1}}const Zd="ng-template";function hp(i,s,o){let u=0,c=!0;for(;u<i.length;){let h=i[u++];if("string"==typeof h&&c){const g=i[u++];if(o&&"class"===h&&-1!==kn(g.toLowerCase(),s,0))return!0}else{if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function wc(i){return 4===i.type&&i.value!==Zd}function mI(i,s,o){return s===(4!==i.type||o?i.value:Zd)}function xm(i,s,o){let u=4;const c=i.attrs||[],h=function fp(i){for(let s=0;s<i.length;s++)if(Vo(i[s]))return s;return i.length}(c);let g=!1;for(let I=0;I<s.length;I++){const S=s[I];if("number"!=typeof S){if(!g)if(4&u){if(u=2|1&u,""!==S&&!mI(i,S,o)||""===S&&1===s.length){if(xa(u))return!1;g=!0}}else{const F=8&u?S:s[++I];if(8&u&&null!==i.attrs){if(!hp(i.attrs,F,o)){if(xa(u))return!1;g=!0}continue}const te=yI(8&u?"class":S,c,wc(i),o);if(-1===te){if(xa(u))return!1;g=!0;continue}if(""!==F){let me;me=te>h?"":c[te+1].toLowerCase();const Me=8&u?me:null;if(Me&&-1!==kn(Me,F,0)||2&u&&F!==me){if(xa(u))return!1;g=!0}}}}else{if(!g&&!xa(u)&&!xa(S))return!1;if(g&&xa(S))continue;g=!1,u=S|1&u}}return xa(u)||g}function xa(i){return 0==(1&i)}function yI(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let h=!1;for(;c<s.length;){const g=s[c];if(g===i)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let I=s[++c];for(;"string"==typeof I;)I=s[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Ls(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Bv(i,s,o=!1){for(let u=0;u<s.length;u++)if(xm(i,s[u],o))return!0;return!1}function $v(i,s){return i?":not("+s.trim()+")":s}function jv(i){let s=i[0],o=1,u=2,c="",h=!1;for(;o<i.length;){let g=i[o];if("string"==typeof g)if(2&u){const I=i[++o];c+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+g:4&u&&(c+=" "+g);else""!==c&&!xa(g)&&(s+=$v(h,c),c=""),u=g,h=h||!xa(u);o++}return""!==c&&(s+=$v(h,c)),s}const mn={};function Gv(i){Xd(Pn(),rt(),zr()+i,!1)}function Xd(i,s,o,u){if(!u)if(3==(3&s[vn])){const h=i.preOrderCheckHooks;null!==h&&tt(s,h,o)}else{const h=i.preOrderHooks;null!==h&&qe(s,h,0,o)}bi(o)}function gp(i,s=null,o=null,u){const c=Fm(i,s,o,u);return c.resolveInjectorInitializers(),c}function Fm(i,s=null,o=null,u,c=new Set){const h=[o||Ot,iI(i)];return u=u||("object"==typeof i?void 0:Ht(i)),new Pv(h,s||up(),u||null,c)}let Ol=(()=>{class i{static create(o,u){if(Array.isArray(o))return gp({name:""},u,o,"");{const c=o.name??"";return gp({name:c},o.parent,o.providers,c)}}}return i.THROW_IF_NOT_FOUND=Vn,i.NULL=new Mv,i.\u0275prov=er({token:i,providedIn:"any",factory:()=>X(rp)}),i.__NG_ELEMENT_ID__=-1,i})();function kl(i,s=ot.Default){const o=rt();return null===o?X(i,s):yu(Fr(),o,At(i),s)}function Jv(){throw new Error("invalid")}function Dp(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const g=i.data[h];Bt(o[u]),g.contentQueries(2,s[h],h)}}}function rs(i,s,o,u,c,h,g,I,S,F,H){const te=s.blueprint.slice();return te[rr]=c,te[vn]=76|u,(null!==H||i&&1024&i[vn])&&(te[vn]|=1024),ua(te),te[sr]=te[br]=i,te[or]=o,te[Qi]=g||i&&i[Qi],te[ln]=I||i&&i[ln],te[Oo]=S||i&&i[Oo]||null,te[Yo]=F||i&&i[Yo]||null,te[Ir]=h,te[to]=function Xg(){return Od++}(),te[go]=H,te[Sr]=2==s.type?i[Sr]:te,te}function Du(i,s,o,u,c){let h=i.data[s];if(null===h)h=function nh(i,s,o,u,c){const h=Jo(),g=Do(),S=i.data[s]=function qm(i,s,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=S),null!==h&&(g?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S,S.prev=h)),S}(i,s,o,u,c),function R(){return gn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const g=function ki(){const i=gn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Lr(h,!0),h}function rh(i,s,o,u){if(0===o)return-1;const c=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function zm(i,s,o){wn(s);try{const u=i.viewQuery;null!==u&&gh(1,u,o);const c=i.template;null!==c&&eE(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Dp(i,s),i.staticViewQueries&&gh(2,i.viewQuery,o);const h=i.components;null!==h&&function Vs(i,s){for(let o=0;o<s.length;o++)xp(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[vn]&=-5,gr()}}function ih(i,s,o,u){const c=s[vn];if(128!=(128&c)){wn(s);try{ua(s),function V(i){return gn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&eE(i,s,o,2,u);const g=3==(3&c);if(g){const F=i.preOrderCheckHooks;null!==F&&tt(s,F,null)}else{const F=i.preOrderHooks;null!==F&&qe(s,F,0,null),Ct(s,0)}if(function Jm(i){for(let s=em(i);null!==s;s=tm(s)){if(!s[Cs])continue;const o=s[js];for(let u=0;u<o.length;u++){const c=o[u];512&c[vn]||Lo(c[sr],1),c[vn]|=512}}}(s),function dh(i){for(let s=em(i);null!==s;s=tm(s))for(let o=Xr;o<s.length;o++){const u=s[o],c=u[Ut];To(u)&&ih(c,u,c.template,u[or])}}(s),null!==i.contentQueries&&Dp(i,s),g){const F=i.contentCheckHooks;null!==F&&tt(s,F)}else{const F=i.contentHooks;null!==F&&qe(s,F,1),Ct(s,1)}!function Hm(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)bi(~c);else{const h=c,g=o[++u],I=o[++u];Y(g,h),I(2,s[h])}}}finally{bi(-1)}}(i,s);const I=i.components;null!==I&&function Gm(i,s){for(let o=0;o<s.length;o++)ey(i,s[o])}(s,I);const S=i.viewQuery;if(null!==S&&gh(2,S,u),g){const F=i.viewCheckHooks;null!==F&&tt(s,F)}else{const F=i.viewHooks;null!==F&&qe(s,F,2),Ct(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[vn]&=-41,512&s[vn]&&(s[vn]&=-513,Lo(s[sr],-1))}finally{gr()}}}function eE(i,s,o,u,c){const h=zr(),g=2&u;try{bi(-1),g&&s.length>Xn&&Xd(i,s,Xn,!1),hi(g?2:0,c),o(u,c)}finally{bi(h),hi(g?3:1,c)}}function Wm(i,s,o){if($i(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const g=i.data[h];g.contentQueries&&g.contentQueries(1,o[h],h)}}}function Cp(i,s,o){Xt()&&(function TI(i,s,o,u){const c=o.directiveStart,h=o.directiveEnd;Ss(o)&&function ch(i,s,o){const u=Ci(s,i),c=tE(o),h=i[Qi],g=ph(i,rs(i,c,null,o.onPush?32:16,u,s,h,h.createRenderer(u,o),null,null,null));i[s.index]=g}(s,o,i.data[c+o.componentOffset]),i.firstCreatePass||Ou(o,s),Ve(u,s);const g=o.initialInputs;for(let I=c;I<h;I++){const S=i.data[I],F=ha(s,i,I,o);Ve(F,s),null!==g&&Zm(0,I-c,F,S,0,g),Yr(S)&&(Ar(o.index,s)[or]=ha(s,i,I,o))}}(i,s,o,Ci(o,s)),64==(64&o.flags)&&qu(i,s,o))}function sh(i,s,o=Ci){const u=s.localNames;if(null!==u){let c=s.index+1;for(let h=0;h<u.length;h+=2){const g=u[h+1],I=-1===g?o(s,i):i[g];i[c++]=I}}}function tE(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=oh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function oh(i,s,o,u,c,h,g,I,S,F){const H=Xn+u,te=H+c,me=function nE(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:mn);return o}(H,te),Me="function"==typeof F?F():F;return me[Ut]={type:i,blueprint:me,template:o,queries:null,viewQuery:I,declTNode:s,data:me.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:Me,incompleteFirstPass:!1}}function ah(i,s,o,u){const c=ny(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&ry(i).push(u,c.length-1))}function bp(i,s,o,u){for(let c in i)if(i.hasOwnProperty(c)){o=null===o?{}:o;const h=i[c];null===u?Km(o,s,c,h):u.hasOwnProperty(c)&&Km(o,s,u[c],h)}return o}function Km(i,s,o,u){i.hasOwnProperty(o)?i[o].push(s,u):i[o]=[s,u]}function Go(i,s,o,u,c,h,g,I){const S=Ci(s,o);let H,F=s.inputs;!I&&null!=F&&(H=F[u])?(Np(i,o,H,u,c),Ss(s)&&function rE(i,s){const o=Ar(s,i);16&o[vn]||(o[vn]|=32)}(o,s.index)):3&s.type&&(u=function uh(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=g?g(c,s.value||"",u):c,h.setProperty(S,u,c))}function Qm(i,s,o,u){if(Xt()){const c=null===u?null:{"":-1},h=function Sp(i,s){const o=i.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const g=o[h];if(Bv(s,g.selectors,!1))if(u||(u=[]),Yr(g))if(null!==g.findHostDirectiveDefs){const I=[];c=c||new Map,g.findHostDirectiveDefs(g,I,c),u.unshift(...I,g),Ap(i,s,I.length)}else u.unshift(g),Ap(i,s,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,u,c),u.push(g)}return null===u?null:[u,c]}(i,o);let g,I;null===h?g=I=null:[g,I]=h,null!==g&&sE(i,s,o,g,c,I),c&&function lh(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=o[s[c+1]];if(null==h)throw new je(-301,!1);u.push(s[c],h)}}}(o,u,c)}o.mergedAttrs=lo(o.mergedAttrs,o.attrs)}function sE(i,s,o,u,c,h){for(let F=0;F<u.length;F++)ts(Ou(o,s),i,u[F].type);!function Ao(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,u.length);for(let F=0;F<u.length;F++){const H=u[F];H.providersResolver&&H.providersResolver(H)}let g=!1,I=!1,S=rh(i,s,u.length,null);for(let F=0;F<u.length;F++){const H=u[F];o.mergedAttrs=lo(o.mergedAttrs,H.hostAttrs),uE(i,o,s,S,H),aE(S,H,c),null!==H.contentQueries&&(o.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(o.flags|=64);const te=H.type.prototype;!g&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(o.index),g=!0),!I&&(te.ngOnChanges||te.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(o.index),I=!0),S++}!function wI(i,s,o){const c=s.directiveEnd,h=i.data,g=s.attrs,I=[];let S=null,F=null;for(let H=s.directiveStart;H<c;H++){const te=h[H],me=o?o.get(te):null,it=me?me.outputs:null;S=bp(te.inputs,H,S,me?me.inputs:null),F=bp(te.outputs,H,F,it);const vt=null===S||null===g||wc(s)?null:lE(S,H,g);I.push(vt)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=8),S.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=S,s.outputs=F}(i,o,h)}function qu(i,s,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,g=function ae(){return gn.lFrame.currentDirectiveIndex}();try{bi(h);for(let I=u;I<c;I++){const S=i.data[I],F=s[I];de(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&oE(S,F)}}finally{bi(-1),de(g)}}function oE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ap(i,s,o){s.componentOffset=o,(i.components??(i.components=[])).push(s.index)}function aE(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Yr(s)&&(o[""]=i)}}function uE(i,s,o,u,c){i.data[u]=c;const h=c.factory||(c.factory=jr(c.type)),g=new Gn(h,Yr(c),kl);i.blueprint[u]=g,o[u]=g,function Cc(i,s,o,u,c){const h=c.hostBindings;if(h){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const I=~s.index;(function II(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(g)!=I&&g.push(I),g.push(o,u,h)}}(i,s,u,rh(i,o,c.hostVars,mn),c)}function ra(i,s,o,u,c,h){const g=Ci(i,s);!function Mp(i,s,o,u,c,h,g){if(null==h)i.removeAttribute(s,c,o);else{const I=null==g?nt(h):g(h,u||"",c);i.setAttribute(s,c,I,o)}}(s[ln],g,h,i.value,o,u,c)}function Zm(i,s,o,u,c,h){const g=h[s];if(null!==g){const I=u.setInput;for(let S=0;S<g.length;){const F=g[S++],H=g[S++],te=g[S++];null!==I?u.setInput(o,te,F,H):o[H]=te}}}function lE(i,s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===u&&(u=[]);const g=i[h];for(let I=0;I<g.length;I+=2)if(g[I]===s){u.push(h,g[I+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Xm(i,s,o,u){return[i,!0,!1,s,null,0,u,o,null,null]}function ey(i,s){const o=Ar(s,i);if(To(o)){const u=o[Ut];48&o[vn]?ih(u,o,u.template,o[or]):o[Ti]>0&&hh(o)}}function hh(i){for(let u=em(i);null!==u;u=tm(u))for(let c=Xr;c<u.length;c++){const h=u[c];if(To(h))if(512&h[vn]){const g=h[Ut];ih(g,h,g.template,h[or])}else h[Ti]>0&&hh(h)}const o=i[Ut].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Ar(o[u],i);To(c)&&c[Ti]>0&&hh(c)}}function xp(i,s){const o=Ar(s,i),u=o[Ut];(function fh(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),zm(u,o,o[or])}function ph(i,s){return i[pr]?i[cs][Cr]=s:i[pr]=s,i[cs]=s,s}function Rp(i){for(;i;){i[vn]|=32;const s=gc(i);if(Di(i)&&!s)return i;i=s}return null}function bc(i,s,o,u=!0){const c=s[Qi];c.begin&&c.begin();try{ih(i,s,i.template,o)}catch(g){throw u&&Sc(s,g),g}finally{c.end&&c.end()}}function gh(i,s,o){Bt(0),s(i,o)}function ny(i){return i[ls]||(i[ls]=[])}function ry(i){return i.cleanup||(i.cleanup=[])}function Sc(i,s){const o=i[Yo],u=o?o.get(Yd,null):null;u&&u.handleError(s)}function Np(i,s,o,u,c){for(let h=0;h<o.length;){const g=o[h++],I=o[h++],S=s[g],F=i.data[g];null!==F.setInput?F.setInput(S,c,u,I):S[I]=c}}function va(i,s,o){const u=Io(s,i);!function sv(i,s,o){i.setValue(s,o)}(i[ln],u,o)}function Ku(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const I=s[g];"number"==typeof I?h=I:1==h?c=en(c,I):2==h&&(u=en(u,I+": "+s[++g]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}function Ja(i,s,o,u,c=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(Kn(h)),di(h))for(let I=Xr;I<h.length;I++){const S=h[I],F=S[Ut].firstChild;null!==F&&Ja(S[Ut],S,F,u)}const g=o.type;if(8&g)Ja(i,s,o.child,u);else if(32&g){const I=Al(o,s);let S;for(;S=I();)u.push(S)}else if(16&g){const I=B0(s,o);if(Array.isArray(I))u.push(...I);else{const S=gc(s[Sr]);Ja(S[Ut],S,I,u,!0)}}o=c?o.projectionNext:o.next}return u}class Fl{get rootNodes(){const s=this._lView,o=s[Ut];return Ja(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(s){this._lView[or]=s}get destroyed(){return 128==(128&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[sr];if(di(s)){const o=s[bs],u=o?o.indexOf(this):-1;u>-1&&(av(s,u),Qa(o,u))}this._attachedToViewContainer=!1}uv(this._lView[Ut],this._lView)}onDestroy(s){ah(this._lView[Ut],this._lView,null,s)}markForCheck(){Rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-65}reattach(){this._lView[vn]|=64}detectChanges(){bc(this._lView[Ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WD(i,s){tp(i,s,s[ln],2,null,null)}(this._lView[Ut],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class CI extends Fl{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;bc(s[Ut],s,s[or],!1)}checkNoChanges(){}get context(){return null}}class dE extends qd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Ln(s);return new Na(o,this.ngModule)}}function iy(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class bI{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=be(u);const c=this.injector.get(s,dp,u);return c!==dp||o===dp?c:this.parentInjector.get(s,o,u)}}class Na extends bm{get inputs(){return iy(this.componentDef.inputs)}get outputs(){return iy(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Rm(i){return i.map(jv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,c){let h=(c=c||this.ngModule)instanceof Rl?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new bI(s,h):s,I=g.get(cI,null);if(null===I)throw new je(407,!1);const S=g.get(hI,null),F=I.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",te=u?function EI(i,s,o){return i.selectRootElement(s,o===ut.ShadowDom)}(F,u,this.componentDef.encapsulation):ep(F,H,function hE(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(H)),me=this.componentDef.onPush?288:272,Me=oh(0,null,null,1,0,null,null,null,null,null),it=rs(null,Me,null,me,null,null,I,F,S,g,null);let vt,zt;wn(it);try{const Jt=this.componentDef;let _n,gt=null;Jt.findHostDirectiveDefs?(_n=[],gt=new Map,Jt.findHostDirectiveDefs(Jt,_n,gt),_n.push(Jt)):_n=[Jt];const Mn=function Pp(i,s){const o=i[Ut],u=Xn;return i[u]=s,Du(o,u,2,"#host",null)}(it,te),Ur=function fE(i,s,o,u,c,h,g,I){const S=c[Ut];!function Ei(i,s,o,u){for(const c of i)s.mergedAttrs=lo(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(Ku(s,s.mergedAttrs,!0),null!==o&&H0(u,o,s))}(u,i,s,g);const F=h.createRenderer(s,o),H=rs(c,tE(o),null,o.onPush?32:16,c[i.index],i,h,F,I||null,null,null);return S.firstCreatePass&&Ap(S,i,u.length-1),ph(c,H),c[i.index]=H}(Mn,te,Jt,_n,it,I,F);zt=ii(Me,Xn),te&&function mh(i,s,o,u){if(u)Os(i,o,["ng-version",cp.full]);else{const{attrs:c,classes:h}=function Hv(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++u]):8===c&&o.push(h);else{if(!xa(c))break;c=h}u++}return{attrs:s,classes:o}}(s.selectors[0]);c&&Os(i,o,c),h&&h.length>0&&j0(i,o,h.join(" "))}}(F,Jt,te,u),void 0!==o&&function yh(i,s,o){const u=i.projection=[];for(let c=0;c<s.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(zt,this.ngContentSelectors,o),vt=function Op(i,s,o,u,c,h){const g=Fr(),I=c[Ut],S=Ci(g,c);sE(I,c,g,o,null,u);for(let H=0;H<o.length;H++)Ve(ha(c,I,g.directiveStart+H,g),c);qu(I,c,g),S&&Ve(S,c);const F=ha(c,I,g.directiveStart+g.componentOffset,g);if(i[or]=c[or]=F,null!==h)for(const H of h)H(F,s);return Wm(I,g,i),F}(Ur,Jt,_n,gt,it,[SI]),zm(Me,it,null)}finally{gr()}return new Cu(this.componentType,vt,Kd(zt,it),it,zt)}}class Cu extends Ov{constructor(s,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new CI(c),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[s])){const h=this._rootLView;Np(h[Ut],h,c,s,o),Rp(Ar(this._tNode.index,h))}}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function SI(){const i=Fr();Le(rt()[Ut],i)}function ay(i){let s=function oy(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(Yr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);c=s.\u0275dir}if(c){if(o){u.push(c);const g=i;g.inputs=uy(i.inputs),g.declaredInputs=uy(i.declaredInputs),g.outputs=uy(i.outputs);const I=c.hostBindings;I&&Yu(i,I);const S=c.viewQuery,F=c.contentQueries;if(S&&MI(i,S),F&&_h(i,F),Et(i.inputs,c.inputs),Et(i.declaredInputs,c.declaredInputs),Et(i.outputs,c.outputs),Yr(c)&&c.data.animation){const H=i.data;H.animation=(H.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let g=0;g<h.length;g++){const I=h[g];I&&I.ngInherit&&I(i),I===ay&&(o=!1)}}s=Object.getPrototypeOf(s)}!function AI(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=lo(c.hostAttrs,o=lo(o,c.hostAttrs))}}(u)}function uy(i){return i===Rt?{}:i===Ot?[]:i}function MI(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function _h(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,h)=>{s(u,c,h),o(u,c,h)}:s}function Yu(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}function Mc(i){return!!kp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function kp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ho(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Eh(i,s,o,u){const c=rt();return ho(c,_(),s)&&(Pn(),ra(Bn(),c,i,s,o,u)),Eh}function nu(i,s,o,u){return ho(i,_(),o)?s+nt(o)+u:mn}function ru(i,s,o,u,c,h){const I=function tu(i,s,o,u){const c=ho(i,s,o);return ho(i,s+1,u)||c}(i,function Mr(){return gn.lFrame.bindingIndex}(),o,c);return E(2),I?s+nt(o)+u+nt(c)+h:mn}function Lp(i,s,o,u,c,h,g,I){const S=rt(),F=Pn(),H=i+Xn,te=F.firstCreatePass?function wE(i,s,o,u,c,h,g,I,S){const F=s.consts,H=Du(s,i,4,g||null,Oi(F,I));Qm(s,o,H,Oi(F,S)),Le(s,H);const te=H.tView=oh(2,H,u,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,F);return null!==s.queries&&(s.queries.template(s,H),te.queries=s.queries.embeddedTView(H)),H}(H,F,S,s,o,u,c,h,g):F.data[H];Lr(te,!1);const me=S[ln].createComment("");sm(F,S,me,te),Ve(me,S),ph(S,S[H]=Xm(me,S,me,te)),Zi(te)&&Cp(F,S,te),null!=g&&sh(S,te,I)}function _y(i){return function Rs(i,s){return i[s]}(function Aa(){return gn.lFrame.contextLView}(),Xn+i)}function Oc(i,s,o){const u=rt();return ho(u,_(),s)&&Go(Pn(),Bn(),u,i,s,u[ln],o,!1),Oc}function vy(i,s,o,u,c){const g=c?"class":"style";Np(i,o,s.inputs[g],g,u)}function Zu(i,s,o,u){const c=rt(),h=Pn(),g=Xn+i,I=c[ln],S=h.firstCreatePass?function IE(i,s,o,u,c,h){const g=s.consts,S=Du(s,i,2,u,Oi(g,c));return Qm(s,o,S,Oi(g,h)),null!==S.attrs&&Ku(S,S.attrs,!1),null!==S.mergedAttrs&&Ku(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(g,h,c,s,o,u):h.data[g],F=c[g]=ep(I,s,function j(){return gn.lFrame.currentNamespace}()),H=Zi(S);return Lr(S,!0),H0(I,F,S),32!=(32&S.flags)&&sm(h,c,F,S),0===function M(){return gn.lFrame.elementDepthCount}()&&Ve(F,c),function z(){gn.lFrame.elementDepthCount++}(),H&&(Cp(h,c,S),Wm(h,S,c)),null!==u&&sh(c,S),Zu}function Th(){let i=Fr();Do()?la():(i=i.parent,Lr(i,!1));const s=i;!function Fe(){gn.lFrame.elementDepthCount--}();const o=Pn();return o.firstCreatePass&&(Le(o,i),$i(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Co(i){return 0!=(8&i.flags)}(s)&&vy(o,s,rt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function xr(i){return 0!=(16&i.flags)}(s)&&vy(o,s,rt(),s.stylesWithoutHost,!1),Th}function Up(i,s,o,u){return Zu(i,s,o,u),Th(),Up}function kc(i,s,o){const u=rt(),c=Pn(),h=i+Xn,g=c.firstCreatePass?function Ey(i,s,o,u,c){const h=s.consts,g=Oi(h,u),I=Du(s,i,8,"ng-container",g);return null!==g&&Ku(I,g,!0),Qm(s,o,I,Oi(h,c)),null!==s.queries&&s.queries.elementStart(s,I),I}(h,c,u,s,o):c.data[h];Lr(g,!0);const I=u[h]=u[ln].createComment("");return sm(c,u,I,g),Ve(I,u),Zi(g)&&(Cp(c,u,g),Wm(c,g,u)),null!=o&&sh(u,g),kc}function Dh(){let i=Fr();const s=Pn();return Do()?la():(i=i.parent,Lr(i,!1)),s.firstCreatePass&&(Le(s,i),$i(i)&&s.queries.elementEnd(i)),Dh}function wy(){return rt()}function Bp(i){return!!i&&"function"==typeof i.then}function Xu(i){return!!i&&"function"==typeof i.subscribe}const Iy=Xu;function $p(i,s,o,u){const c=rt(),h=Pn(),g=Fr();return function bh(i,s,o,u,c,h,g){const I=Zi(u),F=i.firstCreatePass&&ry(i),H=s[or],te=ny(s);let me=!0;if(3&u.type||g){const vt=Ci(u,s),zt=g?g(vt):vt,Jt=te.length,_n=g?Mn=>g(Kn(Mn[u.index])):u.index;let gt=null;if(!g&&I&&(gt=function TE(i,s,o,u){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===o&&c[h+1]===u){const I=s[ls],S=c[h+2];return I.length>S?I[S]:null}"string"==typeof g&&(h+=2)}return null}(i,s,c,u.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=h,gt.__ngLastListenerFn__=h,me=!1;else{h=Dy(u,s,H,h,!1);const Mn=o.listen(zt,c,h);te.push(h,Mn),F&&F.push(c,_n,Jt,Jt+1)}}else h=Dy(u,s,H,h,!1);const Me=u.outputs;let it;if(me&&null!==Me&&(it=Me[c])){const vt=it.length;if(vt)for(let zt=0;zt<vt;zt+=2){const Ur=s[it[zt]][it[zt+1]].subscribe(h),Mi=te.length;te.push(h,Ur),F&&F.push(c,u.index,Mi,-(Mi+1))}}}(h,c,c[ln],g,i,s,u),$p}function zo(i,s,o,u){try{return hi(6,s,o),!1!==o(u)}catch(c){return Sc(i,c),!1}finally{hi(7,s,o)}}function Dy(i,s,o,u,c){return function h(g){if(g===Function)return u;Rp(i.componentOffset>-1?Ar(i.index,s):s);let S=zo(s,o,u,g),F=h.__ngNextListenerFn__;for(;F;)S=zo(s,o,F,g)&&S,F=F.__ngNextListenerFn__;return c&&!1===S&&(g.preventDefault(),g.returnValue=!1),S}}function Cy(i=1){return function fi(i){return(gn.lFrame.contextLView=function si(i,s){for(;i>0;)s=s[br],i--;return s}(i,gn.lFrame.contextLView))[or]}(i)}function Sh(i,s,o){return Vr(i,"",s,"",o),Sh}function Vr(i,s,o,u,c){const h=rt(),g=nu(h,s,o,u);return g!==mn&&Go(Pn(),Bn(),h,i,g,h[ln],c,!1),Vr}function Ea(i,s){return i<<17|s<<2}function _s(i){return i>>17&32767}function Lc(i){return 2|i}function ka(i){return(131068&i)>>2}function Vc(i,s){return-131069&i|s<<2}function Ju(i){return 1|i}function bE(i,s,o,u,c){const h=i[o+1],g=null===s;let I=u?_s(h):ka(h),S=!1;for(;0!==I&&(!1===S||g);){const H=i[I+1];SE(i[I],s)&&(S=!0,i[I+1]=u?Ju(H):Lc(H)),I=u?_s(H):ka(H)}S&&(i[o+1]=u?Lc(h):Ju(h))}function SE(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&P(i,s)>=0}const vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ah(i){return i.substring(vs.key,vs.keyEnd)}function PI(i){return i.substring(vs.value,vs.valueEnd)}function Bl(i,s){const o=vs.textEnd;return o===s?-1:(s=vs.keyEnd=function My(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,vs.key=s,o),ia(i,s,o))}function Es(i,s){const o=vs.textEnd;let u=vs.key=ia(i,s,o);return o===u?-1:(u=vs.keyEnd=function xC(i,s,o){let u;for(;s<o&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,o),u=yt(i,u,o),u=vs.value=ia(i,u,o),u=vs.valueEnd=function Ki(i,s,o){let u=-1,c=-1,h=-1,g=s,I=g;for(;g<o;){const S=i.charCodeAt(g++);if(59===S)return I;34===S||39===S?I=g=wa(i,S,g,o):s===g-4&&85===h&&82===c&&76===u&&40===S?I=g=wa(i,41,g,o):S>32&&(I=g),h=c,c=u,u=-33&S}return I}(i,u,o),yt(i,u,o))}function $l(i){vs.key=0,vs.keyEnd=0,vs.value=0,vs.valueEnd=0,vs.textEnd=i.length}function ia(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function yt(i,s,o,u){return(s=ia(i,s,o))<o&&s++,s}function wa(i,s,o,u){let c=-1,h=o;for(;h<u;){const g=i.charCodeAt(h++);if(g==s&&92!==c)return h;c=92==g&&92===c?0:g}throw new Error}function nn(i,s,o){return Wr(i,s,o,!1),nn}function cn(i,s){return Wr(i,s,null,!0),cn}function su(i){Ia(Ry,Yt,i,!1)}function Yt(i,s){for(let o=function AE(i){return $l(i),Es(i,ia(i,0,vs.textEnd))}(s);o>=0;o=Es(s,o))Ry(i,Ah(s),PI(s))}function $e(i){Ia(Fn,ft,i,!0)}function ft(i,s){for(let o=function OI(i){return $l(i),Bl(i,ia(i,0,vs.textEnd))}(s);o>=0;o=Bl(s,o))f(i,Ah(s),!0)}function Wr(i,s,o,u){const c=rt(),h=Pn(),g=E(2);h.firstUpdatePass&&RE(h,i,g,u),s!==mn&&ho(c,g,s)&&Ny(h,h.data[zr()],c,c[ln],i,c[g+1]=function Mh(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Ht(Gu(i)))),i}(s,o),u,g)}function Ia(i,s,o,u){const c=Pn(),h=E(2);c.firstUpdatePass&&RE(c,null,h,u);const g=rt();if(o!==mn&&ho(g,h,o)){const I=c.data[zr()];if(dr(I,u)&&!xE(c,h)){let S=u?I.classesWithoutHost:I.stylesWithoutHost;null!==S&&(o=en(S,o||"")),vy(c,I,g,o,u)}else!function Uc(i,s,o,u,c,h,g,I){c===mn&&(c=Ot);let S=0,F=0,H=0<c.length?c[0]:null,te=0<h.length?h[0]:null;for(;null!==H||null!==te;){const me=S<c.length?c[S+1]:void 0,Me=F<h.length?h[F+1]:void 0;let vt,it=null;H===te?(S+=2,F+=2,me!==Me&&(it=te,vt=Me)):null===te||null!==H&&H<te?(S+=2,it=H):(F+=2,it=te,vt=Me),null!==it&&Ny(i,s,o,u,it,vt,g,I),H=S<c.length?c[S]:null,te=F<h.length?h[F]:null}}(c,I,g,g[ln],g[h+1],g[h+1]=function VI(i,s,o){if(null==o||""===o)return Ot;const u=[],c=Gu(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)i(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&i(u,h,c[h]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,h)}}function xE(i,s){return s>=i.expandoStartIndex}function RE(i,s,o,u){const c=i.data;if(null===c[o+1]){const h=c[zr()],g=xE(i,o);dr(h,u)&&null===s&&!g&&(s=!1),s=function kI(i,s,o,u){const c=Re(i);let h=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=Wp(o=xy(null,i,s,o,u),s.attrs,u),h=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==c)if(o=xy(c,i,s,o,u),null===h){let S=function FI(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==ka(u))return i[_s(u)]}(i,s,u);void 0!==S&&Array.isArray(S)&&(S=xy(null,i,s,S[1],u),S=Wp(S,s.attrs,u),function LI(i,s,o,u){i[_s(o?s.classBindings:s.styleBindings)]=u}(i,s,u,S))}else h=function NE(i,s,o){let u;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)u=Wp(u,i[h].hostAttrs,o);return Wp(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(c,h,s,u),function Ay(i,s,o,u,c,h){let g=h?s.classBindings:s.styleBindings,I=_s(g),S=ka(g);i[u]=o;let H,F=!1;if(Array.isArray(o)?(H=o[1],(null===H||P(o,H)>0)&&(F=!0)):H=o,c)if(0!==S){const me=_s(i[I+1]);i[u+1]=Ea(me,I),0!==me&&(i[me+1]=Vc(i[me+1],u)),i[I+1]=function zp(i,s){return 131071&i|s<<17}(i[I+1],u)}else i[u+1]=Ea(I,0),0!==I&&(i[I+1]=Vc(i[I+1],u)),I=u;else i[u+1]=Ea(S,0),0===I?I=u:i[S+1]=Vc(i[S+1],u),S=u;F&&(i[u+1]=Lc(i[u+1])),bE(i,H,u,!0),bE(i,H,u,!1),function NI(i,s,o,u,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&P(h,s)>=0&&(o[u+1]=Ju(o[u+1]))}(s,H,i,u,h),g=Ea(I,S),h?s.classBindings=g:s.styleBindings=g}(c,h,s,o,g,u)}}function xy(i,s,o,u,c){let h=null;const g=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<g&&(h=s[I],u=Wp(u,h.hostAttrs,c),h!==i);)I++;return null!==i&&(o.directiveStylingLast=I),u}function Wp(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?c=g:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),f(i,g,!!o||s[++h]))}return void 0===i?null:i}function Ry(i,s,o){f(i,s,Gu(o))}function Fn(i,s,o){const u=String(s);""!==u&&!u.includes(" ")&&f(i,u,o)}function Ny(i,s,o,u,c,h,g,I){if(!(3&s.type))return;const S=i.data,F=S[I+1],H=function CE(i){return 1==(1&i)}(F)?wi(S,s,o,c,ka(F),g):void 0;dn(H)||(dn(h)||function Ys(i){return 2==(2&i)}(F)&&(h=wi(S,null,o,c,I,g)),function JD(i,s,o,u,c){if(s)c?i.addClass(o,u):i.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ma.DashCase;null==c?i.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ma.Important),i.setStyle(o,u,c,h))}}(u,g,Io(zr(),o),c,h))}function wi(i,s,o,u,c,h){const g=null===s;let I;for(;c>0;){const S=i[c],F=Array.isArray(S),H=F?S[1]:S,te=null===H;let me=o[c+1];me===mn&&(me=te?Ot:void 0);let Me=te?T(me,u):H===u?me:void 0;if(F&&!dn(Me)&&(Me=T(S,u)),dn(Me)&&(I=Me,g))return I;const it=i[c+1];c=g?_s(it):ka(it)}if(null!==s){let S=h?s.residualClasses:s.residualStyles;null!=S&&(I=T(S,u))}return I}function dn(i){return void 0!==i}function dr(i,s){return 0!=(i.flags&(s?8:16))}function PE(i,s=""){const o=rt(),u=Pn(),c=i+Xn,h=u.firstCreatePass?Du(u,c,1,s,null):u.data[c],g=o[c]=function Jf(i,s){return i.createText(s)}(o[ln],s);sm(u,o,g,h),Lr(h,!1)}function Si(i){return Gt("",i,""),Si}function Gt(i,s,o){const u=rt(),c=nu(u,i,s,o);return c!==mn&&va(u,zr(),c),Gt}function Bc(i,s,o,u,c){const h=rt(),g=ru(h,i,s,o,u,c);return g!==mn&&va(h,zr(),g),Bc}function Gc(i,s,o){const u=rt();if(ho(u,_(),s)){const h=Pn(),g=Bn();Go(h,g,u,i,s,function cE(i,s,o){return(null===i||Yr(i))&&(o=function ps(i){for(;Array.isArray(i);){if("object"==typeof i[mo])return i;i=i[rr]}return null}(o[s.index])),o[ln]}(Re(h.data),g,u),o,!0)}return Gc}const rl=void 0;var GI=["en",[["a","p"],["AM","PM"],rl],[["AM","PM"],rl,rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rl,"{1} 'at' {0}",rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HI(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let zc={};function By(i){const s=function zI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=jE(s);if(o)return o;const u=s.split("-")[0];if(o=jE(u),o)return o;if("en"===u)return GI;throw new je(701,!1)}function $E(i){return By(i)[Tn.PluralCase]}function jE(i){return i in zc||(zc[i]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[i]),zc[i]}var Tn=(()=>((Tn=Tn||{})[Tn.LocaleId=0]="LocaleId",Tn[Tn.DayPeriodsFormat=1]="DayPeriodsFormat",Tn[Tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tn[Tn.DaysFormat=3]="DaysFormat",Tn[Tn.DaysStandalone=4]="DaysStandalone",Tn[Tn.MonthsFormat=5]="MonthsFormat",Tn[Tn.MonthsStandalone=6]="MonthsStandalone",Tn[Tn.Eras=7]="Eras",Tn[Tn.FirstDayOfWeek=8]="FirstDayOfWeek",Tn[Tn.WeekendRange=9]="WeekendRange",Tn[Tn.DateFormat=10]="DateFormat",Tn[Tn.TimeFormat=11]="TimeFormat",Tn[Tn.DateTimeFormat=12]="DateTimeFormat",Tn[Tn.NumberSymbols=13]="NumberSymbols",Tn[Tn.NumberFormats=14]="NumberFormats",Tn[Tn.CurrencyCode=15]="CurrencyCode",Tn[Tn.CurrencySymbol=16]="CurrencySymbol",Tn[Tn.CurrencyName=17]="CurrencyName",Tn[Tn.Currencies=18]="Currencies",Tn[Tn.Directionality=19]="Directionality",Tn[Tn.PluralCase=20]="PluralCase",Tn[Tn.ExtraData=21]="ExtraData",Tn))();const Wc="en-US";let HE=Wc;function hl(i,s,o,u,c){if(i=At(i),Array.isArray(i))for(let h=0;h<i.length;h++)hl(i[h],s,o,u,c);else{const h=Pn(),g=rt();let I=_a(i)?i:At(i.provide),S=Tm(i);const F=Fr(),H=1048575&F.providerIndexes,te=F.directiveStart,me=F.providerIndexes>>20;if(_a(i)||!i.multi){const Me=new Gn(S,c,kl),it=Xc(I,s,c?H:H+me,te);-1===it?(ts(Ou(F,g),h,I),rg(h,i,s.length),s.push(I),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(Me),g.push(Me)):(o[it]=Me,g[it]=Me)}else{const Me=Xc(I,s,H+me,te),it=Xc(I,s,H,H+me),zt=it>=0&&o[it];if(c&&!zt||!c&&!(Me>=0&&o[Me])){ts(Ou(F,g),h,I);const Jt=function Jy(i,s,o,u,c){const h=new Gn(i,o,kl);return h.multi=[],h.index=s,h.componentProviders=0,ig(h,c,u&&!o),h}(c?Hl:Xy,o.length,c,u,S);!c&&zt&&(o[it].providerFactory=Jt),rg(h,i,s.length,0),s.push(I),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(Jt),g.push(Jt)}else rg(h,i,Me>-1?Me:it,ig(o[c?it:Me],S,!c&&u));!c&&u&&zt&&o[it].componentProviders++}}}function rg(i,s,o,u){const c=_a(s),h=function Nv(i){return!!i.useClass}(s);if(c||h){const S=(h?At(s.useClass):s).prototype.ngOnDestroy;if(S){const F=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const H=F.indexOf(o);-1===H?F.push(o,[u,S]):F[H+1].push(u,S)}else F.push(o,S)}}}function ig(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Xc(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function Xy(i,s,o,u){return Xs(this.multi,[])}function Hl(i,s,o,u){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=ha(o,o[Ut],this.providerFactory.index,u);h=I.slice(0,g),Xs(c,h);for(let S=g;S<I.length;S++)h.push(I[S])}else h=[],Xs(c,h);return h}function Xs(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Uh(i,s=[]){return o=>{o.providersResolver=(u,c)=>function ow(i,s,o){const u=Pn();if(u.firstCreatePass){const c=Yr(i);hl(o,u.data,u.blueprint,c,!0),hl(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class ou{}class e_{}function t_(i,s){return new n_(i,s??null)}class n_ extends ou{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dE(this);const u=$r(s);this._bootstrapComponents=zu(u.bootstrap),this._r3Injector=Fm(s,o,[{provide:ou,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],Ht(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class og extends e_{constructor(s){super(),this.moduleType=s}create(s){return new n_(this.moduleType,s)}}class aT extends ou{constructor(s,o,u){super(),this.componentFactoryResolver=new dE(this),this.instance=null;const c=new Pv([...s,{provide:ou,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],o||up(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ua(i,s,o=null){return new aT(i,s,o).injector}let uT=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=zd(0,o.type),c=u.length>0?Ua([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=er({token:i,providedIn:"environment",factory:()=>new i(X(Rl))}),i})();function xo(i){i.getStandaloneInjector=s=>s.get(uT).getOrCreateStandaloneInjector(i)}function Wh(i){return s=>{setTimeout(i,void 0,s)}}const Da=class id extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let c=s,h=o||(()=>null),g=u;if(s&&"object"==typeof s){const S=s;c=S.next?.bind(S),h=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(h=Wh(h),c&&(c=Wh(c)),g&&(g=Wh(g)));const I=super.subscribe({next:c,error:h,complete:g});return s instanceof W.w0&&s.add(I),I}};function u_(){return this._results[Symbol.iterator]()}class qh{get changes(){return this._changes||(this._changes=new Da)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=qh.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=u_)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=function ys(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Dd(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],h=s[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kh=(()=>{class i{}return i.__NG_ELEMENT_ID__=yr,i})();const pT=Kh,ss=class extends pT{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tView,c=rs(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);c[Ni]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[li];return null!==g&&(c[li]=g.createEmbeddedView(u)),zm(u,c,s),new Fl(c)}};function yr(){return Yh(Fr(),rt())}function Yh(i,s){return 4&i.type?new ss(s,i,Kd(i,s)):null}let Qh=(()=>{class i{}return i.__NG_ELEMENT_ID__=l_,i})();function l_(){return d_(Fr(),rt())}const ug=Qh,c_=class extends ug{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){const s=mu(this._hostTNode,this._hostLView);if(Ed(s)){const o=gu(s,this._hostLView),u=Ha(s);return new Ma(o[Ut].data[u+8],o)}return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Ew(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(s,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const g=s.createEmbeddedView(o||{},h);return this.insert(g,c),g}createComponent(s,o,u,c,h){const g=s&&!function ta(i){return"function"==typeof i}(s);let I;if(g)I=o;else{const te=o||{};I=te.index,u=te.injector,c=te.projectableNodes,h=te.environmentInjector||te.ngModuleRef}const S=g?s:new Na(Ln(s)),F=u||this.parentInjector;if(!h&&null==S.ngModule){const me=(g?F:this.parentInjector).get(Rl,null);me&&(h=me)}const H=S.create(F,c,void 0,h);return this.insert(H.hostView,I),H}insert(s,o){const u=s._lView,c=u[Ut];if(function oo(i){return di(i[sr])}(u)){const H=this.indexOf(s);if(-1!==H)this.detach(H);else{const te=u[sr],me=new c_(te,te[Ir],te[sr]);me.detach(me.indexOf(s))}}const h=this._adjustIndex(o),g=this._lContainer;!function M0(i,s,o,u){const c=Xr+u,h=o.length;u>0&&(o[c-1][Cr]=s),u<h-Xr?(s[Cr]=o[c],Ya(o,Xr+u,s)):(o.push(s),s[Cr]=null),s[sr]=o;const g=s[Ni];null!==g&&o!==g&&function x0(i,s){const o=i[js];s[Sr]!==s[sr][sr][Sr]&&(i[Cs]=!0),null===o?i[js]=[s]:o.push(s)}(g,s);const I=s[li];null!==I&&I.insertView(i),s[vn]|=64}(c,u,g,h);const I=dv(h,g),S=u[ln],F=im(S,g[ro]);return null!==F&&function ov(i,s,o,u,c,h){u[rr]=c,u[Ir]=s,tp(i,u,o,1,c,h)}(c,g[Ir],S,u,F,I),s.attachToViewContainerRef(),Ya(lg(g),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Ew(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=av(this._lContainer,o);u&&(Qa(lg(this._lContainer),o),uv(u[Ut],u))}detach(s){const o=this._adjustIndex(s,-1),u=av(this._lContainer,o);return u&&null!=Qa(lg(this._lContainer),o)?new Fl(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function Ew(i){return i[bs]}function lg(i){return i[bs]||(i[bs]=[])}function d_(i,s){let o;const u=s[i.index];if(di(u))o=u;else{let c;if(8&i.type)c=Kn(u);else{const h=s[ln];c=h.createComment("");const g=Ci(i,s);yc(h,im(h,g),c,function QD(i,s){return i.nextSibling(s)}(h,g),!1)}s[i.index]=o=Xm(u,s,c,i),ph(s,o)}return new c_(o,i,s)}class Zh{constructor(s){this.queryList=s,this.matches=null}clone(){return new Zh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wl{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const g=o.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new Wl(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Ui(s,o).matches&&this.queries[o].setDirty()}}class sd{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class ql{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new ql(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class od{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new od(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(s,o,ww(o,h)),this.matchTNodeWithReadOption(s,o,da(o,s,h,!1,!1))}else u===Kh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,da(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Pl||c===Qh||c===Kh&&4&o.type)this.addMatch(o.index,-2);else{const h=da(o,s,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function ww(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Tw(i,s,o,u){return-1===o?function Iw(i,s){return 11&i.type?Kd(i,s):4&i.type?Yh(i,s):null}(s,i):-2===o?function gT(i,s,o){return o===Pl?Kd(s,i):o===Kh?Yh(s,i):o===Qh?d_(s,i):void 0}(i,s,u):ha(i,i[Ut],o,s)}function h_(i,s,o,u){const c=s[li].queries[u];if(null===c.matches){const h=i.data,g=o.matches,I=[];for(let S=0;S<g.length;S+=2){const F=g[S];I.push(F<0?null:Tw(s,h[F],g[S+1],o.metadata.read))}c.matches=I}return c.matches}function cg(i,s,o,u){const c=i.queries.getByIndex(o),h=c.matches;if(null!==h){const g=h_(i,s,c,o);for(let I=0;I<h.length;I+=2){const S=h[I];if(S>0)u.push(g[I/2]);else{const F=h[I+1],H=s[-S];for(let te=Xr;te<H.length;te++){const me=H[te];me[Ni]===me[sr]&&cg(me[Ut],me,F,u)}if(null!==H[js]){const te=H[js];for(let me=0;me<te.length;me++){const Me=te[me];cg(Me[Ut],Me,F,u)}}}}}return u}function Dw(i){const s=rt(),o=Pn(),u=We();Bt(u+1);const c=Ui(o,u);if(i.dirty&&function Sa(i){return 4==(4&i[vn])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?cg(o,s,u,[]):h_(o,s,c,u);i.reset(h,gC),i.notifyOnChanges()}return!0}return!1}function Cw(i,s,o,u){const c=Pn();if(c.firstCreatePass){const h=Fr();(function p_(i,s,o){null===i.queries&&(i.queries=new ql),i.queries.track(new od(s,o))})(c,new sd(s,o,u),h.index),function yT(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function Kl(i,s,o){const u=new qh(4==(4&o));ah(i,s,u,u.destroy),null===s[li]&&(s[li]=new Wl),s[li].queries.push(new Zh(u))}(c,rt(),o)}function bw(){return function f_(i,s){return i[li].queries[s].queryList}(rt(),We())}function Ui(i,s){return i.queries.getByIndex(s)}function dg(i,s){return Yh(i,s)}function fg(i){return!!$r(i)}function fd(...i){}const Eg=new Rr("Application Initializer");let pd=(()=>{class i{constructor(o){this.appInits=o,this.resolve=fd,this.reject=fd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Bp(h))o.push(h);else if(Iy(h)){const g=new Promise((I,S)=>{h.subscribe({complete:I,error:S})});o.push(g)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(X(Eg,8))},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const S_=new Rr("AppId",{providedIn:"root",factory:function ef(){return`${tf()}${tf()}${tf()}`}});function tf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nf=new Rr("Platform Initializer"),bT=new Rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rf=new Rr("AnimationModuleType");let wg=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const af=new Rr("LocaleId",{providedIn:"root",factory:()=>oe(af,ot.Optional|ot.SkipSelf)||function sf(){return typeof $localize<"u"&&$localize.locale||Wc}()}),Lw=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ig{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Vw=(()=>{class i{compileModuleSync(o){return new og(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=zu($r(o).declarations).reduce((g,I)=>{const S=Ln(I);return S&&g.push(new Na(S)),g},[]);return new Ig(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ml=(()=>Promise.resolve(0))();function Tg(i){typeof Zone>"u"?ml.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ba{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function MT(){let i=bn.requestAnimationFrame,s=bn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function RT(i){const s=()=>{!function Dg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(bn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,x_(i),i.isCheckStableRunning=!0,M_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),x_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,g,I)=>{try{return R_(i),o.invokeTask(c,h,g,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),jw(i)}},onInvoke:(o,u,c,h,g,I,S)=>{try{return R_(i),o.invoke(c,h,g,I,S)}finally{i.shouldCoalesceRunChangeDetection&&s(),jw(i)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,x_(i),M_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ba.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(ba.isInAngularZone())throw new je(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,s,$w,fd,fd);try{return h.runTask(g,o,u)}finally{h.cancelTask(g)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const $w={};function M_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function x_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function R_(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function jw(i){i._nesting--,M_(i)}class Hw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}const yl=new Rr(""),gd=new Rr("");let Cg,Gw=(()=>{class i{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cg||(function NT(i){Cg=i}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ba.assertNotInAngularZone(),Tg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(X(ba),X(N_),X(gd))},i.\u0275prov=er({token:i,factory:i.\u0275fac}),i})(),N_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Cg?.findTestabilityInTree(this,o,u)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Nu=!1;let _l=null;const bg=new Rr("AllowMultipleToken"),os=new Rr("PlatformDestroyListeners"),zw=new Rr("appBootstrapListener");class P_{constructor(s,o){this.name=s,this.token=o}}function O_(i,s,o=[]){const u=`Platform: ${s}`,c=new Rr(u);return(h=[])=>{let g=md();if(!g||g.injector.get(bg,!1)){const I=[...o,...h,{provide:c,useValue:!0}];i?i(I):function kT(i){if(_l&&!_l.get(bg,!1))throw new je(400,!1);_l=i;const s=i.get(xg);(function cf(i){const s=i.get(nf,null);s&&s.forEach(o=>o())})(i)}(function Ag(i=[],s){return Ol.create({name:s,providers:[{provide:Em,useValue:"platform"},{provide:os,useValue:new Set([()=>_l=null])},...i]})}(I,u))}return function k_(i){const s=md();if(!s)throw new je(401,!1);return s}()}}function md(){return _l?.get(xg)??null}let xg=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function F_(i,s){let o;return o="noop"===i?new Hw:("zone.js"===i?void 0:i)||new ba(s),o}(u?.ngZone,function Rg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:ba,useValue:c}];return c.run(()=>{const g=Ol.create({providers:h,parent:this.injector,name:o.moduleType.name}),I=o.create(g),S=I.injector.get(Yd,null);if(!S)throw new je(402,!1);return c.runOutsideAngular(()=>{const F=c.onError.subscribe({next:H=>{S.handleError(H)}});I.onDestroy(()=>{yd(this._modules,I),F.unsubscribe()})}),function Ww(i,s,o){try{const u=o();return Bp(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(S,c,()=>{const F=I.injector.get(pd);return F.runInitializers(),F.donePromise.then(()=>(function Qp(i){Dn(i,"Expected localeId to be defined"),"string"==typeof i&&(HE=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(af,Wc)||Wc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,u=[]){const c=L_({},u);return function PT(i,s,o){const u=new og(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(df);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new je(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(os,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(X(Ol))},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function L_(i,s){return Array.isArray(s)?s.reduce(L_,i):{...i,...s}}let df=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new K.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),g=new K.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ba.assertNotInAngularZone(),Tg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),F.unsubscribe()}});this.isStable=function st(...i){const s=(0,Je.yG)(i),o=(0,Je._6)(i,1/0),u=i;return u.length?1===u.length?(0,J.Xf)(u[0]):(0,Ce.J)(o)((0,It.D)(u,s)):ke.E}(h,g.pipe(function Ae(i={}){const{connector:s=(()=>new p.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=i;return h=>{let g,I,S,F=0,H=!1,te=!1;const me=()=>{I?.unsubscribe(),I=void 0},Me=()=>{me(),g=S=void 0,H=te=!1},it=()=>{const vt=g;Me(),vt?.unsubscribe()};return(0,pe.e)((vt,zt)=>{F++,!te&&!H&&me();const Jt=S=S??s();zt.add(()=>{F--,0===F&&!te&&!H&&(I=Dt(it,c))}),Jt.subscribe(zt),!g&&F>0&&(g=new le.Hp({next:_n=>Jt.next(_n),error:_n=>{te=!0,me(),I=Dt(Me,o,_n),Jt.error(_n)},complete:()=>{H=!0,me(),I=Dt(Me,u),Jt.complete()}}),(0,J.Xf)(vt).subscribe(g))})(h)}}()))}bootstrap(o,u){const c=o instanceof bm;if(!this._injector.get(pd).done){!c&&Ds(o);throw new je(405,Nu)}let g;g=c?o:this._injector.get(qd).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const I=function OT(i){return i.isBoundToModule}(g)?void 0:this._injector.get(ou),F=g.create(Ol.NULL,[],u||g.selector,I),H=F.location.nativeElement,te=F.injector.get(yl,null);return te?.registerApplication(H),F.onDestroy(()=>{this.detachView(F.hostView),yd(this.components,F),te?.unregisterApplication(H)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;yd(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(zw,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>yd(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new je(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(X(ba),X(Rl),X(Yd))},i.\u0275prov=er({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yd(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let V_=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ng,i})();function Ng(i){return function Yw(i,s,o){if(Ss(i)&&!o){const u=Ar(i.index,s);return new Fl(u,u)}return 47&i.type?new Fl(s[Sr],s):null}(Fr(),rt(),16==(16&i))}class Js{constructor(){}supports(s){return Mc(s)}create(s){return new Jw(s)}}const UT=(i,s)=>s;class Jw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||UT}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const g=!u||o&&o.currentIndex<G_(u,c,h)?o:u,I=G_(g,c,h),S=g.currentIndex;if(g===u)c--,u=u._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{h||(h=[]);const F=I-c,H=S-c;if(F!=H){for(let me=0;me<F;me++){const Me=me<h.length?h[me]:h[me]=0,it=Me+me;H<=it&&it<F&&(h[me]=Me+1)}h[g.previousIndex]=H-F}}I!==S&&s(g,I,S)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Mc(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,g,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)h=s[I],g=this._trackByFn(I,h),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,h,g,I)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,g,I),u=!0),o=o._next}else c=0,function EE(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,I=>{g=this._trackByFn(c,I),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,I,g,c)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,g,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,c)):s=this._addAfter(new Og(o,u),h,c),s}_verifyReinsertion(s,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new kg),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Og{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vf{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class kg{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new vf,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G_(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class e0{constructor(){}supports(s){return s instanceof Map||kp(s)}create(){return new BT}}class BT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||kp(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const u=new $T(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class $T{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t0(){return new Ef([new Js])}let Ef=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||t0()),deps:[[i,new Za,new Wi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new je(901,!1)}}return i.\u0275prov=er({token:i,providedIn:"root",factory:t0}),i})();function n0(){return new ec([new e0])}let ec=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||n0()),deps:[[i,new Za,new Wi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new je(901,!1)}}return i.\u0275prov=er({token:i,providedIn:"root",factory:n0}),i})();const wf=O_(null,"core",[]);let q_=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(X(df))},i.\u0275mod=ui({type:i}),i.\u0275inj=Br({}),i})();function s0(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(fn,ct,q)=>{q.d(ct,{Fj:()=>Be,NI:()=>or,u:()=>ji,cw:()=>Pe,sg:()=>Zi,u5:()=>Lo,JJ:()=>Kr,JL:()=>Cn,F:()=>Ti,On:()=>to,YN:()=>Qo,wV:()=>no,UX:()=>gn,EJ:()=>hs,_Y:()=>go,Kr:()=>vo});var p=q(8256),W=q(6895),K=q(8996),Ce=q(9751),J=q(4742),ke=q(8421),Je=q(7669),It=q(5403),st=q(3268),le=q(1810),Ae=q(4004);let Dt=(()=>{class N{constructor(M,z){this._renderer=M,this._elementRef=z,this.onChange=Fe=>{},this.onTouched=()=>{}}setProperty(M,z){this._renderer.setProperty(this._elementRef.nativeElement,M,z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(p.Qsj),p.Y36(p.SBq))},N.\u0275dir=p.lG2({type:N}),N})(),Oe=(()=>{class N extends Dt{}return N.\u0275fac=function(){let x;return function(z){return(x||(x=p.n5z(N)))(z||N)}}(),N.\u0275dir=p.lG2({type:N,features:[p.qOj]}),N})();const Et=new p.OlP("NgValueAccessor"),Qt={provide:Et,useExisting:(0,p.Gpc)(()=>Be),multi:!0},At=new p.OlP("CompositionEventMode");let Be=(()=>{class N extends Dt{constructor(M,z,Fe){super(M,z),this._compositionMode=Fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xn(){const N=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(At,8))},N.\u0275dir=p.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,z){1&M&&p.NdJ("input",function(Xt){return z._handleInput(Xt.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Xt){return z._compositionEnd(Xt.target.value)})},features:[p._Bn([Qt]),p.qOj]}),N})();const ve=!1,je=new p.OlP("NgValidators"),_t=new p.OlP("NgAsyncValidators");function Pt(N){return null!=N}function Ge(N){const x=(0,p.QGY)(N)?(0,K.D)(N):N;if(ve&&!(0,p.CqO)(x)){let M="Expected async validator to return Promise or Observable.";throw"object"==typeof N&&(M+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,M)}return x}function pt(N){let x={};return N.forEach(M=>{x=null!=M?{...x,...M}:x}),0===Object.keys(x).length?null:x}function he(N,x){return x.map(M=>M(N))}function Ze(N){return N.map(x=>function Te(N){return!N.validate}(x)?x:M=>x.validate(M))}function Nn(N){return null!=N?function ht(N){if(!N)return null;const x=N.filter(Pt);return 0==x.length?null:function(M){return pt(he(M,x))}}(Ze(N)):null}function rn(N){return null!=N?function Dn(N){if(!N)return null;const x=N.filter(Pt);return 0==x.length?null:function(M){return function pe(...N){const x=(0,Je.jO)(N),{args:M,keys:z}=(0,J.D)(N),Fe=new Ce.y(Xt=>{const{length:lr}=M;if(!lr)return void Xt.complete();const Qr=new Array(lr);let rt=lr,Pn=lr;for(let ao=0;ao<lr;ao++){let gs=!1;(0,ke.Xf)(M[ao]).subscribe((0,It.x)(Xt,Fr=>{gs||(gs=!0,Pn--),Qr[ao]=Fr},()=>rt--,void 0,()=>{(!rt||!gs)&&(Pn||Xt.next(z?(0,le.n)(z,Qr):Qr),Xt.complete())}))}});return x?Fe.pipe((0,st.Z)(x)):Fe}(he(M,x).map(Ge)).pipe((0,Ae.U)(pt))}}(Ze(N)):null}function Jn(N,x){return null===N?[x]:Array.isArray(N)?[...N,x]:[N,x]}function ar(N){return N._rawValidators}function ni(N){return N._rawAsyncValidators}function er(N){return N?Array.isArray(N)?N:[N]:[]}function Nr(N,x){return Array.isArray(N)?N.includes(x):N===x}function Br(N,x){const M=er(x);return er(N).forEach(Fe=>{Nr(M,Fe)||M.push(Fe)}),M}function Vt(N,x){return er(x).filter(M=>!Nr(N,M))}class tr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Nn(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,M){return!!this.control&&this.control.hasError(x,M)}getError(x,M){return this.control?this.control.getError(x,M):null}}class qn extends tr{get formDirective(){return null}get path(){return null}}class _r extends tr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hr{constructor(x){this._cd=x}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kr=(()=>{class N extends hr{constructor(M){super(M)}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(_r,2))},N.\u0275dir=p.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,z){2&M&&p.ekj("ng-untouched",z.isUntouched)("ng-touched",z.isTouched)("ng-pristine",z.isPristine)("ng-dirty",z.isDirty)("ng-valid",z.isValid)("ng-invalid",z.isInvalid)("ng-pending",z.isPending)},features:[p.qOj]}),N})(),Cn=(()=>{class N extends hr{constructor(M){super(M)}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(qn,10))},N.\u0275dir=p.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,z){2&M&&p.ekj("ng-untouched",z.isUntouched)("ng-touched",z.isTouched)("ng-pristine",z.isPristine)("ng-dirty",z.isDirty)("ng-valid",z.isValid)("ng-invalid",z.isInvalid)("ng-pending",z.isPending)("ng-submitted",z.isSubmitted)},features:[p.qOj]}),N})();function Ri(N,x){return N?`with name: '${x}'`:`at index: ${x}`}const ge=!1,Ye="VALID",et="INVALID",X="PENDING",ne="DISABLED";function oe(N){return(ce(N)?N.validators:N)||null}function ye(N,x){return(ce(x)?x.asyncValidators:N)||null}function ce(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}class ue{constructor(x,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===Ye}get invalid(){return this.status===et}get pending(){return this.status==X}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Br(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Br(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Vt(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Vt(x,this._rawAsyncValidators))}hasValidator(x){return Nr(this._rawValidators,x)}hasAsyncValidator(x){return Nr(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=X,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const M=this._parentMarkedDirty(x.onlySelf);this.status=ne,this.errors=null,this._forEachChild(z=>{z.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:M}),this._onDisabledChange.forEach(z=>z(!0))}enable(x={}){const M=this._parentMarkedDirty(x.onlySelf);this.status=Ye,this._forEachChild(z=>{z.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:M}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ye||this.status===X)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:Ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=X,this._hasOwnPendingAsyncValidator=!0;const M=Ge(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,M={}){this.errors=x,this._updateControlsErrors(!1!==M.emitEvent)}get(x){let M=x;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((z,Fe)=>z&&z._find(Fe),this)}getError(x,M){const z=M?this.get(M):this;return z&&z.errors?z.errors[x]:null}hasError(x,M){return!!this.getError(x,M)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(X)?X:this._anyControlsHaveStatus(et)?et:Ye}_anyControlsHaveStatus(x){return this._anyControls(M=>M.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){ce(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function be(N){return Array.isArray(N)?Nn(N):N||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function Mt(N){return Array.isArray(N)?rn(N):N||null}(this._rawAsyncValidators)}}class Pe extends ue{constructor(x,M,z){super(oe(M),ye(z,M)),this.controls=x,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,M){return this.controls[x]?this.controls[x]:(this.controls[x]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(x,M,z={}){this.registerControl(x,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(x,M={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(x,M,z={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],M&&this.registerControl(x,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,M={}){(function Q(N,x,M){N._forEachChild((z,Fe)=>{if(void 0===M[Fe])throw new p.vHH(1002,ge?function se(N,x){return`Must supply a value for form control ${Ri(N,x)}`}(x,Fe):"")})})(this,!0,x),Object.keys(x).forEach(z=>{(function ie(N,x,M){const z=N.controls;if(!(x?Object.keys(z):z).length)throw new p.vHH(1e3,ge?function Er(N){return`\n    There are no form controls registered with this ${N?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(x):"");if(!z[M])throw new p.vHH(1001,ge?function De(N,x){return`Cannot find form control ${Ri(N,x)}`}(x,M):"")})(this,!0,z),this.controls[z].setValue(x[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(x,M={}){null!=x&&(Object.keys(x).forEach(z=>{const Fe=this.controls[z];Fe&&Fe.patchValue(x[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(x={},M={}){this._forEachChild((z,Fe)=>{z.reset(x[Fe],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(x,M,z)=>(x[z]=M.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(M,z)=>!!z._syncPendingControls()||M);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(M=>{const z=this.controls[M];z&&x(z,M)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[M,z]of Object.entries(this.controls))if(this.contains(M)&&x(z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,z,Fe)=>((z.enabled||this.disabled)&&(M[Fe]=z.value),M))}_reduceChildren(x,M){let z=x;return this._forEachChild((Fe,Xt)=>{z=M(z,Fe,Xt)}),z}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}const ur=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ue}),Ue="always";function Se(N,x){return[...x.path,N]}function dt(N,x,M=Ue){On(N,x),x.valueAccessor.writeValue(N.value),(N.disabled||"always"===M)&&x.valueAccessor.setDisabledState?.(N.disabled),function nr(N,x){x.valueAccessor.registerOnChange(M=>{N._pendingValue=M,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Gr(N,x)})}(N,x),function eo(N,x){const M=(z,Fe)=>{x.valueAccessor.writeValue(z),Fe&&x.viewToModelUpdate(z)};N.registerOnChange(M),x._registerOnDestroy(()=>{N._unregisterOnChange(M)})}(N,x),function ui(N,x){x.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Gr(N,x),"submit"!==N.updateOn&&N.markAsTouched()})}(N,x),function In(N,x){if(x.valueAccessor.setDisabledState){const M=z=>{x.valueAccessor.setDisabledState(z)};N.registerOnDisabledChange(M),x._registerOnDestroy(()=>{N._unregisterOnDisabledChange(M)})}}(N,x)}function Wt(N,x,M=!0){const z=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(z),x.valueAccessor.registerOnTouched(z)),Or(N,x),N&&(x._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function un(N,x){N.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(x)})}function On(N,x){const M=ar(N);null!==x.validator?N.setValidators(Jn(M,x.validator)):"function"==typeof M&&N.setValidators([M]);const z=ni(N);null!==x.asyncValidator?N.setAsyncValidators(Jn(z,x.asyncValidator)):"function"==typeof z&&N.setAsyncValidators([z]);const Fe=()=>N.updateValueAndValidity();un(x._rawValidators,Fe),un(x._rawAsyncValidators,Fe)}function Or(N,x){let M=!1;if(null!==N){if(null!==x.validator){const Fe=ar(N);if(Array.isArray(Fe)&&Fe.length>0){const Xt=Fe.filter(lr=>lr!==x.validator);Xt.length!==Fe.length&&(M=!0,N.setValidators(Xt))}}if(null!==x.asyncValidator){const Fe=ni(N);if(Array.isArray(Fe)&&Fe.length>0){const Xt=Fe.filter(lr=>lr!==x.asyncValidator);Xt.length!==Fe.length&&(M=!0,N.setAsyncValidators(Xt))}}}const z=()=>{};return un(x._rawValidators,z),un(x._rawAsyncValidators,z),M}function Gr(N,x){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function Is(N,x){On(N,x)}function Yi(N,x){if(!N.hasOwnProperty("model"))return!1;const M=N.model;return!!M.isFirstChange()||!Object.is(x,M.currentValue)}function po(N,x){N._syncPendingControls(),x.forEach(M=>{const z=M.control;"submit"===z.updateOn&&z._pendingChange&&(M.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}function rr(N,x){if(!x)return null;let M,z,Fe;return Array.isArray(x),x.forEach(Xt=>{Xt.constructor===Be?M=Xt:function us(N){return Object.getPrototypeOf(N.constructor)===Oe}(Xt)?z=Xt:Fe=Xt}),Fe||z||M||null}const sr={provide:qn,useExisting:(0,p.Gpc)(()=>Ti)},Cr=(()=>Promise.resolve())();let Ti=(()=>{class N extends qn{constructor(M,z,Fe){super(),this.callSetDisabledState=Fe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Pe({},Nn(M),rn(z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){Cr.then(()=>{const z=this._findContainer(M.path);M.control=z.registerControl(M.name,M.control),dt(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){Cr.then(()=>{const z=this._findContainer(M.path);z&&z.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){Cr.then(()=>{const z=this._findContainer(M.path),Fe=new Pe({});Is(Fe,M),z.registerControl(M.name,Fe),Fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){Cr.then(()=>{const z=this._findContainer(M.path);z&&z.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,z){Cr.then(()=>{this.form.get(M.path).setValue(z)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,po(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(je,10),p.Y36(_t,10),p.Y36(ur,8))},N.\u0275dir=p.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,z){1&M&&p.NdJ("submit",function(Xt){return z.onSubmit(Xt)})("reset",function(){return z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([sr]),p.qOj]}),N})();function Ir(N,x){const M=N.indexOf(x);M>-1&&N.splice(M,1)}function ls(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}const or=class extends ue{constructor(x=null,M,z){super(oe(M),ye(z,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ce(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=ls(x)?x.value:x)}setValue(x,M={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(x,M={}){this.setValue(x,M)}reset(x=this.defaultValue,M={}){this._applyFormState(x),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ir(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ir(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){ls(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},ds={provide:_r,useExisting:(0,p.Gpc)(()=>to)},li=(()=>Promise.resolve())();let to=(()=>{class N extends _r{constructor(M,z,Fe,Xt,lr,Qr){super(),this._changeDetectorRef=lr,this.callSetDisabledState=Qr,this.control=new or,this._registered=!1,this.update=new p.vpe,this._parent=M,this._setValidators(z),this._setAsyncValidators(Fe),this.valueAccessor=rr(0,Xt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const z=M.name.previousValue;this.formDirective.removeControl({name:z,path:this._getPath(z)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),Yi(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){li.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const z=M.isDisabled.currentValue,Fe=0!==z&&(0,p.D6c)(z);li.then(()=>{Fe&&!this.control.disabled?this.control.disable():!Fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?Se(M,this._parent):[M]}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(qn,9),p.Y36(je,10),p.Y36(_t,10),p.Y36(Et,10),p.Y36(p.sBO,8),p.Y36(ur,8))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([ds]),p.qOj,p.TTD]}),N})(),go=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275dir=p.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Xn={provide:Et,useExisting:(0,p.Gpc)(()=>no),multi:!0};let no=(()=>{class N extends Oe{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=z=>{M(""==z?null:parseFloat(z))}}}return N.\u0275fac=function(){let x;return function(z){return(x||(x=p.n5z(N)))(z||N)}}(),N.\u0275dir=p.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,z){1&M&&p.NdJ("input",function(Xt){return z.onChange(Xt.target.value)})("blur",function(){return z.onTouched()})},features:[p._Bn([Xn]),p.qOj]}),N})(),ro=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({}),N})();const ci=new p.OlP("NgModelWithFormControlWarning"),Ss={provide:qn,useExisting:(0,p.Gpc)(()=>Zi)};let Zi=(()=>{class N extends qn{constructor(M,z,Fe){super(),this.callSetDisabledState=Fe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(M),this._setAsyncValidators(z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const z=this.form.get(M.path);return dt(z,M,this.callSetDisabledState),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),z}getControl(M){return this.form.get(M.path)}removeControl(M){Wt(M.control||null,M,!1),function Ut(N,x){const M=N.indexOf(x);M>-1&&N.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,z){this.form.get(M.path).setValue(z)}onSubmit(M){return this.submitted=!0,po(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const z=M.control,Fe=this.form.get(M.path);z!==Fe&&(Wt(z||null,M),(N=>N instanceof or)(Fe)&&(dt(Fe,M,this.callSetDisabledState),M.control=Fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const z=this.form.get(M.path);Is(z,M),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const z=this.form.get(M.path);z&&function Ts(N,x){return Or(N,x)}(z,M)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){On(this.form,this),this._oldForm&&Or(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(je,10),p.Y36(_t,10),p.Y36(ur,8))},N.\u0275dir=p.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(M,z){1&M&&p.NdJ("submit",function(Xt){return z.onSubmit(Xt)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ss]),p.qOj,p.TTD]}),N})();const cu={provide:_r,useExisting:(0,p.Gpc)(()=>ji)};let ji=(()=>{class N extends _r{set isDisabled(M){}constructor(M,z,Fe,Xt,lr){super(),this._ngModelWarningConfig=lr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(z),this._setAsyncValidators(Fe),this.valueAccessor=rr(0,Xt)}ngOnChanges(M){this._added||this._setUpControl(),Yi(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Se(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(M){return new(M||N)(p.Y36(qn,13),p.Y36(je,10),p.Y36(_t,10),p.Y36(Et,10),p.Y36(ci,8))},N.\u0275dir=p.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([cu]),p.qOj,p.TTD]}),N})();const Gs={provide:Et,useExisting:(0,p.Gpc)(()=>hs),multi:!0};function aa(N,x){return null==N?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${N}: ${x}`.slice(0,50))}let hs=(()=>{class N extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const Fe=aa(this._getOptionId(M),M);this.setProperty("value",Fe)}registerOnChange(M){this.onChange=z=>{this.value=this._getOptionValue(z),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z),M))return z;return null}_getOptionValue(M){const z=function _o(N){return N.split(":")[0]}(M);return this._optionMap.has(z)?this._optionMap.get(z):M}}return N.\u0275fac=function(){let x;return function(z){return(x||(x=p.n5z(N)))(z||N)}}(),N.\u0275dir=p.lG2({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,z){1&M&&p.NdJ("change",function(Xt){return z.onChange(Xt.target.value)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Gs]),p.qOj]}),N})(),Qo=(()=>{class N{constructor(M,z,Fe){this._element=M,this._renderer=z,this._select=Fe,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(aa(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(hs,9))},N.\u0275dir=p.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const ja={provide:Et,useExisting:(0,p.Gpc)(()=>Hi),multi:!0};function io(N,x){return null==N?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${N}: ${x}`.slice(0,50))}let Hi=(()=>{class N extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let z;if(this.value=M,Array.isArray(M)){const Fe=M.map(Xt=>this._getOptionId(Xt));z=(Xt,lr)=>{Xt._setSelected(Fe.indexOf(lr.toString())>-1)}}else z=(Fe,Xt)=>{Fe._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(M){this.onChange=z=>{const Fe=[],Xt=z.selectedOptions;if(void 0!==Xt){const lr=Xt;for(let Qr=0;Qr<lr.length;Qr++){const Pn=this._getOptionValue(lr[Qr].value);Fe.push(Pn)}}else{const lr=z.options;for(let Qr=0;Qr<lr.length;Qr++){const rt=lr[Qr];if(rt.selected){const Pn=this._getOptionValue(rt.value);Fe.push(Pn)}}}this.value=Fe,M(Fe)}}_registerOption(M){const z=(this._idCounter++).toString();return this._optionMap.set(z,M),z}_getOptionId(M){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z)._value,M))return z;return null}_getOptionValue(M){const z=function du(N){return N.split(":")[0]}(M);return this._optionMap.has(z)?this._optionMap.get(z)._value:M}}return N.\u0275fac=function(){let x;return function(z){return(x||(x=p.n5z(N)))(z||N)}}(),N.\u0275dir=p.lG2({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,z){1&M&&p.NdJ("change",function(Xt){return z.onChange(Xt.target)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ja]),p.qOj]}),N})(),vo=(()=>{class N{constructor(M,z,Fe){this._element=M,this._renderer=z,this._select=Fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(io(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(io(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(M){return new(M||N)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Hi,9))},N.\u0275dir=p.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})(),es=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[ro]}),N})(),Lo=(()=>{class N{static withConfig(M){return{ngModule:N,providers:[{provide:ur,useValue:M.callSetDisabledState??Ue}]}}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[es]}),N})(),gn=(()=>{class N{static withConfig(M){return{ngModule:N,providers:[{provide:ci,useValue:M.warnOnNgModelWithFormControl??"always"},{provide:ur,useValue:M.callSetDisabledState??Ue}]}}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({imports:[es]}),N})()},1481:(fn,ct,q)=>{q.d(ct,{Dx:()=>Cn,H7:()=>oe,b2:()=>_r,q6:()=>Br,se:()=>bt});var p=q(6895),W=q(8256);class K extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends K{static makeCurrent(){(0,p.HT)(new Ce)}onAndCancel(ie,Q,ue){return ie.addEventListener(Q,ue,!1),()=>{ie.removeEventListener(Q,ue,!1)}}dispatchEvent(ie,Q){ie.dispatchEvent(Q)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,Q){return(Q=Q||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,Q){return"window"===Q?window:"document"===Q?ie:"body"===Q?ie.body:null}getBaseHref(ie){const Q=function ke(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==Q?null:function It(ce){Je=Je||document.createElement("a"),Je.setAttribute("href",ce);const ie=Je.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(Q)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,p.Mx)(document.cookie,ie)}}let Je,J=null;const st=new W.OlP("TRANSITION_ID"),pe=[{provide:W.ip1,useFactory:function le(ce,ie,Q){return()=>{Q.get(W.CZH).donePromise.then(()=>{const ue=(0,p.q)(),Pe=ie.querySelectorAll(`style[ng-transition="${ce}"]`);for(let ut=0;ut<Pe.length;ut++)ue.remove(Pe[ut])})}},deps:[st,p.K0,W.zs3],multi:!0}];let Dt=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Oe=new W.OlP("EventManagerPlugins");let Et=(()=>{class ce{constructor(Q,ue){this._zone=ue,this._eventNameToPlugin=new Map,Q.forEach(Pe=>{Pe.manager=this}),this._plugins=Q.slice().reverse()}addEventListener(Q,ue,Pe){return this._findPluginFor(ue).addEventListener(Q,ue,Pe)}addGlobalEventListener(Q,ue,Pe){return this._findPluginFor(ue).addGlobalEventListener(Q,ue,Pe)}getZone(){return this._zone}_findPluginFor(Q){const ue=this._eventNameToPlugin.get(Q);if(ue)return ue;const Pe=this._plugins;for(let ut=0;ut<Pe.length;ut++){const Rt=Pe[ut];if(Rt.supports(Q))return this._eventNameToPlugin.set(Q,Rt),Rt}throw new Error(`No event manager plugin found for event ${Q}`)}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(Oe),W.LFG(W.R0b))},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Ht{constructor(ie){this._doc=ie}addGlobalEventListener(ie,Q,ue){const Pe=(0,p.q)().getGlobalEventTarget(this._doc,ie);if(!Pe)throw new Error(`Unsupported event target ${Pe} for event ${Q}`);return this.addEventListener(Pe,Q,ue)}}let en=(()=>{class ce{constructor(){this.usageCount=new Map}addStyles(Q){for(const ue of Q)1===this.changeUsageCount(ue,1)&&this.onStyleAdded(ue)}removeStyles(Q){for(const ue of Q)0===this.changeUsageCount(ue,-1)&&this.onStyleRemoved(ue)}onStyleRemoved(Q){}onStyleAdded(Q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Q,ue){const Pe=this.usageCount;let ut=Pe.get(Q)??0;return ut+=ue,ut>0?Pe.set(Q,ut):Pe.delete(Q),ut}ngOnDestroy(){for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.usageCount.clear()}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Qt=(()=>{class ce extends en{constructor(Q){super(),this.doc=Q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Q){for(const ue of this.hostNodes)this.addStyleToHost(ue,Q)}onStyleRemoved(Q){const ue=this.styleRef;ue.get(Q)?.forEach(ut=>ut.remove()),ue.delete(Q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Q){this.hostNodes.add(Q);for(const ue of this.getAllStyles())this.addStyleToHost(Q,ue)}removeHost(Q){this.hostNodes.delete(Q)}addStyleToHost(Q,ue){const Pe=this.doc.createElement("style");Pe.textContent=ue,Q.appendChild(Pe);const ut=this.styleRef.get(ue);ut?ut.push(Pe):this.styleRef.set(ue,[Pe])}resetHostNodes(){const Q=this.hostNodes;Q.clear(),Q.add(this.doc.head)}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(p.K0))},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const xn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,_t=new W.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Kt(ce,ie){return ie.flat(100).map(Q=>Q.replace(At,ce))}function Qe(ce){return ie=>{if("__ngUnwrap__"===ie)return ce;!1===ce(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let bt=(()=>{class ce{constructor(Q,ue,Pe,ut){this.eventManager=Q,this.sharedStylesHost=ue,this.appId=Pe,this.removeStylesOnCompDestory=ut,this.rendererByCompId=new Map,this.defaultRenderer=new xe(Q)}createRenderer(Q,ue){if(!Q||!ue)return this.defaultRenderer;const Pe=this.getOrCreateRenderer(Q,ue);return Pe instanceof Pt?Pe.applyToHost(Q):Pe instanceof lt&&Pe.applyStyles(),Pe}getOrCreateRenderer(Q,ue){const Pe=this.rendererByCompId;let ut=Pe.get(ue.id);if(!ut){const Rt=this.eventManager,Ot=this.sharedStylesHost,Un=this.removeStylesOnCompDestory;switch(ue.encapsulation){case W.ifc.Emulated:ut=new Pt(Rt,Ot,ue,this.appId,Un);break;case W.ifc.ShadowDom:return new Tt(Rt,Ot,Q,ue);default:ut=new lt(Rt,Ot,ue,Un)}ut.onDestroy=()=>Pe.delete(ue.id),Pe.set(ue.id,ut)}return ut}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(Et),W.LFG(Qt),W.LFG(W.AFp),W.LFG(_t))},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class xe{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,Q){return Q?document.createElementNS(xn[Q]||Q,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,Q){(at(ie)?ie.content:ie).appendChild(Q)}insertBefore(ie,Q,ue){ie&&(at(ie)?ie.content:ie).insertBefore(Q,ue)}removeChild(ie,Q){ie&&ie.removeChild(Q)}selectRootElement(ie,Q){let ue="string"==typeof ie?document.querySelector(ie):ie;if(!ue)throw new Error(`The selector "${ie}" did not match any elements`);return Q||(ue.textContent=""),ue}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,Q,ue,Pe){if(Pe){Q=Pe+":"+Q;const ut=xn[Pe];ut?ie.setAttributeNS(ut,Q,ue):ie.setAttribute(Q,ue)}else ie.setAttribute(Q,ue)}removeAttribute(ie,Q,ue){if(ue){const Pe=xn[ue];Pe?ie.removeAttributeNS(Pe,Q):ie.removeAttribute(`${ue}:${Q}`)}else ie.removeAttribute(Q)}addClass(ie,Q){ie.classList.add(Q)}removeClass(ie,Q){ie.classList.remove(Q)}setStyle(ie,Q,ue,Pe){Pe&(W.JOm.DashCase|W.JOm.Important)?ie.style.setProperty(Q,ue,Pe&W.JOm.Important?"important":""):ie.style[Q]=ue}removeStyle(ie,Q,ue){ue&W.JOm.DashCase?ie.style.removeProperty(Q):ie.style[Q]=""}setProperty(ie,Q,ue){ie[Q]=ue}setValue(ie,Q){ie.nodeValue=Q}listen(ie,Q,ue){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,Q,Qe(ue)):this.eventManager.addEventListener(ie,Q,Qe(ue))}}function at(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Tt extends xe{constructor(ie,Q,ue,Pe){super(ie),this.sharedStylesHost=Q,this.hostEl=ue,this.shadowRoot=ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ut=Kt(Pe.id,Pe.styles);for(const Rt of ut){const Ot=document.createElement("style");Ot.textContent=Rt,this.shadowRoot.appendChild(Ot)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,Q){return super.appendChild(this.nodeOrShadowRoot(ie),Q)}insertBefore(ie,Q,ue){return super.insertBefore(this.nodeOrShadowRoot(ie),Q,ue)}removeChild(ie,Q){return super.removeChild(this.nodeOrShadowRoot(ie),Q)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lt extends xe{constructor(ie,Q,ue,Pe,ut=ue.id){super(ie),this.sharedStylesHost=Q,this.removeStylesOnCompDestory=Pe,this.rendererUsageCount=0,this.styles=Kt(ut,ue.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Pt extends lt{constructor(ie,Q,ue,Pe,ut){const Rt=Pe+"-"+ue.id;super(ie,Q,ue,ut,Rt),this.contentAttr=function nt(ce){return"_ngcontent-%COMP%".replace(At,ce)}(Rt),this.hostAttr=function Lt(ce){return"_nghost-%COMP%".replace(At,ce)}(Rt)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,Q){const ue=super.createElement(ie,Q);return super.setAttribute(ue,this.contentAttr,""),ue}}let Ge=(()=>{class ce extends Ht{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,ue,Pe){return Q.addEventListener(ue,Pe,!1),()=>this.removeEventListener(Q,ue,Pe)}removeEventListener(Q,ue,Pe){return Q.removeEventListener(ue,Pe)}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(p.K0))},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const pt=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Te={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Ze=(()=>{class ce extends Ht{constructor(Q){super(Q)}supports(Q){return null!=ce.parseEventName(Q)}addEventListener(Q,ue,Pe){const ut=ce.parseEventName(ue),Rt=ce.eventCallback(ut.fullKey,Pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(Q,ut.domEventName,Rt))}static parseEventName(Q){const ue=Q.toLowerCase().split("."),Pe=ue.shift();if(0===ue.length||"keydown"!==Pe&&"keyup"!==Pe)return null;const ut=ce._normalizeKey(ue.pop());let Rt="",Ot=ue.indexOf("code");if(Ot>-1&&(ue.splice(Ot,1),Rt="code."),pt.forEach(ur=>{const Ue=ue.indexOf(ur);Ue>-1&&(ue.splice(Ue,1),Rt+=ur+".")}),Rt+=ut,0!=ue.length||0===ut.length)return null;const Un={};return Un.domEventName=Pe,Un.fullKey=Rt,Un}static matchEventFullKeyCode(Q,ue){let Pe=he[Q.key]||Q.key,ut="";return ue.indexOf("code.")>-1&&(Pe=Q.code,ut="code."),!(null==Pe||!Pe)&&(Pe=Pe.toLowerCase()," "===Pe?Pe="space":"."===Pe&&(Pe="dot"),pt.forEach(Rt=>{Rt!==Pe&&(0,Te[Rt])(Q)&&(ut+=Rt+".")}),ut+=Pe,ut===ue)}static eventCallback(Q,ue,Pe){return ut=>{ce.matchEventFullKeyCode(ut,Q)&&Pe.runGuarded(()=>ue(ut))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(p.K0))},ce.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Br=(0,W.eFA)(W._c5,"browser",[{provide:W.Lbi,useValue:p.bD},{provide:W.g9A,useValue:function ar(){Ce.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function er(){return(0,W.RDi)(document),document},deps:[]}]),Vt=new W.OlP(""),tr=[{provide:W.rWj,useClass:class Ae{addToWindow(ie){W.dqk.getAngularTestability=(ue,Pe=!0)=>{const ut=ie.findTestabilityInTree(ue,Pe);if(null==ut)throw new Error("Could not find testability for element.");return ut},W.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),W.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),W.dqk.frameworkStabilizers||(W.dqk.frameworkStabilizers=[]),W.dqk.frameworkStabilizers.push(ue=>{const Pe=W.dqk.getAllAngularTestabilities();let ut=Pe.length,Rt=!1;const Ot=function(Un){Rt=Rt||Un,ut--,0==ut&&ue(Rt)};Pe.forEach(function(Un){Un.whenStable(Ot)})})}findTestabilityInTree(ie,Q,ue){return null==Q?null:ie.getTestability(Q)??(ue?(0,p.q)().isShadowRoot(Q)?this.findTestabilityInTree(ie,Q.host,!0):this.findTestabilityInTree(ie,Q.parentElement,!0):null)}},deps:[]},{provide:W.lri,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]},{provide:W.dDg,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]}],qn=[{provide:W.zSh,useValue:"root"},{provide:W.qLn,useFactory:function ni(){return new W.qLn},deps:[]},{provide:Oe,useClass:Ge,multi:!0,deps:[p.K0,W.R0b,W.Lbi]},{provide:Oe,useClass:Ze,multi:!0,deps:[p.K0]},{provide:bt,useClass:bt,deps:[Et,Qt,W.AFp,_t]},{provide:W.FYo,useExisting:bt},{provide:en,useExisting:Qt},{provide:Qt,useClass:Qt,deps:[p.K0]},{provide:Et,useClass:Et,deps:[Oe,W.R0b]},{provide:p.JF,useClass:Dt,deps:[]},[]];let _r=(()=>{class ce{constructor(Q){}static withServerTransition(Q){return{ngModule:ce,providers:[{provide:W.AFp,useValue:Q.appId},{provide:st,useExisting:W.AFp},pe]}}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(Vt,12))},ce.\u0275mod=W.oAB({type:ce}),ce.\u0275inj=W.cJS({providers:[...qn,...tr],imports:[p.ez,W.hGG]}),ce})(),Cn=(()=>{class ce{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(p.K0))},ce.\u0275prov=W.Yz7({token:ce,factory:function(Q){let ue=null;return ue=Q?new Q:function Kr(){return new Cn((0,W.LFG)(p.K0))}(),ue},providedIn:"root"}),ce})();typeof window<"u"&&window;let oe=(()=>{class ce{}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=W.Yz7({token:ce,factory:function(Q){let ue=null;return ue=Q?new(Q||ce):W.LFG(ye),ue},providedIn:"root"}),ce})(),ye=(()=>{class ce extends oe{constructor(Q){super(),this._doc=Q}sanitize(Q,ue){if(null==ue)return null;switch(Q){case W.q3G.NONE:return ue;case W.q3G.HTML:return(0,W.qzn)(ue,"HTML")?(0,W.z3N)(ue):(0,W.EiD)(this._doc,String(ue)).toString();case W.q3G.STYLE:return(0,W.qzn)(ue,"Style")?(0,W.z3N)(ue):ue;case W.q3G.SCRIPT:if((0,W.qzn)(ue,"Script"))return(0,W.z3N)(ue);throw new Error("unsafe value used in a script context");case W.q3G.URL:return(0,W.qzn)(ue,"URL")?(0,W.z3N)(ue):(0,W.mCW)(String(ue));case W.q3G.RESOURCE_URL:if((0,W.qzn)(ue,"ResourceURL"))return(0,W.z3N)(ue);throw new Error(`unsafe value used in a resource URL context (see ${W.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Q} (see ${W.JZr})`)}}bypassSecurityTrustHtml(Q){return(0,W.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,W.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,W.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,W.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,W.pB0)(Q)}}return ce.\u0275fac=function(Q){return new(Q||ce)(W.LFG(p.K0))},ce.\u0275prov=W.Yz7({token:ce,factory:function(Q){let ue=null;return ue=Q?new Q:function be(ce){return new ye(ce.get(p.K0))}(W.LFG(W.zs3)),ue},providedIn:"root"}),ce})()},5450:(fn,ct,q)=>{q.d(ct,{rH:()=>Wa,Bz:()=>ta,lC:()=>Ji});var p=q(8256),W=q(8996),K=q(9646),Ce=q(7579);class J extends Ce.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const f=super._subscribe(v);return!f.closed&&v.next(this._value),f}getValue(){const{hasError:v,thrownError:f,_value:T}=this;if(v)throw f;return this._throwIfClosed(),T}next(v){super.next(this._value=v)}}const Je=(0,q(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var It=q(9751),st=q(4742),le=q(4671),pe=q(3268),Ae=q(7669),Dt=q(1810),Oe=q(5403),Et=q(9672);function Ht(...y){const v=(0,Ae.yG)(y),f=(0,Ae.jO)(y),{args:T,keys:P}=(0,st.D)(y);if(0===T.length)return(0,W.D)([],v);const B=new It.y(function en(y,v,f=le.y){return T=>{Qt(v,()=>{const{length:P}=y,B=new Array(P);let G=P,_e=P;for(let Xe=0;Xe<P;Xe++)Qt(v,()=>{const jt=(0,W.D)(y[Xe],v);let $t=!1;jt.subscribe((0,Oe.x)(T,zn=>{B[Xe]=zn,$t||($t=!0,_e--),_e||T.next(f(B.slice()))},()=>{--G||T.complete()}))},T)},T)}}(T,v,P?G=>(0,Dt.n)(P,G):le.y));return f?B.pipe((0,pe.Z)(f)):B}function Qt(y,v,f){y?(0,Et.f)(f,y,v):v()}var xn=q(8189);function Be(...y){return function At(){return(0,xn.J)(1)}()((0,W.D)(y,(0,Ae.yG)(y)))}var ve=q(8421);function Ke(y){return new It.y(v=>{(0,ve.Xf)(y()).subscribe(v)})}var mt=q(9635),je=q(576);function _t(y,v){const f=(0,je.m)(y)?y:()=>y,T=P=>P.error(f());return new It.y(v?P=>v.schedule(T,0,P):T)}var nt=q(515),Lt=q(727),Kt=q(4482);function Qe(){return(0,Kt.e)((y,v)=>{let f=null;y._refCount++;const T=(0,Oe.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(f=null);const P=y._connection,B=f;f=null,P&&(!B||P===B)&&P.unsubscribe(),v.unsubscribe()});y.subscribe(T),T.closed||(f=y.connect())})}class bt extends It.y{constructor(v,f){super(),this.source=v,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,Kt.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Lt.w0;const f=this.getSubject();v.add(this.source.subscribe((0,Oe.x)(f,void 0,()=>{this._teardown(),f.complete()},T=>{this._teardown(),f.error(T)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Lt.w0.EMPTY)}return v}refCount(){return Qe()(this)}}var xe=q(6895),Ee=q(4004);function He(y,v){return(0,Kt.e)((f,T)=>{let P=null,B=0,G=!1;const _e=()=>G&&!P&&T.complete();f.subscribe((0,Oe.x)(T,Xe=>{P?.unsubscribe();let jt=0;const $t=B++;(0,ve.Xf)(y(Xe,$t)).subscribe(P=(0,Oe.x)(T,zn=>T.next(v?v(Xe,zn,$t,jt++):zn),()=>{P=null,_e()}))},()=>{G=!0,_e()}))})}function at(y){return y<=0?()=>nt.E:(0,Kt.e)((v,f)=>{let T=0;v.subscribe((0,Oe.x)(f,P=>{++T<=y&&(f.next(P),y<=T&&f.complete())}))})}var lt=q(9300),Pt=q(5577);function Ge(y){return(0,Kt.e)((v,f)=>{let T=!1;v.subscribe((0,Oe.x)(f,P=>{T=!0,f.next(P)},()=>{T||f.next(y),f.complete()}))})}function pt(y=he){return(0,Kt.e)((v,f)=>{let T=!1;v.subscribe((0,Oe.x)(f,P=>{T=!0,f.next(P)},()=>T?f.complete():f.error(y())))})}function he(){return new Je}function Te(y,v){const f=arguments.length>=2;return T=>T.pipe(y?(0,lt.h)((P,B)=>y(P,B,T)):le.y,at(1),f?Ge(v):pt(()=>new Je))}var Ze=q(4351),ht=q(8505);function Nn(y){return(0,Kt.e)((v,f)=>{let B,T=null,P=!1;T=v.subscribe((0,Oe.x)(f,void 0,void 0,G=>{B=(0,ve.Xf)(y(G,Nn(y)(v))),T?(T.unsubscribe(),T=null,B.subscribe(f)):P=!0})),P&&(T.unsubscribe(),T=null,B.subscribe(f))})}function rn(y,v){return(0,Kt.e)(function Dn(y,v,f,T,P){return(B,G)=>{let _e=f,Xe=v,jt=0;B.subscribe((0,Oe.x)(G,$t=>{const zn=jt++;Xe=_e?y(Xe,$t,zn):(_e=!0,$t),T&&G.next(Xe)},P&&(()=>{_e&&G.next(Xe),G.complete()})))}}(y,v,arguments.length>=2,!0))}function Jn(y){return y<=0?()=>nt.E:(0,Kt.e)((v,f)=>{let T=[];v.subscribe((0,Oe.x)(f,P=>{T.push(P),y<T.length&&T.shift()},()=>{for(const P of T)f.next(P);f.complete()},void 0,()=>{T=null}))})}function ar(y,v){const f=arguments.length>=2;return T=>T.pipe(y?(0,lt.h)((P,B)=>y(P,B,T)):le.y,Jn(1),f?Ge(v):pt(()=>new Je))}function Nr(y){return(0,Kt.e)((v,f)=>{try{v.subscribe(f)}finally{f.add(y)}})}var Br=q(1481);const Vt="primary",tr=Symbol("RouteTitle");class qn{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f[0]:f}return null}getAll(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function _r(y){return new qn(y)}function hr(y,v,f){const T=f.path.split("/");if(T.length>y.length||"full"===f.pathMatch&&(v.hasChildren()||T.length<y.length))return null;const P={};for(let B=0;B<T.length;B++){const G=T[B],_e=y[B];if(G.startsWith(":"))P[G.substring(1)]=_e;else if(G!==_e.path)return null}return{consumed:y.slice(0,T.length),posParams:P}}function vr(y,v){const f=y?Object.keys(y):void 0,T=v?Object.keys(v):void 0;if(!f||!T||f.length!=T.length)return!1;let P;for(let B=0;B<f.length;B++)if(P=f[B],!Kr(y[P],v[P]))return!1;return!0}function Kr(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const f=[...y].sort(),T=[...v].sort();return f.every((P,B)=>T[B]===P)}return y===v}function Cn(y){return Array.prototype.concat.apply([],y)}function ot(y){return y.length>0?y[y.length-1]:null}function Hn(y,v){for(const f in y)y.hasOwnProperty(f)&&v(y[f],f)}function pn(y){return(0,p.CqO)(y)?y:(0,p.QGY)(y)?(0,W.D)(Promise.resolve(y)):(0,K.of)(y)}const fr=!1,Ii={exact:function as(y,v,f){if(!Ye(y.segments,v.segments)||!Ri(y.segments,v.segments,f)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const T in v.children)if(!y.children[T]||!as(y.children[T],v.children[T],f))return!1;return!0},subset:Zr},bn={exact:function Zn(y,v){return vr(y,v)},subset:function Vn(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(f=>Kr(y[f],v[f]))},ignored:()=>!0};function ai(y,v,f){return Ii[f.paths](y.root,v.root,f.matrixParams)&&bn[f.queryParams](y.queryParams,v.queryParams)&&!("exact"===f.fragment&&y.fragment!==v.fragment)}function Zr(y,v,f){return Hr(y,v,v.segments,f)}function Hr(y,v,f,T){if(y.segments.length>f.length){const P=y.segments.slice(0,f.length);return!(!Ye(P,f)||v.hasChildren()||!Ri(P,f,T))}if(y.segments.length===f.length){if(!Ye(y.segments,f)||!Ri(y.segments,f,T))return!1;for(const P in v.children)if(!y.children[P]||!Zr(y.children[P],v.children[P],T))return!1;return!0}{const P=f.slice(0,y.segments.length),B=f.slice(y.segments.length);return!!(Ye(y.segments,P)&&Ri(y.segments,P,T)&&y.children[Vt])&&Hr(y.children[Vt],v,B,T)}}function Ri(y,v,f){return v.every((T,P)=>bn[f](y[P].parameters,T.parameters))}class Er{constructor(v=new De([],{}),f={},T=null){this.root=v,this.queryParams=f,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class De{constructor(v,f){this.segments=v,this.children=f,this.parent=null,Hn(f,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return be(this)}}class se{constructor(v,f){this.path=v,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return ut(this)}}function Ye(y,v){return y.length===v.length&&y.every((f,T)=>f.path===v[T].path)}let X=(()=>{class y{}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return new ne},providedIn:"root"}),y})();class ne{parse(v){const f=new un(v);return new Er(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(v){const f=`/${ye(v.root,!0)}`,T=function Ot(y){const v=Object.keys(y).map(f=>{const T=y[f];return Array.isArray(T)?T.map(P=>`${ce(f)}=${ce(P)}`).join("&"):`${ce(f)}=${ce(T)}`}).filter(f=>!!f);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${f}${T}${"string"==typeof v.fragment?`#${function ie(y){return encodeURI(y)}(v.fragment)}`:""}`}}const oe=new ne;function be(y){return y.segments.map(v=>ut(v)).join("/")}function ye(y,v){if(!y.hasChildren())return be(y);if(v){const f=y.children[Vt]?ye(y.children[Vt],!1):"",T=[];return Hn(y.children,(P,B)=>{B!==Vt&&T.push(`${B}:${ye(P,!1)}`)}),T.length>0?`${f}(${T.join("//")})`:f}{const f=function et(y,v){let f=[];return Hn(y.children,(T,P)=>{P===Vt&&(f=f.concat(v(T,P)))}),Hn(y.children,(T,P)=>{P!==Vt&&(f=f.concat(v(T,P)))}),f}(y,(T,P)=>P===Vt?[ye(y.children[Vt],!1)]:[`${P}:${ye(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Vt]?`${be(y)}/${f[0]}`:`${be(y)}/(${f.join("//")})`}}function Mt(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ce(y){return Mt(y).replace(/%3B/gi,";")}function Q(y){return Mt(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ue(y){return decodeURIComponent(y)}function Pe(y){return ue(y.replace(/\+/g,"%20"))}function ut(y){return`${Q(y.path)}${function Rt(y){return Object.keys(y).map(v=>`;${Q(v)}=${Q(y[v])}`).join("")}(y.parameters)}`}const Un=/^[^\/()?;=#]+/;function ur(y){const v=y.match(Un);return v?v[0]:""}const Ue=/^[^=?&#]+/,dt=/^[^&#]+/;class un{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(v.length>0||Object.keys(f).length>0)&&(T[Vt]=new De(v,f)),T}parseSegment(){const v=ur(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new p.vHH(4009,fr);return this.capture(v),new se(ue(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const f=ur(this.remaining);if(!f)return;this.capture(f);let T="";if(this.consumeOptional("=")){const P=ur(this.remaining);P&&(T=P,this.capture(T))}v[ue(f)]=ue(T)}parseQueryParam(v){const f=function Se(y){const v=y.match(Ue);return v?v[0]:""}(this.remaining);if(!f)return;this.capture(f);let T="";if(this.consumeOptional("=")){const G=function Wt(y){const v=y.match(dt);return v?v[0]:""}(this.remaining);G&&(T=G,this.capture(T))}const P=Pe(f),B=Pe(T);if(v.hasOwnProperty(P)){let G=v[P];Array.isArray(G)||(G=[G],v[P]=G),G.push(B)}else v[P]=B}parseParens(v){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=ur(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new p.vHH(4010,fr);let B;T.indexOf(":")>-1?(B=T.slice(0,T.indexOf(":")),this.capture(B),this.capture(":")):v&&(B=Vt);const G=this.parseChildren();f[B]=1===Object.keys(G).length?G[Vt]:new De([],G),this.consumeOptional("//")}return f}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new p.vHH(4011,fr)}}function In(y){return y.segments.length>0?new De([],{[Vt]:y}):y}function On(y){const v={};for(const T of Object.keys(y.children)){const B=On(y.children[T]);(B.segments.length>0||B.hasChildren())&&(v[T]=B)}return function Or(y){if(1===y.numberOfChildren&&y.children[Vt]){const v=y.children[Vt];return new De(y.segments.concat(v.segments),v.children)}return y}(new De(y.segments,v))}function nr(y){return y instanceof Er}const ui=!1;function Ts(y,v,f,T,P){if(0===f.length)return kr(v.root,v.root,v.root,T,P);const B=function Yi(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new $r(!0,0,y);let v=0,f=!1;const T=y.reduce((P,B,G)=>{if("object"==typeof B&&null!=B){if(B.outlets){const _e={};return Hn(B.outlets,(Xe,jt)=>{_e[jt]="string"==typeof Xe?Xe.split("/"):Xe}),[...P,{outlets:_e}]}if(B.segmentPath)return[...P,B.segmentPath]}return"string"!=typeof B?[...P,B]:0===G?(B.split("/").forEach((_e,Xe)=>{0==Xe&&"."===_e||(0==Xe&&""===_e?f=!0:".."===_e?v++:""!=_e&&P.push(_e))}),P):[...P,B]},[]);return new $r(f,v,T)}(f);return B.toRoot()?kr(v.root,v.root,new De([],{}),T,P):function G(Xe){const jt=function rr(y,v,f,T){if(y.isAbsolute)return new us(v.root,!0,0);if(-1===T)return new us(f,f===v.root,0);return function Ut(y,v,f){let T=y,P=v,B=f;for(;B>P;){if(B-=P,T=T.parent,!T)throw new p.vHH(4005,ui&&"Invalid number of '../'");P=T.segments.length}return new us(T,!1,P-B)}(f,T+(Ln(y.commands[0])?0:1),y.numberOfDoubleDots)}(B,v,y.snapshot?._urlSegment,Xe),$t=jt.processChildren?Cr(jt.segmentGroup,jt.index,B.commands):sr(jt.segmentGroup,jt.index,B.commands);return kr(v.root,jt.segmentGroup,$t,T,P)}(y.snapshot?._lastPathIndex)}function Ln(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function wr(y){return"object"==typeof y&&null!=y&&y.outlets}function kr(y,v,f,T,P){let G,B={};T&&Hn(T,(Xe,jt)=>{B[jt]=Array.isArray(Xe)?Xe.map($t=>`${$t}`):`${Xe}`}),G=y===v?f:Ds(y,v,f);const _e=In(On(G));return new Er(_e,B,P)}function Ds(y,v,f){const T={};return Hn(y.children,(P,B)=>{T[B]=P===v?f:Ds(P,v,f)}),new De(y.segments,T)}class $r{constructor(v,f,T){if(this.isAbsolute=v,this.numberOfDoubleDots=f,this.commands=T,v&&T.length>0&&Ln(T[0]))throw new p.vHH(4003,ui&&"Root segment cannot have matrix parameters");const P=T.find(wr);if(P&&P!==ot(T))throw new p.vHH(4004,ui&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class us{constructor(v,f,T){this.segmentGroup=v,this.processChildren=f,this.index=T}}function sr(y,v,f){if(y||(y=new De([],{})),0===y.segments.length&&y.hasChildren())return Cr(y,v,f);const T=function Ti(y,v,f){let T=0,P=v;const B={match:!1,pathIndex:0,commandIndex:0};for(;P<y.segments.length;){if(T>=f.length)return B;const G=y.segments[P],_e=f[T];if(wr(_e))break;const Xe=`${_e}`,jt=T<f.length-1?f[T+1]:null;if(P>0&&void 0===Xe)break;if(Xe&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Yo(Xe,jt,G))return B;T+=2}else{if(!Yo(Xe,{},G))return B;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(y,v,f),P=f.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const B=new De(y.segments.slice(0,T.pathIndex),{});return B.children[Vt]=new De(y.segments.slice(T.pathIndex),y.children),Cr(B,0,P)}return T.match&&0===P.length?new De(y.segments,{}):T.match&&!y.hasChildren()?Ir(y,v,f):T.match?Cr(y,0,P):Ir(y,v,f)}function Cr(y,v,f){if(0===f.length)return new De(y.segments,{});{const T=function vn(y){return wr(y[0])?y[0].outlets:{[Vt]:y}}(f),P={};if(!T[Vt]&&y.children[Vt]&&1===y.numberOfChildren&&0===y.children[Vt].segments.length){const B=Cr(y.children[Vt],v,f);return new De(y.segments,B.children)}return Hn(T,(B,G)=>{"string"==typeof B&&(B=[B]),null!==B&&(P[G]=sr(y.children[G],v,B))}),Hn(y.children,(B,G)=>{void 0===T[G]&&(P[G]=B)}),new De(y.segments,P)}}function Ir(y,v,f){const T=y.segments.slice(0,v);let P=0;for(;P<f.length;){const B=f[P];if(wr(B)){const Xe=ls(B.outlets);return new De(T,Xe)}if(0===P&&Ln(f[0])){T.push(new se(y.segments[v].path,or(f[0]))),P++;continue}const G=wr(B)?B.outlets[Vt]:`${B}`,_e=P<f.length-1?f[P+1]:null;G&&_e&&Ln(_e)?(T.push(new se(G,or(_e))),P+=2):(T.push(new se(G,{})),P++)}return new De(T,{})}function ls(y){const v={};return Hn(y,(f,T)=>{"string"==typeof f&&(f=[f]),null!==f&&(v[T]=Ir(new De([],{}),0,f))}),v}function or(y){const v={};return Hn(y,(f,T)=>v[T]=`${f}`),v}function Yo(y,v,f){return y==f.path&&vr(v,f.parameters)}const Qi="imperative";class ln{constructor(v,f){this.id=v,this.url=f}}class Oo extends ln{constructor(v,f,T="imperative",P=null){super(v,f),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pr extends ln{constructor(v,f,T){super(v,f),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cs extends ln{constructor(v,f,T,P){super(v,f),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class br extends ln{constructor(v,f,T,P){super(v,f),this.reason=T,this.code=P,this.type=16}}class Sr extends ln{constructor(v,f,T,P){super(v,f),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ni extends ln{constructor(v,f,T,P){super(v,f),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends ln{constructor(v,f,T,P){super(v,f),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends ln{constructor(v,f,T,P,B){super(v,f),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=B,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class to extends ln{constructor(v,f,T,P){super(v,f),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends ln{constructor(v,f,T,P){super(v,f),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class no{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mo{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(v,f,T){this.routerEvent=v,this.position=f,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ci=(()=>{class y{createUrlTree(f,T,P,B,G,_e){return Ts(f||T.root,P,B,G,_e)}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})(),$i=(()=>{class y{}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:function(v){return ci.\u0275fac(v)},providedIn:"root"}),y})();class Ss{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const f=this.pathFromRoot(v);return f.length>1?f[f.length-2]:null}children(v){const f=Zi(v,this._root);return f?f.children.map(T=>T.value):[]}firstChild(v){const f=Zi(v,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(v){const f=Yr(v,this._root);return f.length<2?[]:f[f.length-2].children.map(P=>P.value).filter(P=>P!==v)}pathFromRoot(v){return Yr(v,this._root).map(f=>f.value)}}function Zi(y,v){if(y===v.value)return v;for(const f of v.children){const T=Zi(y,f);if(T)return T}return null}function Yr(y,v){if(y===v.value)return[v];for(const f of v.children){const T=Yr(y,f);if(T.length)return T.unshift(v),T}return[]}class Di{constructor(v,f){this.value=v,this.children=f}toString(){return`TreeNode(${this.value})`}}function As(y){const v={};return y&&y.children.forEach(f=>v[f.value.outlet]=f),v}class yo extends Ss{constructor(v,f){super(v),this.snapshot=f,Qo(this,v)}toString(){return this.snapshot.toString()}}function Hs(y,v){const f=function cu(y,v){const G=new _o([],{},{},"",{},Vt,v,null,y.root,-1,{});return new hs("",new Di(G,[]))}(y,v),T=new J([new se("",{})]),P=new J({}),B=new J({}),G=new J({}),_e=new J(""),Xe=new ji(T,P,G,_e,B,Vt,v,f.root);return Xe.snapshot=f.root,new yo(new Di(Xe,[]),f)}class ji{constructor(v,f,T,P,B,G,_e,Xe){this.url=v,this.params=f,this.queryParams=T,this.fragment=P,this.data=B,this.outlet=G,this.component=_e,this.title=this.data?.pipe((0,Ee.U)(jt=>jt[tr]))??(0,K.of)(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(v=>_r(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(v=>_r(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gs(y,v="emptyOnly"){const f=y.pathFromRoot;let T=0;if("always"!==v)for(T=f.length-1;T>=1;){const P=f[T],B=f[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(B.component)break;T--}}return function aa(y){return y.reduce((v,f)=>({params:{...v.params,...f.params},data:{...v.data,...f.data},resolve:{...f.data,...v.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(T))}class _o{get title(){return this.data?.[tr]}constructor(v,f,T,P,B,G,_e,Xe,jt,$t,zn){this.url=v,this.params=f,this.queryParams=T,this.fragment=P,this.data=B,this.outlet=G,this.component=_e,this.routeConfig=Xe,this._urlSegment=jt,this._lastPathIndex=$t,this._resolve=zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hs extends Ss{constructor(v,f){super(f),this.url=v,Qo(this,f)}toString(){return ja(this._root)}}function Qo(y,v){v.value._routerState=y,v.children.forEach(f=>Qo(y,f))}function ja(y){const v=y.children.length>0?` { ${y.children.map(ja).join(", ")} } `:"";return`${y.value}${v}`}function io(y){if(y.snapshot){const v=y.snapshot,f=y._futureSnapshot;y.snapshot=f,vr(v.queryParams,f.queryParams)||y.queryParams.next(f.queryParams),v.fragment!==f.fragment&&y.fragment.next(f.fragment),vr(v.params,f.params)||y.params.next(f.params),function Pr(y,v){if(y.length!==v.length)return!1;for(let f=0;f<y.length;++f)if(!vr(y[f],v[f]))return!1;return!0}(v.url,f.url)||y.url.next(f.url),vr(v.data,f.data)||y.data.next(f.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function du(y,v){const f=vr(y.params,v.params)&&function ge(y,v){return Ye(y,v)&&y.every((f,T)=>vr(f.parameters,v[T].parameters))}(y.url,v.url);return f&&!(!y.parent!=!v.parent)&&(!y.parent||du(y.parent,v.parent))}function Hi(y,v,f){if(f&&y.shouldReuseRoute(v.value,f.value.snapshot)){const T=f.value;T._futureSnapshot=v.value;const P=function vo(y,v,f){return v.children.map(T=>{for(const P of f.children)if(y.shouldReuseRoute(T.value,P.value.snapshot))return Hi(y,T,P);return Hi(y,T)})}(y,v,f);return new Di(T,P)}{if(y.shouldAttach(v.value)){const B=y.retrieve(v.value);if(null!==B){const G=B.route;return G.value._futureSnapshot=v.value,G.children=v.children.map(_e=>Hi(y,_e)),G}}const T=function so(y){return new ji(new J(y.url),new J(y.params),new J(y.queryParams),new J(y.fragment),new J(y.data),y.outlet,y.component,y)}(v.value),P=v.children.map(B=>Hi(y,B));return new Di(T,P)}}const Fo="ngNavigationCancelingError";function Ms(y,v){const{redirectTo:f,navigationBehaviorOptions:T}=nr(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,P=hu(!1,0,v);return P.url=f,P.navigationBehaviorOptions=T,P}function hu(y,v,f){const T=new Error("NavigationCancelingError: "+(y||""));return T[Fo]=!0,T.cancellationCode=v,f&&(T.url=f),T}function jr(y){return xs(y)&&nr(y.url)}function xs(y){return y&&y[Fo]}class Pi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xi,this.attachRef=null}}let Xi=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(f,T){const P=this.getOrCreateContext(f);P.outlet=T,this.contexts.set(f,P)}onChildOutletDestroyed(f){const T=this.getContext(f);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let T=this.getContext(f);return T||(T=new Pi,this.contexts.set(f,T)),T}getContext(f){return this.contexts.get(f)||null}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Eo=!1;let Ji=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Xi),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(f){if(f.name){const{firstChange:T,previousValue:P}=f.name;if(T)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Eo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Eo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Eo);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,T){this.activated=f,this._activatedRoute=T,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,T){if(this.isActivated)throw new p.vHH(4013,Eo);this._activatedRoute=f;const P=this.location,G=f.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,Xe=new zs(f,_e,P.injector);if(T&&function ri(y){return!!y.resolveComponentFactory}(T)){const jt=T.resolveComponentFactory(G);this.activated=P.createComponent(jt,P.length,Xe)}else this.activated=P.createComponent(G,{index:P.length,injector:Xe,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275dir=p.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),y})();class zs{constructor(v,f,T){this.route=v,this.childContexts=f,this.parent=T}get(v,f){return v===ji?this.route:v===Xi?this.childContexts:this.parent.get(v,f)}}let Ws=(()=>{class y{}return y.\u0275fac=function(f){return new(f||y)},y.\u0275cmp=p.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(f,T){1&f&&p._UZ(0,"router-outlet")},dependencies:[Ji],encapsulation:2}),y})();function fs(y,v){return y.providers&&!y._injector&&(y._injector=(0,p.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function es(y){const v=y.children&&y.children.map(es),f=v?{...y,children:v}:{...y};return!f.component&&!f.loadComponent&&(v||f.loadChildren)&&f.outlet&&f.outlet!==Vt&&(f.component=Ws),f}function ii(y){return y.outlet||Vt}function Rs(y,v){const f=y.filter(T=>ii(T)===v);return f.push(...y.filter(T=>ii(T)!==v)),f}function Ar(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const f=v.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class To{constructor(v,f,T,P){this.routeReuseStrategy=v,this.futureState=f,this.currState=T,this.forwardEvent=P}activate(v){const f=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,T,v),io(this.futureState.root),this.activateChildRoutes(f,T,v)}deactivateChildRoutes(v,f,T){const P=As(f);v.children.forEach(B=>{const G=B.value.outlet;this.deactivateRoutes(B,P[G],T),delete P[G]}),Hn(P,(B,G)=>{this.deactivateRouteAndItsChildren(B,T)})}deactivateRoutes(v,f,T){const P=v.value,B=f?f.value:null;if(P===B)if(P.component){const G=T.getContext(P.outlet);G&&this.deactivateChildRoutes(v,f,G.children)}else this.deactivateChildRoutes(v,f,T);else B&&this.deactivateRouteAndItsChildren(f,T)}deactivateRouteAndItsChildren(v,f){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,f):this.deactivateRouteAndOutlet(v,f)}detachAndStoreRouteSubtree(v,f){const T=f.getContext(v.value.outlet),P=T&&v.value.component?T.children:f,B=As(v);for(const G of Object.keys(B))this.deactivateRouteAndItsChildren(B[G],P);if(T&&T.outlet){const G=T.outlet.detach(),_e=T.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:G,route:v,contexts:_e})}}deactivateRouteAndOutlet(v,f){const T=f.getContext(v.value.outlet),P=T&&v.value.component?T.children:f,B=As(v);for(const G of Object.keys(B))this.deactivateRouteAndItsChildren(B[G],P);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(v,f,T){const P=As(f);v.children.forEach(B=>{this.activateRoutes(B,P[B.value.outlet],T),this.forwardEvent(new bs(B.value.snapshot))}),v.children.length&&this.forwardEvent(new Cs(v.value.snapshot))}activateRoutes(v,f,T){const P=v.value,B=f?f.value:null;if(io(P),P===B)if(P.component){const G=T.getOrCreateContext(P.outlet);this.activateChildRoutes(v,f,G.children)}else this.activateChildRoutes(v,f,T);else if(P.component){const G=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const _e=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),G.children.onOutletReAttached(_e.contexts),G.attachRef=_e.componentRef,G.route=_e.route.value,G.outlet&&G.outlet.attach(_e.componentRef,_e.route.value),io(_e.route.value),this.activateChildRoutes(v,null,G.children)}else{const _e=Ar(P.snapshot),Xe=_e?.get(p._Vd)??null;G.attachRef=null,G.route=P,G.resolver=Xe,G.injector=_e,G.outlet&&G.outlet.activateWith(P,G.injector),this.activateChildRoutes(v,null,G.children)}}else this.activateChildRoutes(v,null,T)}}class oo{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Oi{constructor(v,f){this.component=v,this.route=f}}function ua(y,v,f){const T=y._root;return N(T,v?v._root:null,f,[T.value])}function gn(y,v){const f=Symbol(),T=v.get(y,f);return T===f?"function"!=typeof y||(0,p.Z0I)(y)?v.get(y):y:T}function N(y,v,f,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=As(v);return y.children.forEach(G=>{(function x(y,v,f,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=y.value,G=v?v.value:null,_e=f?f.getContext(y.value.outlet):null;if(G&&B.routeConfig===G.routeConfig){const Xe=function M(y,v,f){if("function"==typeof f)return f(y,v);switch(f){case"pathParamsChange":return!Ye(y.url,v.url);case"pathParamsOrQueryParamsChange":return!Ye(y.url,v.url)||!vr(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!du(y,v)||!vr(y.queryParams,v.queryParams);default:return!du(y,v)}}(G,B,B.routeConfig.runGuardsAndResolvers);Xe?P.canActivateChecks.push(new oo(T)):(B.data=G.data,B._resolvedData=G._resolvedData),N(y,v,B.component?_e?_e.children:null:f,T,P),Xe&&_e&&_e.outlet&&_e.outlet.isActivated&&P.canDeactivateChecks.push(new Oi(_e.outlet.component,G))}else G&&z(v,_e,P),P.canActivateChecks.push(new oo(T)),N(y,null,B.component?_e?_e.children:null:f,T,P)})(G,B[G.value.outlet],f,T.concat([G.value]),P),delete B[G.value.outlet]}),Hn(B,(G,_e)=>z(G,f.getContext(_e),P)),P}function z(y,v,f){const T=As(y),P=y.value;Hn(T,(B,G)=>{z(B,P.component?v?v.children.getContext(G):null:v,f)}),f.canDeactivateChecks.push(new Oi(P.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,P))}function Fe(y){return"function"==typeof y}function Jo(y){return y instanceof Je||"EmptyError"===y?.name}const ki=Symbol("INITIAL_VALUE");function Lr(){return He(y=>Ht(y.map(v=>v.pipe(at(1),function Tt(...y){const v=(0,Ae.yG)(y);return(0,Kt.e)((f,T)=>{(v?Be(y,f,v):Be(y,f)).subscribe(T)})}(ki)))).pipe((0,Ee.U)(v=>{for(const f of v)if(!0!==f){if(f===ki)return ki;if(!1===f||f instanceof Er)return f}return!0}),(0,lt.h)(v=>v!==ki),at(1)))}function E(y){return(0,mt.z)((0,ht.b)(v=>{if(nr(v))throw Ms(0,v)}),(0,Ee.U)(v=>!0===v))}const $={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y(y,v,f,T,P){const B=ae(y,v,f);return B.matched?function R(y,v,f,T){const P=v.canMatch;if(!P||0===P.length)return(0,K.of)(!0);const B=P.map(G=>{const _e=gn(G,y);return pn(function ao(y){return y&&Fe(y.canMatch)}(_e)?_e.canMatch(v,f):y.runInContext(()=>_e(v,f)))});return(0,K.of)(B).pipe(Lr(),E())}(T=fs(v,T),v,f).pipe((0,Ee.U)(G=>!0===G?B:{...$})):(0,K.of)(B)}function ae(y,v,f){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||f.length>0)?{...$}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const P=(v.matcher||hr)(f,y,v);if(!P)return{...$};const B={};Hn(P.posParams,(_e,Xe)=>{B[Xe]=_e.path});const G=P.consumed.length>0?{...B,...P.consumed[P.consumed.length-1].parameters}:B;return{matched:!0,consumedSegments:P.consumed,remainingSegments:f.slice(P.consumed.length),parameters:G,positionalParamSegments:P.posParams??{}}}function de(y,v,f,T){if(f.length>0&&function Bt(y,v,f){return f.some(T=>Sn(y,v,T)&&ii(T)!==Vt)}(y,f,T)){const B=new De(v,function We(y,v,f,T){const P={};P[Vt]=T,T._sourceSegment=y,T._segmentIndexShift=v.length;for(const B of f)if(""===B.path&&ii(B)!==Vt){const G=new De([],{});G._sourceSegment=y,G._segmentIndexShift=v.length,P[ii(B)]=G}return P}(y,v,T,new De(f,y.children)));return B._sourceSegment=y,B._segmentIndexShift=v.length,{segmentGroup:B,slicedSegments:[]}}if(0===f.length&&function qt(y,v,f){return f.some(T=>Sn(y,v,T))}(y,f,T)){const B=new De(y.segments,function Re(y,v,f,T,P){const B={};for(const G of T)if(Sn(y,f,G)&&!P[ii(G)]){const _e=new De([],{});_e._sourceSegment=y,_e._segmentIndexShift=v.length,B[ii(G)]=_e}return{...P,...B}}(y,v,f,T,y.children));return B._sourceSegment=y,B._segmentIndexShift=v.length,{segmentGroup:B,slicedSegments:f}}const P=new De(y.segments,y.children);return P._sourceSegment=y,P._segmentIndexShift=v.length,{segmentGroup:P,slicedSegments:f}}function Sn(y,v,f){return(!(y.hasChildren()||v.length>0)||"full"!==f.pathMatch)&&""===f.path}function wn(y,v,f,T){return!!(ii(y)===T||T!==Vt&&Sn(v,f,y))&&("**"===y.path||ae(v,y,f).matched)}function hn(y,v,f){return 0===v.length&&!y.children[f]}const yn=!1;class Yn{constructor(v){this.segmentGroup=v||null}}class cr{constructor(v){this.urlTree=v}}function gr(y){return _t(new Yn(y))}function fi(y){return _t(new cr(y))}class Bn{constructor(v,f,T,P,B){this.injector=v,this.configLoader=f,this.urlSerializer=T,this.urlTree=P,this.config=B,this.allowRedirects=!0}apply(){const v=de(this.urlTree.root,[],[],this.config).segmentGroup,f=new De(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,f,Vt).pipe((0,Ee.U)(B=>this.createUrlTree(On(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nn(B=>{if(B instanceof cr)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof Yn?this.noMatchError(B):B}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,Vt).pipe((0,Ee.U)(P=>this.createUrlTree(On(P),v.queryParams,v.fragment))).pipe(Nn(P=>{throw P instanceof Yn?this.noMatchError(P):P}))}noMatchError(v){return new p.vHH(4002,yn)}createUrlTree(v,f,T){const P=In(v);return new Er(P,f,T)}expandSegmentGroup(v,f,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(v,f,T).pipe((0,Ee.U)(B=>new De([],B))):this.expandSegment(v,T,f,T.segments,P,!0)}expandChildren(v,f,T){const P=[];for(const B of Object.keys(T.children))"primary"===B?P.unshift(B):P.push(B);return(0,W.D)(P).pipe((0,Ze.b)(B=>{const G=T.children[B],_e=Rs(f,B);return this.expandSegmentGroup(v,_e,G,B).pipe((0,Ee.U)(Xe=>({segment:Xe,outlet:B})))}),rn((B,G)=>(B[G.outlet]=G.segment,B),{}),ar())}expandSegment(v,f,T,P,B,G){return(0,W.D)(T).pipe((0,Ze.b)(_e=>this.expandSegmentAgainstRoute(v,f,T,_e,P,B,G).pipe(Nn(jt=>{if(jt instanceof Yn)return(0,K.of)(null);throw jt}))),Te(_e=>!!_e),Nn((_e,Xe)=>{if(Jo(_e))return hn(f,P,B)?(0,K.of)(new De([],{})):gr(f);throw _e}))}expandSegmentAgainstRoute(v,f,T,P,B,G,_e){return wn(P,f,B,G)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(v,f,P,B,G):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,f,T,P,B,G):gr(f):gr(f)}expandSegmentAgainstRouteUsingRedirect(v,f,T,P,B,G){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,T,P,G):this.expandRegularSegmentAgainstRouteUsingRedirect(v,f,T,P,B,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,f,T,P){const B=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?fi(B):this.lineralizeSegments(T,B).pipe((0,Pt.z)(G=>{const _e=new De(G,{});return this.expandSegment(v,_e,f,G,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,f,T,P,B,G){const{matched:_e,consumedSegments:Xe,remainingSegments:jt,positionalParamSegments:$t}=ae(f,P,B);if(!_e)return gr(f);const zn=this.applyRedirectCommands(Xe,P.redirectTo,$t);return P.redirectTo.startsWith("/")?fi(zn):this.lineralizeSegments(P,zn).pipe((0,Pt.z)(vi=>this.expandSegment(v,f,T,vi.concat(jt),G,!1)))}matchSegmentAgainstRoute(v,f,T,P,B){return"**"===T.path?(v=fs(T,v),T.loadChildren?(T._loadedRoutes?(0,K.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(v,T)).pipe((0,Ee.U)(_e=>(T._loadedRoutes=_e.routes,T._loadedInjector=_e.injector,new De(P,{})))):(0,K.of)(new De(P,{}))):Y(f,T,P,v).pipe(He(({matched:G,consumedSegments:_e,remainingSegments:Xe})=>G?this.getChildConfig(v=T._injector??v,T,P).pipe((0,Pt.z)($t=>{const zn=$t.injector??v,vi=$t.routes,{segmentGroup:So,slicedSegments:Ks}=de(f,_e,Xe,vi),jo=new De(So.segments,So.children);if(0===Ks.length&&jo.hasChildren())return this.expandChildren(zn,vi,jo).pipe((0,Ee.U)(Pf=>new De(_e,Pf)));if(0===vi.length&&0===Ks.length)return(0,K.of)(new De(_e,{}));const Wi=ii(T)===B;return this.expandSegment(zn,jo,vi,Ks,Wi?Vt:B,!0).pipe((0,Ee.U)(Za=>new De(_e.concat(Za.segments),Za.children)))})):gr(f)))}getChildConfig(v,f,T){return f.children?(0,K.of)({routes:f.children,injector:v}):f.loadChildren?void 0!==f._loadedRoutes?(0,K.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function _(y,v,f,T){const P=v.canLoad;if(void 0===P||0===P.length)return(0,K.of)(!0);const B=P.map(G=>{const _e=gn(G,y);return pn(function lr(y){return y&&Fe(y.canLoad)}(_e)?_e.canLoad(v,f):y.runInContext(()=>_e(v,f)))});return(0,K.of)(B).pipe(Lr(),E())}(v,f,T).pipe((0,Pt.z)(P=>P?this.configLoader.loadChildren(v,f).pipe((0,ht.b)(B=>{f._loadedRoutes=B.routes,f._loadedInjector=B.injector})):function zr(y){return _t(hu(yn,3))}())):(0,K.of)({routes:[],injector:v})}lineralizeSegments(v,f){let T=[],P=f.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,K.of)(T);if(P.numberOfChildren>1||!P.children[Vt])return v.redirectTo,_t(new p.vHH(4e3,yn));P=P.children[Vt]}}applyRedirectCommands(v,f,T){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),v,T)}applyRedirectCreateUrlTree(v,f,T,P){const B=this.createSegmentGroup(v,f.root,T,P);return new Er(B,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(v,f){const T={};return Hn(v,(P,B)=>{if("string"==typeof P&&P.startsWith(":")){const _e=P.substring(1);T[B]=f[_e]}else T[B]=P}),T}createSegmentGroup(v,f,T,P){const B=this.createSegments(v,f.segments,T,P);let G={};return Hn(f.children,(_e,Xe)=>{G[Xe]=this.createSegmentGroup(v,_e,T,P)}),new De(B,G)}createSegments(v,f,T,P){return f.map(B=>B.path.startsWith(":")?this.findPosParam(v,B,P):this.findOrReturn(B,T))}findPosParam(v,f,T){const P=T[f.path.substring(1)];if(!P)throw new p.vHH(4001,yn);return P}findOrReturn(v,f){let T=0;for(const P of f){if(P.path===v.path)return f.splice(T),P;T++}return v}}class L{}class re{constructor(v,f,T,P,B,G,_e){this.injector=v,this.rootComponentType=f,this.config=T,this.urlTree=P,this.url=B,this.paramsInheritanceStrategy=G,this.urlSerializer=_e}recognize(){const v=de(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,Vt).pipe((0,Ee.U)(f=>{if(null===f)return null;const T=new _o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Di(T,f),B=new hs(this.url,P);return this.inheritParamsAndData(B._root),B}))}inheritParamsAndData(v){const f=v.value,T=Gs(f,this.paramsInheritanceStrategy);f.params=Object.freeze(T.params),f.data=Object.freeze(T.data),v.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(v,f,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(v,f,T):this.processSegment(v,f,T,T.segments,P)}processChildren(v,f,T){return(0,W.D)(Object.keys(T.children)).pipe((0,Ze.b)(P=>{const B=T.children[P],G=Rs(f,P);return this.processSegmentGroup(v,G,B,P)}),rn((P,B)=>P&&B?(P.push(...B),P):null),function ni(y,v=!1){return(0,Kt.e)((f,T)=>{let P=0;f.subscribe((0,Oe.x)(T,B=>{const G=y(B,P++);(G||v)&&T.next(B),!G&&T.complete()}))})}(P=>null!==P),Ge(null),ar(),(0,Ee.U)(P=>{if(null===P)return null;const B=Ct(P);return function Le(y){y.sort((v,f)=>v.value.outlet===Vt?-1:f.value.outlet===Vt?1:v.value.outlet.localeCompare(f.value.outlet))}(B),B}))}processSegment(v,f,T,P,B){return(0,W.D)(f).pipe((0,Ze.b)(G=>this.processSegmentAgainstRoute(G._injector??v,G,T,P,B)),Te(G=>!!G),Nn(G=>{if(Jo(G))return hn(T,P,B)?(0,K.of)([]):(0,K.of)(null);throw G}))}processSegmentAgainstRoute(v,f,T,P,B){if(f.redirectTo||!wn(f,T,P,B))return(0,K.of)(null);let G;if("**"===f.path){const _e=P.length>0?ot(P).parameters:{},Xe=sn(T)+P.length,jt=new _o(P,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(f),ii(f),f.component??f._loadedComponent??null,f,tn(T),Xe,mr(f));G=(0,K.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]})}else G=Y(T,f,P,v).pipe((0,Ee.U)(({matched:_e,consumedSegments:Xe,remainingSegments:jt,parameters:$t})=>{if(!_e)return null;const zn=sn(T)+Xe.length;return{snapshot:new _o(Xe,$t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(f),ii(f),f.component??f._loadedComponent??null,f,tn(T),zn,mr(f)),consumedSegments:Xe,remainingSegments:jt}}));return G.pipe(He(_e=>{if(null===_e)return(0,K.of)(null);const{snapshot:Xe,consumedSegments:jt,remainingSegments:$t}=_e;v=f._injector??v;const zn=f._loadedInjector??v,vi=function tt(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(f),{segmentGroup:So,slicedSegments:Ks}=de(T,jt,$t,vi.filter(Wi=>void 0===Wi.redirectTo));if(0===Ks.length&&So.hasChildren())return this.processChildren(zn,vi,So).pipe((0,Ee.U)(Wi=>null===Wi?null:[new Di(Xe,Wi)]));if(0===vi.length&&0===Ks.length)return(0,K.of)([new Di(Xe,[])]);const jo=ii(f)===B;return this.processSegment(zn,vi,So,Ks,jo?Vt:B).pipe((0,Ee.U)(Wi=>null===Wi?null:[new Di(Xe,Wi)]))}))}}function qe(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Ct(y){const v=[],f=new Set;for(const T of y){if(!qe(T)){v.push(T);continue}const P=v.find(B=>T.value.routeConfig===B.value.routeConfig);void 0!==P?(P.children.push(...T.children),f.add(P)):v.push(T)}for(const T of f){const P=Ct(T.children);v.push(new Di(T.value,P))}return v.filter(T=>!f.has(T))}function tn(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function sn(y){let v=y,f=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,f+=v._segmentIndexShift??0;return f-1}function En(y){return y.data||{}}function mr(y){return y.resolve||{}}function Os(y){return"string"==typeof y.title||null===y.title}function Vo(y){return He(v=>{const f=y(v);return f?(0,W.D)(f).pipe((0,Ee.U)(()=>v)):(0,K.of)(v)})}const lo=new p.OlP("ROUTES");let pu=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,K.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const T=pn(f.loadComponent()).pipe((0,Ee.U)(Ha),(0,ht.b)(B=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=B}),Nr(()=>{this.componentLoaders.delete(f)})),P=new bt(T,()=>new Ce.x).pipe(Qe());return this.componentLoaders.set(f,P),P}loadChildren(f,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,K.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const B=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Ee.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(T);let Xe,jt,$t=!1;Array.isArray(_e)?jt=_e:(Xe=_e.create(f).injector,jt=Cn(Xe.get(lo,[],p.XFs.Self|p.XFs.Optional)));return{routes:jt.map(es),injector:Xe}}),Nr(()=>{this.childrenLoaders.delete(T)})),G=new bt(B,()=>new Ce.x).pipe(Qe());return this.childrenLoaders.set(T,G),G}loadModuleFactoryOrRoutes(f){return pn(f()).pipe((0,Ee.U)(Ha),(0,Pt.z)(T=>T instanceof p.YKP||Array.isArray(T)?(0,K.of)(T):(0,W.D)(this.compiler.compileModuleAsync(T))))}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ha(y){return function Ed(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let gu=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.configLoader=(0,p.f3M)(pu),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(X),this.rootContexts=(0,p.f3M)(Xi),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new no(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new Xn(P))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:T})}setupNavigations(f){return this.transitions=new J({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,lt.h)(T=>0!==T.id),(0,Ee.U)(T=>({...T,extractedUrl:f.urlHandlingStrategy.extract(T.rawUrl)})),He(T=>{let P=!1,B=!1;return(0,K.of)(T).pipe((0,ht.b)(G=>{this.currentNavigation={id:G.id,initialUrl:G.rawUrl,extractedUrl:G.extractedUrl,trigger:G.source,extras:G.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),He(G=>{const _e=f.browserUrlTree.toString(),Xe=!f.navigated||G.extractedUrl.toString()!==_e||_e!==f.currentUrlTree.toString();if(!Xe&&"reload"!==(G.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const $t="";return this.events.next(new br(G.id,f.serializeUrl(T.rawUrl),$t,0)),f.rawUrlTree=G.rawUrl,G.resolve(null),nt.E}if(f.urlHandlingStrategy.shouldProcessUrl(G.rawUrl))return Il(G.source)&&(f.browserUrlTree=G.extractedUrl),(0,K.of)(G).pipe(He($t=>{const zn=this.transitions?.getValue();return this.events.next(new Oo($t.id,this.urlSerializer.serialize($t.extractedUrl),$t.source,$t.restoredState)),zn!==this.transitions?.getValue()?nt.E:Promise.resolve($t)}),function uo(y,v,f,T){return He(P=>function bi(y,v,f,T,P){return new Bn(y,v,f,T,P).apply()}(y,v,f,P.extractedUrl,T).pipe((0,Ee.U)(B=>({...P,urlAfterRedirects:B}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,ht.b)($t=>{this.currentNavigation={...this.currentNavigation,finalUrl:$t.urlAfterRedirects},T.urlAfterRedirects=$t.urlAfterRedirects}),function Qn(y,v,f,T,P){return(0,Pt.z)(B=>function j(y,v,f,T,P,B,G="emptyOnly"){return new re(y,v,f,T,P,G,B).recognize().pipe(He(_e=>null===_e?function A(y){return new It.y(v=>v.error(y))}(new L):(0,K.of)(_e)))}(y,v,f,B.urlAfterRedirects,T.serialize(B.urlAfterRedirects),T,P).pipe((0,Ee.U)(G=>({...B,targetSnapshot:G}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,ht.b)($t=>{if(T.targetSnapshot=$t.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!$t.extras.skipLocationChange){const vi=f.urlHandlingStrategy.merge($t.urlAfterRedirects,$t.rawUrl);f.setBrowserUrl(vi,$t)}f.browserUrlTree=$t.urlAfterRedirects}const zn=new Ni($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(zn)}));if(Xe&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:$t,extractedUrl:zn,source:vi,restoredState:So,extras:Ks}=G,jo=new Oo($t,this.urlSerializer.serialize(zn),vi,So);this.events.next(jo);const Wi=Hs(zn,this.rootComponentType).snapshot;return T={...G,targetSnapshot:Wi,urlAfterRedirects:zn,extras:{...Ks,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(T)}{const $t="";return this.events.next(new br(G.id,f.serializeUrl(T.extractedUrl),$t,1)),f.rawUrlTree=G.rawUrl,G.resolve(null),nt.E}}),(0,ht.b)(G=>{const _e=new ds(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(_e)}),(0,Ee.U)(G=>T={...G,guards:ua(G.targetSnapshot,G.currentSnapshot,this.rootContexts)}),function Do(y,v){return(0,Pt.z)(f=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:B,canDeactivateChecks:G}}=f;return 0===G.length&&0===B.length?(0,K.of)({...f,guardsResult:!0}):function la(y,v,f,T){return(0,W.D)(y).pipe((0,Pt.z)(P=>function V(y,v,f,T,P){const B=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,K.of)(!0);const G=B.map(_e=>{const Xe=Ar(v)??P,jt=gn(_e,Xe);return pn(function Pn(y){return y&&Fe(y.canDeactivate)}(jt)?jt.canDeactivate(y,v,f,T):Xe.runInContext(()=>jt(y,v,f,T))).pipe(Te())});return(0,K.of)(G).pipe(Lr())}(P.component,P.route,f,v,T)),Te(P=>!0!==P,!0))}(G,T,P,y).pipe((0,Pt.z)(_e=>_e&&function Xt(y){return"boolean"==typeof y}(_e)?function Aa(y,v,f,T){return(0,W.D)(v).pipe((0,Ze.b)(P=>Be(function ca(y,v){return null!==y&&v&&v(new mo(y)),(0,K.of)(!0)}(P.route.parent,T),function fu(y,v){return null!==y&&v&&v(new ro(y)),(0,K.of)(!0)}(P.route,T),function Mr(y,v,f){const T=v[v.length-1],B=v.slice(0,v.length-1).reverse().map(G=>function Lo(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(G)).filter(G=>null!==G).map(G=>Ke(()=>{const _e=G.guards.map(Xe=>{const jt=Ar(G.node)??f,$t=gn(Xe,jt);return pn(function rt(y){return y&&Fe(y.canActivateChild)}($t)?$t.canActivateChild(T,y):jt.runInContext(()=>$t(T,y))).pipe(Te())});return(0,K.of)(_e).pipe(Lr())}));return(0,K.of)(B).pipe(Lr())}(y,P.path,f),function zi(y,v,f){const T=v.routeConfig?v.routeConfig.canActivate:null;if(!T||0===T.length)return(0,K.of)(!0);const P=T.map(B=>Ke(()=>{const G=Ar(v)??f,_e=gn(B,G);return pn(function Qr(y){return y&&Fe(y.canActivate)}(_e)?_e.canActivate(v,y):G.runInContext(()=>_e(v,y))).pipe(Te())}));return(0,K.of)(P).pipe(Lr())}(y,P.route,f))),Te(P=>!0!==P,!0))}(T,B,y,v):(0,K.of)(_e)),(0,Ee.U)(_e=>({...f,guardsResult:_e})))})}(this.environmentInjector,G=>this.events.next(G)),(0,ht.b)(G=>{if(T.guardsResult=G.guardsResult,nr(G.guardsResult))throw Ms(0,G.guardsResult);const _e=new li(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot,!!G.guardsResult);this.events.next(_e)}),(0,lt.h)(G=>!!G.guardsResult||(f.restoreHistory(G),this.cancelNavigationTransition(G,"",3),!1)),Vo(G=>{if(G.guards.canActivateChecks.length)return(0,K.of)(G).pipe((0,ht.b)(_e=>{const Xe=new to(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Xe)}),He(_e=>{let Xe=!1;return(0,K.of)(_e).pipe(function Ns(y,v){return(0,Pt.z)(f=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=f;if(!P.length)return(0,K.of)(f);let B=0;return(0,W.D)(P).pipe((0,Ze.b)(G=>function Co(y,v,f,T){const P=y.routeConfig,B=y._resolve;return void 0!==P?.title&&!Os(P)&&(B[tr]=P.title),function xr(y,v,f,T){const P=function Ps(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===P.length)return(0,K.of)({});const B={};return(0,W.D)(P).pipe((0,Pt.z)(G=>function Fi(y,v,f,T){const P=Ar(v)??T,B=gn(y,P);return pn(B.resolve?B.resolve(v,f):P.runInContext(()=>B(v,f)))}(y[G],v,f,T).pipe(Te(),(0,ht.b)(_e=>{B[G]=_e}))),Jn(1),function er(y){return(0,Ee.U)(()=>y)}(B),Nn(G=>Jo(G)?nt.E:_t(G)))}(B,y,v,T).pipe((0,Ee.U)(G=>(y._resolvedData=G,y.data=Gs(y,f).resolve,P&&Os(P)&&(y.data[tr]=P.title),null)))}(G.route,T,y,v)),(0,ht.b)(()=>B++),Jn(1),(0,Pt.z)(G=>B===P.length?(0,K.of)(f):nt.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,ht.b)({next:()=>Xe=!0,complete:()=>{Xe||(f.restoreHistory(_e),this.cancelNavigationTransition(_e,"",2))}}))}),(0,ht.b)(_e=>{const Xe=new go(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Xe)}))}),Vo(G=>{const _e=Xe=>{const jt=[];Xe.routeConfig?.loadComponent&&!Xe.routeConfig._loadedComponent&&jt.push(this.configLoader.loadComponent(Xe.routeConfig).pipe((0,ht.b)($t=>{Xe.component=$t}),(0,Ee.U)(()=>{})));for(const $t of Xe.children)jt.push(..._e($t));return jt};return Ht(_e(G.targetSnapshot.root)).pipe(Ge(),at(1))}),Vo(()=>this.afterPreactivation()),(0,Ee.U)(G=>{const _e=function Zo(y,v,f){const T=Hi(y,v._root,f?f._root:void 0);return new yo(T,v)}(f.routeReuseStrategy,G.targetSnapshot,G.currentRouterState);return T={...G,targetRouterState:_e}}),(0,ht.b)(G=>{f.currentUrlTree=G.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),f.routerState=G.targetRouterState,"deferred"===f.urlUpdateStrategy&&(G.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,G),f.browserUrlTree=G.urlAfterRedirects)}),((y,v,f)=>(0,Ee.U)(T=>(new To(v,T.targetRouterState,T.currentRouterState,f).activate(y),T)))(this.rootContexts,f.routeReuseStrategy,G=>this.events.next(G)),at(1),(0,ht.b)({next:G=>{P=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new pr(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(G.targetRouterState.snapshot),G.resolve(!0)},complete:()=>{P=!0}}),Nr(()=>{P||B||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),Nn(G=>{if(B=!0,xs(G)){jr(G)||(f.navigated=!0,f.restoreHistory(T,!0));const _e=new cs(T.id,this.urlSerializer.serialize(T.extractedUrl),G.message,G.cancellationCode);if(this.events.next(_e),jr(G)){const Xe=f.urlHandlingStrategy.merge(G.url,f.rawUrlTree),jt={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||Il(T.source)};f.scheduleNavigation(Xe,Qi,null,jt,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{f.restoreHistory(T,!0);const _e=new Sr(T.id,this.urlSerializer.serialize(T.extractedUrl),G,T.targetSnapshot??void 0);this.events.next(_e);try{T.resolve(f.errorHandler(G))}catch(Xe){T.reject(Xe)}}return nt.E}))}))}cancelNavigationTransition(f,T,P){const B=new cs(f.id,this.urlSerializer.serialize(f.extractedUrl),T,P);this.events.next(B),f.resolve(!1)}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Il(y){return y!==Qi}let Ga=(()=>{class y{buildTitle(f){let T,P=f.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(B=>B.outlet===Vt);return T}getResolvedTitleForRoute(f){return f.data[tr]}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(bf)},providedIn:"root"}),y})(),bf=(()=>{class y extends Ga{constructor(f){super(),this.title=f}updateTitle(f){const T=this.buildTitle(f);void 0!==T&&this.title.setTitle(T)}}return y.\u0275fac=function(f){return new(f||y)(p.LFG(Br.Dx))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Sf=(()=>{class y{}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Tl)},providedIn:"root"}),y})();class Pu{shouldDetach(v){return!1}store(v,f){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,f){return v.routeConfig===f.routeConfig}}let Tl=(()=>{class y extends Pu{}return y.\u0275fac=function(){let v;return function(T){return(v||(v=p.n5z(y)))(T||y)}}(),y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Jr=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class y{}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(za)},providedIn:"root"}),y})(),za=(()=>{class y{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,T){return f}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function mu(y){throw y}function ts(y,v,f){return v.parse("/")}const Af={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ku={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ks=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Jr,{optional:!0})||{},this.errorHandler=this.options.errorHandler||mu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ts,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ou),this.routeReuseStrategy=(0,p.f3M)(Sf),this.urlCreationStrategy=(0,p.f3M)($i),this.titleStrategy=(0,p.f3M)(Ga),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cn((0,p.f3M)(lo,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(gu),this.urlSerializer=(0,p.f3M)(X),this.location=(0,p.f3M)(xe.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId??0},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qi,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const T="popstate"===f.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,T,f.state)},0)}))}navigateToSyncWithBrowser(f,T,P){const B={replaceUrl:!0},G=P?.navigationId?P:null;if(P){const Xe={...P};delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(B.state=Xe)}const _e=this.parseUrl(f);this.scheduleNavigation(_e,T,G,B)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,T={}){const{relativeTo:P,queryParams:B,fragment:G,queryParamsHandling:_e,preserveFragment:Xe}=T,jt=Xe?this.currentUrlTree.fragment:G;let $t=null;switch(_e){case"merge":$t={...this.currentUrlTree.queryParams,...B};break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=B||null}return null!==$t&&($t=this.removeEmptyProps($t)),this.urlCreationStrategy.createUrlTree(P,this.routerState,this.currentUrlTree,f,$t,jt??null)}navigateByUrl(f,T={skipLocationChange:!1}){const P=nr(f)?f:this.parseUrl(f),B=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(B,Qi,null,T)}navigate(f,T={skipLocationChange:!1}){return function yu(y){for(let v=0;v<y.length;v++){const f=y[v];if(null==f)throw new p.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,T),T)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let T;try{T=this.urlSerializer.parse(f)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,f)}return T}isActive(f,T){let P;if(P=!0===T?{...Af}:!1===T?{...ku}:T,nr(f))return ai(this.currentUrlTree,f,P);const B=this.parseUrl(f);return ai(this.currentUrlTree,B,P)}removeEmptyProps(f){return Object.keys(f).reduce((T,P)=>{const B=f[P];return null!=B&&(T[P]=B),T},{})}scheduleNavigation(f,T,P,B,G){if(this.disposed)return Promise.resolve(!1);let _e,Xe,jt,$t;return G?(_e=G.resolve,Xe=G.reject,jt=G.promise):jt=new Promise((zn,vi)=>{_e=zn,Xe=vi}),$t="computed"===this.canceledNavigationResolution?P&&P.\u0275routerPageId?P.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:$t,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:B,resolve:_e,reject:Xe,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(zn=>Promise.reject(zn))}setBrowserUrl(f,T){const P=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl){const G={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(P,"",G)}else{const B={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.go(P,"",B)}}restoreHistory(f,T=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-(this.browserPageId??this.currentPageId);0!==B?this.location.historyGo(B):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===B&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,T){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:T}:{navigationId:f}}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Wa=(()=>{class y{constructor(f,T,P,B,G,_e){this.router=f,this.route=T,this.tabIndexAttribute=P,this.renderer=B,this.el=G,this.locationStrategy=_e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ce.x;const Xe=G.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xe||"area"===Xe,this.isAnchorElement?this.subscription=f.events.subscribe(jt=>{jt instanceof pr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,p.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,p.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,p.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,T,P,B,G){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||T||P||B||G||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,T){const P=this.renderer,B=this.el.nativeElement;null!==T?P.setAttribute(B,f,T):P.removeAttribute(B,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(f){return new(f||y)(p.Y36(ks),p.Y36(ji),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(xe.S$))},y.\u0275dir=p.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,T){1&f&&p.NdJ("click",function(B){return T.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&f&&p.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),y})();class ha{}let Lu=(()=>{class y{constructor(f,T,P,B,G){this.router=f,this.injector=P,this.preloadingStrategy=B,this.loader=G}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(f=>f instanceof pr),(0,Ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,T){const P=[];for(const B of T){B.providers&&!B._injector&&(B._injector=(0,p.MMx)(B.providers,f,`Route: ${B.path}`));const G=B._injector??f,_e=B._loadedInjector??G;(B.loadChildren&&!B._loadedRoutes&&void 0===B.canLoad||B.loadComponent&&!B._loadedComponent)&&P.push(this.preloadConfig(G,B)),(B.children||B._loadedRoutes)&&P.push(this.processRoutes(_e,B.children??B._loadedRoutes))}return(0,W.D)(P).pipe((0,xn.J)())}preloadConfig(f,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(f,T):(0,K.of)(null);const B=P.pipe((0,Pt.z)(G=>null===G?(0,K.of)(void 0):(T._loadedRoutes=G.routes,T._loadedInjector=G.injector,this.processRoutes(G.injector??f,G.routes))));if(T.loadComponent&&!T._loadedComponent){const G=this.loader.loadComponent(T);return(0,W.D)([B,G]).pipe((0,xn.J)())}return B})}}return y.\u0275fac=function(f){return new(f||y)(p.LFG(ks),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ha),p.LFG(pu))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ma=new p.OlP("");let Vu=(()=>{class y{constructor(f,T,P,B,G={}){this.urlSerializer=f,this.transitions=T,this.viewportScroller=P,this.zone=B,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof pr&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof js&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new js(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(f){p.$Z()},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})();var qs=(()=>((qs=qs||{})[qs.COMPLETE=0]="COMPLETE",qs[qs.FAILED=1]="FAILED",qs[qs.REDIRECTING=2]="REDIRECTING",qs))();const qa=!1;function ms(y,v){return{\u0275kind:y,\u0275providers:v}}const fa=new p.OlP("",{providedIn:"root",factory:()=>!1});function Uo(){const y=(0,p.f3M)(p.zs3);return v=>{const f=y.get(p.z2F);if(v!==f.components[0])return;const T=y.get(ks),P=y.get(wd);1===y.get(Dl)&&T.initialNavigation(),y.get(Id,null,p.XFs.Optional)?.setUpPreloading(),y.get(Ma,null,p.XFs.Optional)?.init(),T.resetRootComponentType(f.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const wd=new p.OlP(qa?"bootstrap done indicator":"",{factory:()=>new Ce.x}),Dl=new p.OlP(qa?"initial navigation":"",{providedIn:"root",factory:()=>1});function uc(){let y=[];return y=qa?[{provide:p.Xts,multi:!0,useFactory:()=>{const v=(0,p.f3M)(ks);return()=>v.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(function Xr(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(f)),console.log(f),console.groupEnd?.()})}}]:[],ms(1,y)}const Id=new p.OlP(qa?"router preloader":"");function lc(y){return ms(0,[{provide:Id,useExisting:Lu},{provide:ha,useExisting:y}])}const bo=!1,Cl=new p.OlP(bo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),pi=[xe.Ye,{provide:X,useClass:ne},ks,Xi,{provide:ji,useFactory:function Uu(y){return y.routerState.root},deps:[ks]},pu,bo?{provide:fa,useValue:!0}:[]];function $u(){return new p.PXZ("Router",ks)}let ta=(()=>{class y{constructor(f){}static forRoot(f,T){return{ngModule:y,providers:[pi,bo&&T?.enableTracing?uc().\u0275providers:[],{provide:lo,multi:!0,useValue:f},{provide:Cl,useFactory:Ya,deps:[[ks,new p.FiY,new p.tp0]]},{provide:Jr,useValue:T||{}},T?.useHash?{provide:xe.S$,useClass:xe.Do}:{provide:xe.S$,useClass:xe.b0},{provide:Ma,useFactory:()=>{const y=(0,p.f3M)(xe.EM),v=(0,p.f3M)(p.R0b),f=(0,p.f3M)(Jr),T=(0,p.f3M)(gu),P=(0,p.f3M)(X);return f.scrollOffset&&y.setOffset(f.scrollOffset),new Vu(P,T,y,v,f)}},T?.preloadingStrategy?lc(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:$u},T?.initialNavigation?Qa(T):[],[{provide:Bo,useFactory:Uo},{provide:p.tb,multi:!0,useExisting:Bo}]]}}static forChild(f){return{ngModule:y,providers:[{provide:lo,multi:!0,useValue:f}]}}}return y.\u0275fac=function(f){return new(f||y)(p.LFG(Cl,8))},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[Ws]}),y})();function Ya(y){if(bo&&y)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Qa(y){return["disabled"===y.initialNavigation?ms(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const v=(0,p.f3M)(ks);return()=>{v.setUpLocationChangeListener()}}},{provide:Dl,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ms(2,[{provide:Dl,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:v=>{const f=v.get(xe.V_,Promise.resolve());return()=>f.then(()=>new Promise(T=>{const P=v.get(ks),B=v.get(wd);(function sc(y,v){y.events.pipe((0,lt.h)(f=>f instanceof pr||f instanceof cs||f instanceof Sr||f instanceof br),(0,Ee.U)(f=>f instanceof pr||f instanceof br?qs.COMPLETE:f instanceof cs&&(0===f.code||1===f.code)?qs.REDIRECTING:qs.FAILED),(0,lt.h)(f=>f!==qs.REDIRECTING),at(1)).subscribe(()=>{v()})})(P,()=>{T(!0)}),v.get(gu).afterPreactivation=()=>(T(!0),B.closed?(0,K.of)(void 0):B),P.initialNavigation()}))}}]).\u0275providers:[]]}const Bo=new p.OlP(bo?"Router Initializer":"")},6881:(fn,ct,q)=>{q.d(ct,{Jn:()=>as,qX:()=>pn,Xd:()=>Hn,Mq:()=>Zr,C6:()=>Hr,ZF:()=>Vn,KN:()=>De});var p=q(5861),W=q(4859),K=q(1877),Ce=q(2090);const J=(Ue,Se)=>Se.some(dt=>Ue instanceof dt);let ke,Je;const le=new WeakMap,pe=new WeakMap,Ae=new WeakMap,Dt=new WeakMap,Oe=new WeakMap;let en={get(Ue,Se,dt){if(Ue instanceof IDBTransaction){if("done"===Se)return pe.get(Ue);if("objectStoreNames"===Se)return Ue.objectStoreNames||Ae.get(Ue);if("store"===Se)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Be(Ue[Se])},set:(Ue,Se,dt)=>(Ue[Se]=dt,!0),has:(Ue,Se)=>Ue instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Ue};function At(Ue){return"function"==typeof Ue?function xn(Ue){return Ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function st(){return Je||(Je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ue)?function(...Se){return Ue.apply(ve(this),Se),Be(le.get(this))}:function(...Se){return Be(Ue.apply(ve(this),Se))}:function(Se,...dt){const Wt=Ue.call(ve(this),Se,...dt);return Ae.set(Wt,Se.sort?Se.sort():[Se]),Be(Wt)}}(Ue):(Ue instanceof IDBTransaction&&function Ht(Ue){if(pe.has(Ue))return;const Se=new Promise((dt,Wt)=>{const un=()=>{Ue.removeEventListener("complete",In),Ue.removeEventListener("error",On),Ue.removeEventListener("abort",On)},In=()=>{dt(),un()},On=()=>{Wt(Ue.error||new DOMException("AbortError","AbortError")),un()};Ue.addEventListener("complete",In),Ue.addEventListener("error",On),Ue.addEventListener("abort",On)});pe.set(Ue,Se)}(Ue),J(Ue,function It(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ue,en):Ue)}function Be(Ue){if(Ue instanceof IDBRequest)return function Et(Ue){const Se=new Promise((dt,Wt)=>{const un=()=>{Ue.removeEventListener("success",In),Ue.removeEventListener("error",On)},In=()=>{dt(Be(Ue.result)),un()},On=()=>{Wt(Ue.error),un()};Ue.addEventListener("success",In),Ue.addEventListener("error",On)});return Se.then(dt=>{dt instanceof IDBCursor&&le.set(dt,Ue)}).catch(()=>{}),Oe.set(Se,Ue),Se}(Ue);if(Dt.has(Ue))return Dt.get(Ue);const Se=At(Ue);return Se!==Ue&&(Dt.set(Ue,Se),Oe.set(Se,Ue)),Se}const ve=Ue=>Oe.get(Ue),je=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],nt=new Map;function Lt(Ue,Se){if(!(Ue instanceof IDBDatabase)||Se in Ue||"string"!=typeof Se)return;if(nt.get(Se))return nt.get(Se);const dt=Se.replace(/FromIndex$/,""),Wt=Se!==dt,un=_t.includes(dt);if(!(dt in(Wt?IDBIndex:IDBObjectStore).prototype)||!un&&!je.includes(dt))return;const In=function(){var On=(0,p.Z)(function*(Or,...nr){const ui=this.transaction(Or,un?"readwrite":"readonly");let Gr=ui.store;return Wt&&(Gr=Gr.index(nr.shift())),(yield Promise.all([Gr[dt](...nr),un&&ui.done]))[0]});return function(nr){return On.apply(this,arguments)}}();return nt.set(Se,In),In}!function Qt(Ue){en=Ue(en)}(Ue=>({...Ue,get:(Se,dt,Wt)=>Lt(Se,dt)||Ue.get(Se,dt,Wt),has:(Se,dt)=>!!Lt(Se,dt)||Ue.has(Se,dt)}));class Kt{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function Qe(Ue){return"VERSION"===Ue.getComponent()?.type}(dt)){const Wt=dt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(dt=>dt).join(" ")}}const bt="@firebase/app",Ee=new K.Yd("@firebase/app"),Pr="[DEFAULT]",vr={[bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kr=new Map,Cn=new Map;function ot(Ue,Se){try{Ue.container.addComponent(Se)}catch(dt){Ee.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ue.name}`,dt)}}function Hn(Ue){const Se=Ue.name;if(Cn.has(Se))return Ee.debug(`There were multiple attempts to register component ${Se}.`),!1;Cn.set(Se,Ue);for(const dt of Kr.values())ot(dt,Ue);return!0}function pn(Ue,Se){const dt=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),Ue.container.getProvider(Se)}const ai=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(Se,dt,Wt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const as="9.21.0";function Vn(Ue,Se={}){let dt=Ue;"object"!=typeof Se&&(Se={name:Se});const Wt=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},Se),un=Wt.name;if("string"!=typeof un||!un)throw ai.create("bad-app-name",{appName:String(un)});if(dt||(dt=(0,Ce.aH)()),!dt)throw ai.create("no-options");const In=Kr.get(un);if(In){if((0,Ce.vZ)(dt,In.options)&&(0,Ce.vZ)(Wt,In.config))return In;throw ai.create("duplicate-app",{appName:un})}const On=new W.H0(un);for(const nr of Cn.values())On.addComponent(nr);const Or=new Zn(dt,Wt,On);return Kr.set(un,Or),Or}function Zr(Ue=Pr){const Se=Kr.get(Ue);if(!Se&&Ue===Pr)return Vn();if(!Se)throw ai.create("no-app",{appName:Ue});return Se}function Hr(){return Array.from(Kr.values())}function De(Ue,Se,dt){var Wt;let un=null!==(Wt=vr[Ue])&&void 0!==Wt?Wt:Ue;dt&&(un+=`-${dt}`);const In=un.match(/\s|\//),On=Se.match(/\s|\//);if(In||On){const Or=[`Unable to register library "${un}" with version "${Se}":`];return In&&Or.push(`library name "${un}" contains illegal characters (whitespace or "/")`),In&&On&&Or.push("and"),On&&Or.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Ee.warn(Or.join(" "))}Hn(new W.wA(`${un}-version`,()=>({library:un,version:Se}),"VERSION"))}const Ye="firebase-heartbeat-database",et=1,X="firebase-heartbeat-store";let ne=null;function oe(){return ne||(ne=function Ke(Ue,Se,{blocked:dt,upgrade:Wt,blocking:un,terminated:In}={}){const On=indexedDB.open(Ue,Se),Or=Be(On);return Wt&&On.addEventListener("upgradeneeded",nr=>{Wt(Be(On.result),nr.oldVersion,nr.newVersion,Be(On.transaction),nr)}),dt&&On.addEventListener("blocked",nr=>dt(nr.oldVersion,nr.newVersion,nr)),Or.then(nr=>{In&&nr.addEventListener("close",()=>In()),un&&nr.addEventListener("versionchange",ui=>un(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),Or}(Ye,et,{upgrade:(Ue,Se)=>{0===Se&&Ue.createObjectStore(X)}}).catch(Ue=>{throw ai.create("idb-open",{originalErrorMessage:Ue.message})})),ne}function ye(){return(ye=(0,p.Z)(function*(Ue){try{return(yield oe()).transaction(X).objectStore(X).get(ie(Ue))}catch(Se){if(Se instanceof Ce.ZR)Ee.warn(Se.message);else{const dt=ai.create("idb-get",{originalErrorMessage:Se?.message});Ee.warn(dt.message)}}})).apply(this,arguments)}function Mt(Ue,Se){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(Ue,Se){try{const Wt=(yield oe()).transaction(X,"readwrite");return yield Wt.objectStore(X).put(Se,ie(Ue)),Wt.done}catch(dt){if(dt instanceof Ce.ZR)Ee.warn(dt.message);else{const Wt=ai.create("idb-set",{originalErrorMessage:dt?.message});Ee.warn(Wt.message)}}})).apply(this,arguments)}function ie(Ue){return`${Ue.name}!${Ue.options.appId}`}class Pe{constructor(Se){this.container=Se,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new Ot(dt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var Se=this;return(0,p.Z)(function*(){const Wt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=ut();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==un&&!Se._heartbeatsCache.heartbeats.some(In=>In.date===un))return Se._heartbeatsCache.heartbeats.push({date:un,agent:Wt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(In=>{const On=new Date(In.date).valueOf();return Date.now()-On<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,p.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const dt=ut(),{heartbeatsToSend:Wt,unsentEntries:un}=function Rt(Ue,Se=1024){const dt=[];let Wt=Ue.slice();for(const un of Ue){const In=dt.find(On=>On.agent===un.agent);if(In){if(In.dates.push(un.date),Un(dt)>Se){In.dates.pop();break}}else if(dt.push({agent:un.agent,dates:[un.date]}),Un(dt)>Se){dt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Wt}}(Se._heartbeatsCache.heartbeats),In=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Wt}));return Se._heartbeatsCache.lastSentHeartbeatDate=dt,un.length>0?(Se._heartbeatsCache.heartbeats=un,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),In})()}}function ut(){return(new Date).toISOString().substring(0,10)}class Ot{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,p.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function be(Ue){return ye.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var dt=this;return(0,p.Z)(function*(){var Wt;if(yield dt._canUseIndexedDBPromise){const In=yield dt.read();return Mt(dt.app,{lastSentHeartbeatDate:null!==(Wt=Se.lastSentHeartbeatDate)&&void 0!==Wt?Wt:In.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var dt=this;return(0,p.Z)(function*(){var Wt;if(yield dt._canUseIndexedDBPromise){const In=yield dt.read();return Mt(dt.app,{lastSentHeartbeatDate:null!==(Wt=Se.lastSentHeartbeatDate)&&void 0!==Wt?Wt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Se.heartbeats]})}})()}}function Un(Ue){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function ur(Ue){Hn(new W.wA("platform-logger",Se=>new Kt(Se),"PRIVATE")),Hn(new W.wA("heartbeat",Se=>new Pe(Se),"PRIVATE")),De(bt,"0.9.9",Ue),De(bt,"0.9.9","esm2017"),De("fire-js","")}("")},4859:(fn,ct,q)=>{q.d(ct,{H0:()=>It,wA:()=>K});var p=q(5861),W=q(2090);class K{constructor(le,pe,Ae){this.name=le,this.instanceFactory=pe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const Ce="[DEFAULT]";class J{constructor(le,pe){this.name=le,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const pe=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(pe)){const Ae=new W.BH;if(this.instancesDeferred.set(pe,Ae),this.isInitialized(pe)||this.shouldAutoInitialize())try{const Dt=this.getOrInitializeService({instanceIdentifier:pe});Dt&&Ae.resolve(Dt)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(le){var pe;const Ae=this.normalizeInstanceIdentifier(le?.identifier),Dt=null!==(pe=le?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Oe){if(Dt)return null;throw Oe}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Je(st){return"EAGER"===st.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[pe,Ae]of this.instancesDeferred.entries()){const Dt=this.normalizeInstanceIdentifier(pe);try{const Oe=this.getOrInitializeService({instanceIdentifier:Dt});Ae.resolve(Oe)}catch{}}}}clearInstance(le=Ce){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,p.Z)(function*(){const pe=Array.from(le.instances.values());yield Promise.all([...pe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...pe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=Ce){return this.instances.has(le)}getOptions(le=Ce){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:pe={}}=le,Ae=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Dt=this.getOrInitializeService({instanceIdentifier:Ae,options:pe});for(const[Oe,Et]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Oe)&&Et.resolve(Dt);return Dt}onInit(le,pe){var Ae;const Dt=this.normalizeInstanceIdentifier(pe),Oe=null!==(Ae=this.onInitCallbacks.get(Dt))&&void 0!==Ae?Ae:new Set;Oe.add(le),this.onInitCallbacks.set(Dt,Oe);const Et=this.instances.get(Dt);return Et&&le(Et,Dt),()=>{Oe.delete(le)}}invokeOnInitCallbacks(le,pe){const Ae=this.onInitCallbacks.get(pe);if(Ae)for(const Dt of Ae)try{Dt(le,pe)}catch{}}getOrInitializeService({instanceIdentifier:le,options:pe={}}){let Ae=this.instances.get(le);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(st=le,st===Ce?void 0:st),options:pe}),this.instances.set(le,Ae),this.instancesOptions.set(le,pe),this.invokeOnInitCallbacks(Ae,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Ae)}catch{}var st;return Ae||null}normalizeInstanceIdentifier(le=Ce){return this.component?this.component.multipleInstances?le:Ce:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class It{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const pe=this.getProvider(le.name);if(pe.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);pe.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const pe=new J(le,this);return this.providers.set(le,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(fn,ct,q)=>{q.d(ct,{Yd:()=>Je,in:()=>W});const p=[];var W=(()=>{return(le=W||(W={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",W;var le})();const K={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ce=W.INFO,J={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ke=(le,pe,...Ae)=>{if(pe<le.logLevel)return;const Dt=(new Date).toISOString(),Oe=J[pe];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Oe](`[${Dt}]  ${le.name}:`,...Ae)};class Je{constructor(pe){this.name=pe,this._logLevel=Ce,this._logHandler=ke,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in W))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?K[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...pe),this._logHandler(this,W.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...pe),this._logHandler(this,W.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,W.INFO,...pe),this._logHandler(this,W.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,W.WARN,...pe),this._logHandler(this,W.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...pe),this._logHandler(this,W.ERROR,...pe)}}},259:(fn,ct,q)=>{q.d(ct,{C6:()=>p.C6,KN:()=>p.KN,Mq:()=>p.Mq,ZF:()=>p.ZF});var p=q(6881);(0,p.KN)("firebase","9.21.0","app")},7185:(fn,ct,q)=>{q.d(ct,{Rh:()=>He,_W:()=>bt});var p=q(8256),W=q(7340),K=q(7579),Ce=q(6895),J=q(1481);const ke=["toast-component",""];function Je(Ge,pt){if(1&Ge){const he=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(he);const Ze=p.oxw();return p.KtG(Ze.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function It(Ge,pt){if(1&Ge&&(p.ynx(0),p._uU(1),p.BQk()),2&Ge){const he=p.oxw(2);p.xp6(1),p.hij("[",he.duplicatesCount+1,"]")}}function st(Ge,pt){if(1&Ge&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,It,2,1,"ng-container",4),p.qZA()),2&Ge){const he=p.oxw();p.Tol(he.options.titleClass),p.uIk("aria-label",he.title),p.xp6(1),p.hij(" ",he.title," "),p.xp6(1),p.Q6J("ngIf",he.duplicatesCount)}}function le(Ge,pt){if(1&Ge&&p._UZ(0,"div",7),2&Ge){const he=p.oxw();p.Tol(he.options.messageClass),p.Q6J("innerHTML",he.message,p.oJD)}}function pe(Ge,pt){if(1&Ge&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Ge){const he=p.oxw();p.Tol(he.options.messageClass),p.uIk("aria-label",he.message),p.xp6(1),p.hij(" ",he.message," ")}}function Ae(Ge,pt){if(1&Ge&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Ge){const he=p.oxw();p.xp6(1),p.Udp("width",he.width+"%")}}class Be{constructor(pt,he){this.component=pt,this.injector=he}attach(pt,he){return this._attachedHost=pt,pt.attach(this,he)}detach(){const pt=this._attachedHost;if(pt)return this._attachedHost=void 0,pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pt){this._attachedHost=pt}}class ve{attach(pt,he){return this._attachedPortal=pt,this.attachComponentPortal(pt,he)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pt){this._disposeFn=pt}}class Ke{constructor(pt){this._overlayRef=pt,this.duplicatesCount=0,this._afterClosed=new K.x,this._activate=new K.x,this._manualClose=new K.x,this._resetTimeout=new K.x,this._countDuplicate=new K.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pt,he){pt&&this._resetTimeout.next(),he&&this._countDuplicate.next(++this.duplicatesCount)}}class mt{constructor(pt,he,Te,Ze,ht,Nn){this.toastId=pt,this.config=he,this.message=Te,this.title=Ze,this.toastType=ht,this.toastRef=Nn,this._onTap=new K.x,this._onAction=new K.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pt){this._onAction.next(pt)}onAction(){return this._onAction.asObservable()}}const _t=new p.OlP("ToastConfig");class nt extends ve{constructor(pt,he,Te){super(),this._hostDomElement=pt,this._componentFactoryResolver=he,this._appRef=Te}attachComponentPortal(pt,he){const Te=this._componentFactoryResolver.resolveComponentFactory(pt.component);let Ze;return Ze=Te.create(pt.injector),this._appRef.attachView(Ze.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ze.hostView),Ze.destroy()}),he?this._hostDomElement.insertBefore(this._getComponentRootNode(Ze),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ze)),Ze}_getComponentRootNode(pt){return pt.hostView.rootNodes[0]}}class Lt{constructor(pt){this._portalHost=pt}attach(pt,he=!0){return this._portalHost.attach(pt,he)}detach(){return this._portalHost.detach()}}let Kt=(()=>{class Ge{constructor(he){this._document=he}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const he=this._document.createElement("div");he.classList.add("overlay-container"),he.setAttribute("aria-live","polite"),this._document.body.appendChild(he),this._containerElement=he}}return Ge.\u0275fac=function(he){return new(he||Ge)(p.LFG(Ce.K0))},Ge.\u0275prov=p.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})(),Qe=(()=>{class Ge{constructor(he,Te,Ze,ht){this._overlayContainer=he,this._componentFactoryResolver=Te,this._appRef=Ze,this._document=ht,this._paneElements=new Map}create(he,Te){return this._createOverlayRef(this.getPaneElement(he,Te))}getPaneElement(he="",Te){return this._paneElements.get(Te)||this._paneElements.set(Te,{}),this._paneElements.get(Te)[he]||(this._paneElements.get(Te)[he]=this._createPaneElement(he,Te)),this._paneElements.get(Te)[he]}_createPaneElement(he,Te){const Ze=this._document.createElement("div");return Ze.id="toast-container",Ze.classList.add(he),Ze.classList.add("toast-container"),Te?Te.getContainerElement().appendChild(Ze):this._overlayContainer.getContainerElement().appendChild(Ze),Ze}_createPortalHost(he){return new nt(he,this._componentFactoryResolver,this._appRef)}_createOverlayRef(he){return new Lt(this._createPortalHost(he))}}return Ge.\u0275fac=function(he){return new(he||Ge)(p.LFG(Kt),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(Ce.K0))},Ge.\u0275prov=p.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})(),bt=(()=>{class Ge{constructor(he,Te,Ze,ht,Nn){this.overlay=Te,this._injector=Ze,this.sanitizer=ht,this.ngZone=Nn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...he.default,...he.config},he.config.iconClasses&&(this.toastrConfig.iconClasses={...he.default.iconClasses,...he.config.iconClasses})}show(he,Te,Ze={},ht=""){return this._preBuildNotification(ht,he,Te,this.applyConfig(Ze))}success(he,Te,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",he,Te,this.applyConfig(Ze))}error(he,Te,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",he,Te,this.applyConfig(Ze))}info(he,Te,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",he,Te,this.applyConfig(Ze))}warning(he,Te,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",he,Te,this.applyConfig(Ze))}clear(he){for(const Te of this.toasts)if(void 0!==he){if(Te.toastId===he)return void Te.toastRef.manualClose()}else Te.toastRef.manualClose()}remove(he){const Te=this._findToast(he);if(!Te||(Te.activeToast.toastRef.close(),this.toasts.splice(Te.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ze=this.toasts[this.currentlyActive].toastRef;Ze.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ze.activate())}return!0}findDuplicate(he="",Te="",Ze,ht){const{includeTitleDuplicates:Nn}=this.toastrConfig;for(const Dn of this.toasts)if((!Nn||Nn&&Dn.title===he)&&Dn.message===Te)return Dn.toastRef.onDuplicate(Ze,ht),Dn;return null}applyConfig(he={}){return{...this.toastrConfig,...he}}_findToast(he){for(let Te=0;Te<this.toasts.length;Te++)if(this.toasts[Te].toastId===he)return{index:Te,activeToast:this.toasts[Te]};return null}_preBuildNotification(he,Te,Ze,ht){return ht.onActivateTick?this.ngZone.run(()=>this._buildNotification(he,Te,Ze,ht)):this._buildNotification(he,Te,Ze,ht)}_buildNotification(he,Te,Ze,ht){if(!ht.toastComponent)throw new Error("toastComponent required");const Nn=this.findDuplicate(Ze,Te,this.toastrConfig.resetTimeoutOnDuplicate&&ht.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ze||Te)&&this.toastrConfig.preventDuplicates&&null!==Nn)return Nn;this.previousToastMessage=Te;let Dn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Dn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const rn=this.overlay.create(ht.positionClass,this.overlayContainer);this.index=this.index+1;let Jn=Te;Te&&ht.enableHtml&&(Jn=this.sanitizer.sanitize(p.q3G.HTML,Te));const ar=new Ke(rn),ni=new mt(this.index,ht,Jn,Ze,he,ar),Nr=p.zs3.create({providers:[{provide:mt,useValue:ni}],parent:this._injector}),Br=new Be(ht.toastComponent,Nr),Vt=rn.attach(Br,ht.newestOnTop);ar.componentInstance=Vt.instance;const tr={toastId:this.index,title:Ze||"",message:Te||"",toastRef:ar,onShown:ar.afterActivate(),onHidden:ar.afterClosed(),onTap:ni.onTap(),onAction:ni.onAction(),portal:Vt};return Dn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{tr.toastRef.activate()})),this.toasts.push(tr),tr}}return Ge.\u0275fac=function(he){return new(he||Ge)(p.LFG(_t),p.LFG(Qe),p.LFG(p.zs3),p.LFG(J.H7),p.LFG(p.R0b))},Ge.\u0275prov=p.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();const Ee={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ge{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(he,Te,Ze){this.toastrService=he,this.toastPackage=Te,this.ngZone=Ze,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Te.message,this.title=Te.title,this.options=Te.config,this.originalTimeout=Te.config.timeOut,this.toastClasses=`${Te.toastType} ${Te.config.toastClass}`,this.sub=Te.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Te.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Te.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Te.toastRef.countDuplicate().subscribe(ht=>{this.duplicatesCount=ht})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const he=(new Date).getTime();this.width=(this.hideTime-he)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(he,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(he),Te)):this.timeout=setTimeout(()=>he(),Te)}outsideInterval(he,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(he),Te)):this.intervalId=setInterval(()=>he(),Te)}runInsideAngular(he){this.ngZone?this.ngZone.run(()=>he()):he()}}return Ge.\u0275fac=function(he){return new(he||Ge)(p.Y36(bt),p.Y36(mt),p.Y36(p.R0b))},Ge.\u0275cmp=p.Xpm({type:Ge,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(he,Te){1&he&&p.NdJ("click",function(){return Te.tapToast()})("mouseenter",function(){return Te.stickAround()})("mouseleave",function(){return Te.delayedHideToast()}),2&he&&(p.d8E("@flyInOut",Te.state),p.Tol(Te.toastClasses),p.Udp("display",Te.displayStyle))},attrs:ke,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(he,Te){1&he&&(p.YNc(0,Je,3,0,"button",0),p.YNc(1,st,3,5,"div",1),p.YNc(2,le,1,3,"div",2),p.YNc(3,pe,2,4,"div",3),p.YNc(4,Ae,2,2,"div",4)),2&he&&(p.Q6J("ngIf",Te.options.closeButton),p.xp6(1),p.Q6J("ngIf",Te.title),p.xp6(1),p.Q6J("ngIf",Te.message&&Te.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Te.message&&!Te.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Te.options.progressBar))},dependencies:[Ce.O5],encapsulation:2,data:{animation:[(0,W.X$)("flyInOut",[(0,W.SB)("inactive",(0,W.oB)({opacity:0})),(0,W.SB)("active",(0,W.oB)({opacity:1})),(0,W.SB)("removed",(0,W.oB)({opacity:0})),(0,W.eR)("inactive => active",(0,W.jt)("{{ easeTime }}ms {{ easing }}")),(0,W.eR)("active => removed",(0,W.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ge})()};let He=(()=>{class Ge{static forRoot(he={}){return{ngModule:Ge,providers:[{provide:_t,useValue:{default:Ee,config:he}}]}}}return Ge.\u0275fac=function(he){return new(he||Ge)},Ge.\u0275mod=p.oAB({type:Ge}),Ge.\u0275inj=p.cJS({imports:[Ce.ez]}),Ge})()},5861:(fn,ct,q)=>{function p(K,Ce,J,ke,Je,It,st){try{var le=K[It](st),pe=le.value}catch(Ae){return void J(Ae)}le.done?Ce(pe):Promise.resolve(pe).then(ke,Je)}function W(K){return function(){var Ce=this,J=arguments;return new Promise(function(ke,Je){var It=K.apply(Ce,J);function st(pe){p(It,ke,Je,st,le,"next",pe)}function le(pe){p(It,ke,Je,st,le,"throw",pe)}st(void 0)})}}q.d(ct,{Z:()=>W})}},fn=>{fn(fn.s=4662)}]);