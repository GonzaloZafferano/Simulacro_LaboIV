"use strict";(self.webpackChunkSimulacro=self.webpackChunkSimulacro||[]).push([[765],{8814:(g,f,r)=>{r.d(f,{T:()=>u});var u=(()=>{return(o=u||(u={}))[o.terror=0]="terror",o[o.comedia=1]="comedia",o[o.amor=2]="amor",o[o.otros=3]="otros",u;var o})()},3765:(g,f,r)=>{r.r(f),r.d(f,{BusquedaModule:()=>Z});var u=r(6895),o=r(5450),e=r(8256),m=r(7185),l=r(6543),s=r(1738),t=r(2833),c=r(9977),n=r(433);function p(i,h){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",21),e.qZA()),2&i){const a=e.oxw();e.xp6(1),e.Q6J("src",a.rutaFoto,e.LSH)}}let _=(()=>{class i{constructor(a,d){this.peliculaService=a,this.formateo=d,this.limpiar()}ngOnChanges(){this.pelicula&&(this.fechaEstreno=this.formateo.obtenerFechaString(this.pelicula.fechaDeEstreno,!0),this.tipoPelicula=this.formateo.obtenerTipoPeliculaString(this.pelicula),this.id=this.pelicula.id.toString(),this.nombre=this.pelicula.nombre,this.cantidadDePublico=this.pelicula.cantidadPublico.toString(),this.rutaFoto=this.pelicula.rutaFoto,this.nombreActor=null!=this.pelicula.actor?this.pelicula.actor.nombre:"")}limpiar(){this.rutaFoto="",this.nombre="",this.cantidadDePublico="",this.tipoPelicula="",this.fechaEstreno="",this.id="",this.nombreActor=""}borrar(){this.peliculaService.eliminarPeliculaDB(this.pelicula.id),this.limpiar()}modificar(){let a=new s.a;a.id=this.id,a.actor=this.pelicula.actor,a.cantidadPublico=parseInt(this.cantidadDePublico),a.nombre=this.nombre,a.rutaFoto=this.rutaFoto,a.tipoPelicula=this.pelicula.tipoPelicula,a.fechaDeEstreno=this.pelicula.fechaDeEstreno,this.peliculaService.modificarPeliculaDB(a),this.limpiar()}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(t.S),e.Y36(c.D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detalle-pelicula"]],inputs:{pelicula:"pelicula"},features:[e.TTD],decls:39,vars:7,consts:[[1,"container-fluid","bg-dark","text-light"],[1,"text-center"],[1,"form-group"],[1,"d-none"],["for","id",1,"form-label"],["type","hidden","id","id","name","id","disabled","",1,"form-control",3,"value"],["for","nombre",1,"form-label"],["type","text","disabled","","id","nombre","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","tipoPelicula",1,"form-label"],["type","text","id","tipoPelicula","name","tipoPelicula","disabled","",1,"form-control",3,"value"],["for","fechaEstreno",1,"form-label"],["type","date","id","fechaEstreno","name","fechaEstreno","disabled","",1,"form-control",3,"value"],["for","actor",1,"form-label"],["type","text","id","actor","name","actor","disabled","",1,"form-control",3,"value"],["for","cantidadDePublico",1,"form-label"],["type","text","id","cantidadDePublico","name","cantidadDePublico","disabled","",1,"form-control",3,"value"],["for","rutaFoto",1,"form-label"],[4,"ngIf"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-danger","m-2",3,"click"],["type","button",1,"btn","btn-outline-light","m-2",3,"click"],["id","rutaFoto","name","rutaFoto","alt","Imagen no disponible",3,"src"]],template:function(a,d){1&a&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Detalles de pel\xedcula"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Id"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div")(9,"label",6),e._uU(10,"Nombre"),e.qZA(),e.TgZ(11,"input",7),e.NdJ("ngModelChange",function(P){return d.nombre=P}),e.qZA()(),e.TgZ(12,"div")(13,"label",8),e._uU(14,"Tipo de Pel\xedcula"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div")(17,"label",10),e._uU(18,"Fecha de Estreno"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div")(21,"label",12),e._uU(22,"Actor"),e.qZA(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"div")(25,"label",14),e._uU(26,"Cantidad de p\xfablico"),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.TgZ(28,"div")(29,"label",16),e._uU(30,"Foto"),e.qZA(),e.YNc(31,p,2,1,"div",17),e.qZA(),e.TgZ(32,"div",18)(33,"button",19),e.NdJ("click",function(){return d.borrar()}),e._uU(34,"Borrar"),e.qZA(),e.TgZ(35,"button",19),e.NdJ("click",function(){return d.modificar()}),e._uU(36,"Modificar"),e.qZA(),e.TgZ(37,"button",20),e.NdJ("click",function(){return d.limpiar()}),e._uU(38,"Limpiar"),e.qZA()()()()),2&a&&(e.xp6(7),e.Q6J("value",d.id),e.xp6(4),e.Q6J("ngModel",d.nombre),e.xp6(4),e.Q6J("value",d.tipoPelicula),e.xp6(4),e.Q6J("value",d.fechaEstreno),e.xp6(4),e.Q6J("value",d.nombreActor),e.xp6(4),e.Q6J("value",d.cantidadDePublico),e.xp6(4),e.Q6J("ngIf",""!==d.rutaFoto))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.On,n.F],styles:["img[_ngcontent-%COMP%]{height:200px}"]}),i})();const v=[{path:"",component:(()=>{class i{constructor(a){this.toastr=a}obtenerPeliculaSeleccionada(a){this.peliculaSeleccionada=a}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(m._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-busqueda"]],decls:10,vars:1,consts:[[1,"container-fluid","p-0"],[1,""],[3,"OnPeliculaSeleccionada"],[1,"row","my-3"],[1,"col-sm","text-center"],[1,"col-sm"],[3,"pelicula"]],template:function(a,d){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-tabla-pelicula",2),e.NdJ("OnPeliculaSeleccionada",function(P){return d.obtenerPeliculaSeleccionada(P)}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5,"futuro componente"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"app-detalle-pelicula",6),e.qZA(),e.TgZ(8,"div",4),e._uU(9,"Futuro componente"),e.qZA()()()),2&a&&(e.xp6(7),e.Q6J("pelicula",d.peliculaSeleccionada))},dependencies:[l.k,_]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[o.Bz.forChild(v),o.Bz]}),i})(),Z=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,S]}),i})()},482:(g,f,r)=>{r.d(f,{V:()=>m});var u=r(5861),o=r(7187),e=r(8256);let m=(()=>{class l{constructor(t){this.firestore=t}guardarObjeto(t,c){const n=(0,o.hJ)(this.firestore,t),p=(0,o.JU)(n);return c.id=p.id,(0,o.pl)(p,c)}traerListaDeObjetos(t){var c=this;return(0,u.Z)(function*(){const n=(0,o.hJ)(c.firestore,t),p=yield(0,o.PL)(n).then(b=>b),_=[];return p.forEach(b=>{_.push(b.data())}),_})()}traerListaDeObjetosConObservable(t){var c=this;return(0,u.Z)(function*(){const n=(0,o.hJ)(c.firestore,t);return(0,o.BS)(n)})()}modificarObjeto(t,c){const n=(0,o.hJ)(this.firestore,t),p=(0,o.JU)(n,c.id);return(0,o.r7)(p,{...c})}eliminarObjeto(t,c){const n=(0,o.hJ)(this.firestore,t),p=(0,o.JU)(n,c);return(0,o.oe)(p)}}return l.\u0275fac=function(t){return new(t||l)(e.LFG(o.gg))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},9977:(g,f,r)=>{r.d(f,{D:()=>e});var u=r(8814),o=r(8256);let e=(()=>{class m{constructor(){}obtenerFechaString(s,t=!1){if(s){let c=s.toDate(),n=c.getDate(),p=c.getMonth()+1,_=c.getFullYear(),b=n<10?"0"+n.toString():n.toString(),v=p<10?"0"+p.toString():p.toString();return t?_.toString()+"-"+v+"-"+b:b+"-"+v+"-"+_.toString()}return""}obtenerTipoPeliculaString(s){return u.T[s.tipoPelicula]}}return m.\u0275fac=function(s){return new(s||m)},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},7635:(g,f,r)=>{r.d(f,{n:()=>o});var u=r(8256);let o=(()=>{class e{constructor(){}cargarItem(l,s){localStorage.setItem(l,JSON.stringify(s))}obtenerItem(l){let s=localStorage.getItem(l);return null!=s?JSON.parse(s):null}existeItem(l){return null!=this.obtenerItem(l)}}return e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2833:(g,f,r)=>{r.d(f,{S:()=>m});var u=r(8256),o=r(7635),e=r(482);let m=(()=>{class l{constructor(t,c){this.localStorage=t,this.firestoreDB=c,this.nombreLista="peliculas"}obtenerPeliculas(){let t=this.localStorage.obtenerItem("peliculas");return null!=t&&t instanceof Array?t:[]}cargarPeliculas(t){this.localStorage.cargarItem("peliculas",t)}cargarPeliculaDB(t){return this.firestoreDB.guardarObjeto(this.nombreLista,{...t})}obtenerListaDePeliculasDB(){return this.firestoreDB.traerListaDeObjetos(this.nombreLista)}obtenerListadoDePeliculasObservableDB(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreLista)}modificarPeliculaDB(t){return this.firestoreDB.modificarObjeto(this.nombreLista,t)}eliminarPeliculaDB(t){return this.firestoreDB.eliminarObjeto(this.nombreLista,t)}}return l.\u0275fac=function(t){return new(t||l)(u.LFG(o.n),u.LFG(e.V))},l.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);